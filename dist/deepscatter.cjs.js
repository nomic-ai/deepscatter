"use strict";var e="http://www.w3.org/1999/xhtml",t={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(e){var n=e+="",l=n.indexOf(":");return l>=0&&"xmlns"!==(n=e.slice(0,l))&&(e=e.slice(l+1)),t.hasOwnProperty(n)?{space:t[n],local:e}:e}function l(t){return function(){var n=this.ownerDocument,l=this.namespaceURI;return l===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(l,t)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(e){var t=n(e);return(t.local?i:l)(t)}function c(){}function a(e){return null==e?c:function(){return this.querySelector(e)}}function u(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function o(){return[]}function d(e){return null==e?o:function(){return this.querySelectorAll(e)}}function s(e){return function(){return this.matches(e)}}function m(e){return function(t){return t.matches(e)}}var b=Array.prototype.find;function Z(){return this.firstElementChild}var p=Array.prototype.filter;function h(){return Array.from(this.children)}function y(e){return new Array(e.length)}function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function X(e){return function(){return e}}function V(e,t,n,l,i,r){for(var c,a=0,u=t.length,o=r.length;a<o;++a)(c=t[a])?(c.__data__=r[a],l[a]=c):n[a]=new f(e,r[a]);for(;a<u;++a)(c=t[a])&&(i[a]=c)}function W(e,t,n,l,i,r,c){var a,u,o,d=new Map,s=t.length,m=r.length,b=new Array(s);for(a=0;a<s;++a)(u=t[a])&&(b[a]=o=c.call(u,u.__data__,a,t)+"",d.has(o)?i[a]=u:d.set(o,u));for(a=0;a<m;++a)o=c.call(e,r[a],a,r)+"",(u=d.get(o))?(l[a]=u,u.__data__=r[a],d.delete(o)):n[a]=new f(e,r[a]);for(a=0;a<s;++a)(u=t[a])&&d.get(b[a])===u&&(i[a]=u)}function G(e){return e.__data__}function R(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function S(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v(e){return function(){this.removeAttribute(e)}}function L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Y(e,t){return function(){this.setAttribute(e,t)}}function J(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function g(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function H(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function I(e){return function(){this.style.removeProperty(e)}}function U(e,t,n){return function(){this.style.setProperty(e,t,n)}}function K(e,t,n){return function(){var l=t.apply(this,arguments);null==l?this.style.removeProperty(e):this.style.setProperty(e,l,n)}}function N(e,t){return e.style.getPropertyValue(t)||H(e).getComputedStyle(e,null).getPropertyValue(t)}function k(e){return function(){delete this[e]}}function B(e,t){return function(){this[e]=t}}function T(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function F(e){return e.trim().split(/^|\s+/)}function _(e){return e.classList||new w(e)}function w(e){this._node=e,this._names=F(e.getAttribute("class")||"")}function C(e,t){for(var n=_(e),l=-1,i=t.length;++l<i;)n.add(t[l])}function j(e,t){for(var n=_(e),l=-1,i=t.length;++l<i;)n.remove(t[l])}function z(e){return function(){C(this,e)}}function M(e){return function(){j(this,e)}}function Q(e,t){return function(){(t.apply(this,arguments)?C:j)(this,e)}}function P(){this.textContent=""}function E(e){return function(){this.textContent=e}}function O(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function D(){this.innerHTML=""}function A(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(){return null}function ne(){var e=this.parentNode;e&&e.removeChild(this)}function le(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ie(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ce(e){return function(){var t=this.__on;if(t){for(var n,l=0,i=-1,r=t.length;l<r;++l)n=t[l],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function ae(e,t,n){return function(){var l,i=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var c=0,a=i.length;c<a;++c)if((l=i[c]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=r,l.options=n),void(l.value=t);this.addEventListener(e.type,r,n),l={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(l):this.__on=[l]}}function ue(e,t,n){var l=H(e),i=l.CustomEvent;"function"==typeof i?i=new i(t,n):(i=l.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function oe(e,t){return function(){return ue(this,e,t)}}function de(e,t){return function(){return ue(this,e,t.apply(this,arguments))}}f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},w.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var se=[null];function me(e,t){this._groups=e,this._parents=t}function be(){return new me([[document.documentElement]],se)}function Ze(e){return"string"==typeof e?new me([[document.querySelector(e)]],[document.documentElement]):new me([[e]],se)}function pe(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var l=n.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,[(l=l.matrixTransform(t.getScreenCTM().inverse())).x,l.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function he(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ye(e){let t=e,n=e,l=e;function i(e,t,i=0,r=e.length){if(i<r){if(0!==n(t,t))return r;do{const n=i+r>>>1;l(e[n],t)<0?i=n+1:r=n}while(i<r)}return i}return 2!==e.length&&(t=(t,n)=>e(t)-n,n=he,l=(t,n)=>he(e(t),n)),{left:i,center:function(e,n,l=0,r=e.length){const c=i(e,n,l,r-1);return c>l&&t(e[c-1],n)>-t(e[c],n)?c-1:c},right:function(e,t,i=0,r=e.length){if(i<r){if(0!==n(t,t))return r;do{const n=i+r>>>1;l(e[n],t)<=0?i=n+1:r=n}while(i<r)}return i}}}me.prototype=be.prototype={constructor:me,select:function(e){"function"!=typeof e&&(e=a(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,c,u=t[i],o=u.length,d=l[i]=new Array(o),s=0;s<o;++s)(r=u[s])&&(c=e.call(r,r.__data__,s,u))&&("__data__"in r&&(c.__data__=r.__data__),d[s]=c);return new me(l,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return u(e.apply(this,arguments))}}(e):d(e);for(var t=this._groups,n=t.length,l=[],i=[],r=0;r<n;++r)for(var c,a=t[r],o=a.length,s=0;s<o;++s)(c=a[s])&&(l.push(e.call(c,c.__data__,s,a)),i.push(c));return new me(l,i)},selectChild:function(e){return this.select(null==e?Z:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:m(e)))},selectChildren:function(e){return this.selectAll(null==e?h:function(e){return function(){return p.call(this.children,e)}}("function"==typeof e?e:m(e)))},filter:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,c=t[i],a=c.length,u=l[i]=[],o=0;o<a;++o)(r=c[o])&&e.call(r,r.__data__,o,c)&&u.push(r);return new me(l,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,G);var n=t?W:V,l=this._parents,i=this._groups;"function"!=typeof e&&(e=X(e));for(var r=i.length,c=new Array(r),a=new Array(r),u=new Array(r),o=0;o<r;++o){var d=l[o],s=i[o],m=s.length,b=R(e.call(d,d&&d.__data__,o,l)),Z=b.length,p=a[o]=new Array(Z),h=c[o]=new Array(Z),y=u[o]=new Array(m);n(d,s,p,h,y,b,t);for(var f,S,v=0,L=0;v<Z;++v)if(f=p[v]){for(v>=L&&(L=v+1);!(S=h[L])&&++L<Z;);f._next=S||null}}return(c=new me(c,l))._enter=a,c._exit=u,c},enter:function(){return new me(this._enter||this._groups.map(y),this._parents)},exit:function(){return new me(this._exit||this._groups.map(y),this._parents)},join:function(e,t,n){var l=this.enter(),i=this,r=this.exit();return"function"==typeof e?(l=e(l))&&(l=l.selection()):l=l.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?r.remove():n(r),l&&i?l.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,l=t._groups,i=n.length,r=l.length,c=Math.min(i,r),a=new Array(i),u=0;u<c;++u)for(var o,d=n[u],s=l[u],m=d.length,b=a[u]=new Array(m),Z=0;Z<m;++Z)(o=d[Z]||s[Z])&&(b[Z]=o);for(;u<i;++u)a[u]=n[u];return new me(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var l,i=e[t],r=i.length-1,c=i[r];--r>=0;)(l=i[r])&&(c&&4^l.compareDocumentPosition(c)&&c.parentNode.insertBefore(l,c),c=l);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=S);for(var n=this._groups,l=n.length,i=new Array(l),r=0;r<l;++r){for(var c,a=n[r],u=a.length,o=i[r]=new Array(u),d=0;d<u;++d)(c=a[d])&&(o[d]=c);o.sort(t)}return new me(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],i=0,r=l.length;i<r;++i){var c=l[i];if(c)return c}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,l=t.length;n<l;++n)for(var i,r=t[n],c=0,a=r.length;c<a;++c)(i=r[c])&&e.call(i,i.__data__,c,r);return this},attr:function(e,t){var l=n(e);if(arguments.length<2){var i=this.node();return l.local?i.getAttributeNS(l.space,l.local):i.getAttribute(l)}return this.each((null==t?l.local?L:v:"function"==typeof t?l.local?g:x:l.local?J:Y)(l,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?I:"function"==typeof t?K:U)(e,t,null==n?"":n)):N(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?k:"function"==typeof t?T:B)(e,t)):this.node()[e]},classed:function(e,t){var n=F(e+"");if(arguments.length<2){for(var l=_(this.node()),i=-1,r=n.length;++i<r;)if(!l.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Q:t?z:M)(n,t))},text:function(e){return arguments.length?this.each(null==e?P:("function"==typeof e?O:E)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?D:("function"==typeof e?q:A)(e)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(ee)},append:function(e){var t="function"==typeof e?e:r(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:r(e),l=null==t?te:"function"==typeof t?t:a(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),l.apply(this,arguments)||null)}))},remove:function(){return this.each(ne)},clone:function(e){return this.select(e?ie:le)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var l,i,r=re(e+""),c=r.length;if(!(arguments.length<2)){for(a=t?ae:ce,l=0;l<c;++l)this.each(a(r[l],t,n));return this}var a=this.node().__on;if(a)for(var u,o=0,d=a.length;o<d;++o)for(l=0,u=a[o];l<c;++l)if((i=r[l]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?de:oe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l,i=e[t],r=0,c=i.length;r<c;++r)(l=i[r])&&(yield l)}};const fe=ye(he),Xe=fe.right,Ve=fe.left;function We(e,t){let n,l;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=l=i):(n>i&&(n=i),l<i&&(l=i)));else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(void 0===n?r>=r&&(n=l=r):(n>r&&(n=r),l<r&&(l=r)))}return[n,l]}ye((function(e){return null===e?NaN:+e})).center;class Ge{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let l=0;l<this._n&&l<32;l++){const i=t[l],r=e+i,c=Math.abs(e)<Math.abs(i)?e-(r-i):i-(r-e);c&&(t[n++]=c),e=r}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,l,i=this._n,r=0;if(i>0){for(r=e[--i];i>0&&(t=r,n=e[--i],r=t+n,l=n-(r-t),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(n=2*l,t=r+n,n==t-r&&(r=t))}return r}}class Re extends Map{constructor(e,t=ve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,l]of e)this.set(n,l)}get(e){return super.get(Se(this,e))}has(e){return super.has(Se(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const l=t(n);e.has(l)&&(n=e.get(n),e.delete(l));return n}(this,e))}}function Se({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function ve(e){return null!==e&&"object"==typeof e?e.valueOf():e}var Le=Math.sqrt(50),Ye=Math.sqrt(10),Je=Math.sqrt(2);function xe(e,t,n){var l,i,r,c,a=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((l=t<e)&&(i=e,e=t,t=i),0===(c=ge(e,t,n))||!isFinite(c))return[];if(c>0){let n=Math.round(e/c),l=Math.round(t/c);for(n*c<e&&++n,l*c>t&&--l,r=new Array(i=l-n+1);++a<i;)r[a]=(n+a)*c}else{c=-c;let n=Math.round(e*c),l=Math.round(t*c);for(n/c<e&&++n,l/c>t&&--l,r=new Array(i=l-n+1);++a<i;)r[a]=(n+a)/c}return l&&r.reverse(),r}function ge(e,t,n){var l=(t-e)/Math.max(0,n),i=Math.floor(Math.log(l)/Math.LN10),r=l/Math.pow(10,i);return i>=0?(r>=Le?10:r>=Ye?5:r>=Je?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=Le?10:r>=Ye?5:r>=Je?2:1)}function He(e,t){let n;if(void 0===t)for(const l of e)null!=l&&(n<l||void 0===n&&l>=l)&&(n=l);else{let l=-1;for(let i of e)null!=(i=t(i,++l,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Ie(e,t){let n;if(void 0===t)for(const l of e)null!=l&&(n>l||void 0===n&&l>=l)&&(n=l);else{let l=-1;for(let i of e)null!=(i=t(i,++l,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Ue(e,t){let n=0,l=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,l+=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(++n,l+=r)}if(n)return l/n}function Ke(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var l=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(i);++l<i;)r[l]=e+l*n;return r}var Ne,ke=(Ne=Math.random,function(e,t=0,n=e.length){let l=n-(t=+t);for(;l;){const n=Ne()*l--|0,i=e[l+t];e[l+t]=e[n+t],e[n+t]=i}return e});var Be=Math.PI,Te=2*Be,Fe=180/Be,_e=Be/180,we=Math.abs,Ce=Math.cos,je=Math.sin,ze=Math.sqrt;function Me(){}function Qe(e,t){e&&Ee.hasOwnProperty(e.type)&&Ee[e.type](e,t)}var Pe={Feature:function(e,t){Qe(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,l=-1,i=n.length;++l<i;)Qe(n[l].geometry,t)}},Ee={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)e=n[l],t.point(e[0],e[1],e[2])},LineString:function(e,t){Oe(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)Oe(n[l],t,0)},Polygon:function(e,t){De(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)De(n[l],t)},GeometryCollection:function(e,t){for(var n=e.geometries,l=-1,i=n.length;++l<i;)Qe(n[l],t)}};function Oe(e,t,n){var l,i=-1,r=e.length-n;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function De(e,t){var n=-1,l=e.length;for(t.polygonStart();++n<l;)Oe(e[n],t,1);t.polygonEnd()}function Ae(e,t){e&&Pe.hasOwnProperty(e.type)?Pe[e.type](e,t):Qe(e,t)}function qe(e,t,n,l){this.x=e,this.z=t,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function $e(e,t,n,l,i){var r,c,a=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,l,c,o=e[0],d=e[t];if(c=d,we((l=o)[0]-c[0])<1e-6&&we(l[1]-c[1])<1e-6){if(!o[2]&&!d[2]){for(i.lineStart(),r=0;r<t;++r)i.point((o=e[r])[0],o[1]);return void i.lineEnd()}d[0]+=2e-6}a.push(n=new qe(o,e,null,!0)),u.push(n.o=new qe(o,null,n,!1)),a.push(n=new qe(d,e,null,!1)),u.push(n.o=new qe(d,null,n,!0))}})),a.length){for(u.sort(t),et(a),et(u),r=0,c=u.length;r<c;++r)u[r].e=n=!n;for(var o,d,s=a[0];;){for(var m=s,b=!0;m.v;)if((m=m.n)===s)return;o=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(b)for(r=0,c=o.length;r<c;++r)i.point((d=o[r])[0],d[1]);else l(m.x,m.n.x,1,i);m=m.n}else{if(b)for(o=m.p.z,r=o.length-1;r>=0;--r)i.point((d=o[r])[0],d[1]);else l(m.x,m.p.x,-1,i);m=m.p}o=(m=m.o).z,b=!b}while(!m.v);i.lineEnd()}}}function et(e){if(t=e.length){for(var t,n,l=0,i=e[0];++l<t;)i.n=n=e[l],n.p=i,i=n;i.n=n=e[0],n.p=i}}function tt(e,t,n,l){function i(i,r){return e<=i&&i<=n&&t<=r&&r<=l}function r(i,r,a,o){var d=0,s=0;if(null==i||(d=c(i,a))!==(s=c(r,a))||u(i,r)<0^a>0)do{o.point(0===d||3===d?e:n,d>1?l:t)}while((d=(d+a+4)%4)!==s);else o.point(r[0],r[1])}function c(l,i){return we(l[0]-e)<1e-6?i>0?0:3:we(l[0]-n)<1e-6?i>0?2:1:we(l[1]-t)<1e-6?i>0?1:0:i>0?3:2}function a(e,t){return u(e.x,t.x)}function u(e,t){var n=c(e,1),l=c(t,1);return n!==l?n-l:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(c){var u,o,d,s,m,b,Z,p,h,y,f,X,V,W=c,G=(V=[],{point:function(e,t,n){X.push([e,t,n])},lineStart:function(){V.push(X=[])},lineEnd:Me,rejoin:function(){V.length>1&&V.push(V.pop().concat(V.shift()))},result:function(){var e=V;return V=[],X=null,e}}),R={point:S,lineStart:function(){R.point=v,o&&o.push(d=[]);y=!0,h=!1,Z=p=NaN},lineEnd:function(){u&&(v(s,m),b&&h&&G.rejoin(),u.push(G.result()));R.point=S,h&&W.lineEnd()},polygonStart:function(){W=G,u=[],o=[],f=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=o.length;n<i;++n)for(var r,c,a=o[n],u=1,d=a.length,s=a[0],m=s[0],b=s[1];u<d;++u)r=m,c=b,m=(s=a[u])[0],b=s[1],c<=l?b>l&&(m-r)*(l-c)>(b-c)*(e-r)&&++t:b<=l&&(m-r)*(l-c)<(b-c)*(e-r)&&--t;return t}(),n=f&&t,i=(s=u,u=Array.from(function*(e){for(const t of e)yield*t}(s))).length;var s;(n||i)&&(c.polygonStart(),n&&(c.lineStart(),r(null,null,1,c),c.lineEnd()),i&&$e(u,a,t,r,c),c.polygonEnd());W=c,u=o=d=null}};function S(e,t){i(e,t)&&W.point(e,t)}function v(r,c){var a=i(r,c);if(o&&d.push([r,c]),y)s=r,m=c,b=a,y=!1,a&&(W.lineStart(),W.point(r,c));else if(a&&h)W.point(r,c);else{var u=[Z=Math.max(-1e9,Math.min(1e9,Z)),p=Math.max(-1e9,Math.min(1e9,p))],X=[r=Math.max(-1e9,Math.min(1e9,r)),c=Math.max(-1e9,Math.min(1e9,c))];!function(e,t,n,l,i,r){var c,a=e[0],u=e[1],o=0,d=1,s=t[0]-a,m=t[1]-u;if(c=n-a,s||!(c>0)){if(c/=s,s<0){if(c<o)return;c<d&&(d=c)}else if(s>0){if(c>d)return;c>o&&(o=c)}if(c=i-a,s||!(c<0)){if(c/=s,s<0){if(c>d)return;c>o&&(o=c)}else if(s>0){if(c<o)return;c<d&&(d=c)}if(c=l-u,m||!(c>0)){if(c/=m,m<0){if(c<o)return;c<d&&(d=c)}else if(m>0){if(c>d)return;c>o&&(o=c)}if(c=r-u,m||!(c<0)){if(c/=m,m<0){if(c>d)return;c>o&&(o=c)}else if(m>0){if(c<o)return;c<d&&(d=c)}return o>0&&(e[0]=a+o*s,e[1]=u+o*m),d<1&&(t[0]=a+d*s,t[1]=u+d*m),!0}}}}}(u,X,e,t,n,l)?a&&(W.lineStart(),W.point(r,c),f=!1):(h||(W.lineStart(),W.point(u[0],u[1])),W.point(X[0],X[1]),a||W.lineEnd(),f=!1)}Z=r,p=c,h=a}return R}}var nt,lt,it,rt,ct=e=>e,at=new Ge,ut=new Ge,ot={point:Me,lineStart:Me,lineEnd:Me,polygonStart:function(){ot.lineStart=dt,ot.lineEnd=bt},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=Me,at.add(we(ut)),ut=new Ge},result:function(){var e=at/2;return at=new Ge,e}};function dt(){ot.point=st}function st(e,t){ot.point=mt,nt=it=e,lt=rt=t}function mt(e,t){ut.add(rt*e-it*t),it=e,rt=t}function bt(){mt(nt,lt)}var Zt=ot,pt=1/0,ht=pt,yt=-pt,ft=yt;var Xt,Vt,Wt,Gt,Rt={point:function(e,t){e<pt&&(pt=e);e>yt&&(yt=e);t<ht&&(ht=t);t>ft&&(ft=t)},lineStart:Me,lineEnd:Me,polygonStart:Me,polygonEnd:Me,result:function(){var e=[[pt,ht],[yt,ft]];return yt=ft=-(ht=pt=1/0),e}},St=0,vt=0,Lt=0,Yt=0,Jt=0,xt=0,gt=0,Ht=0,It=0,Ut={point:Kt,lineStart:Nt,lineEnd:Tt,polygonStart:function(){Ut.lineStart=Ft,Ut.lineEnd=_t},polygonEnd:function(){Ut.point=Kt,Ut.lineStart=Nt,Ut.lineEnd=Tt},result:function(){var e=It?[gt/It,Ht/It]:xt?[Yt/xt,Jt/xt]:Lt?[St/Lt,vt/Lt]:[NaN,NaN];return St=vt=Lt=Yt=Jt=xt=gt=Ht=It=0,e}};function Kt(e,t){St+=e,vt+=t,++Lt}function Nt(){Ut.point=kt}function kt(e,t){Ut.point=Bt,Kt(Wt=e,Gt=t)}function Bt(e,t){var n=e-Wt,l=t-Gt,i=ze(n*n+l*l);Yt+=i*(Wt+e)/2,Jt+=i*(Gt+t)/2,xt+=i,Kt(Wt=e,Gt=t)}function Tt(){Ut.point=Kt}function Ft(){Ut.point=wt}function _t(){Ct(Xt,Vt)}function wt(e,t){Ut.point=Ct,Kt(Xt=Wt=e,Vt=Gt=t)}function Ct(e,t){var n=e-Wt,l=t-Gt,i=ze(n*n+l*l);Yt+=i*(Wt+e)/2,Jt+=i*(Gt+t)/2,xt+=i,gt+=(i=Gt*e-Wt*t)*(Wt+e),Ht+=i*(Gt+t),It+=3*i,Kt(Wt=e,Gt=t)}var jt=Ut;function zt(e){this._context=e}zt.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Te)}},result:Me};var Mt,Qt,Pt,Et,Ot,Dt=new Ge,At={point:Me,lineStart:function(){At.point=qt},lineEnd:function(){Mt&&$t(Qt,Pt),At.point=Me},polygonStart:function(){Mt=!0},polygonEnd:function(){Mt=null},result:function(){var e=+Dt;return Dt=new Ge,e}};function qt(e,t){At.point=$t,Qt=Et=e,Pt=Ot=t}function $t(e,t){Et-=e,Ot-=t,Dt.add(ze(Et*Et+Ot*Ot)),Et=e,Ot=t}var en=At;function tn(){this._string=[]}function nn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ln(e,t){var n,l,i=4.5;function r(e){return e&&("function"==typeof i&&l.pointRadius(+i.apply(this,arguments)),Ae(e,n(l))),l.result()}return r.area=function(e){return Ae(e,n(Zt)),Zt.result()},r.measure=function(e){return Ae(e,n(en)),en.result()},r.bounds=function(e){return Ae(e,n(Rt)),Rt.result()},r.centroid=function(e){return Ae(e,n(jt)),jt.result()},r.projection=function(t){return arguments.length?(n=null==t?(e=null,ct):(e=t).stream,r):e},r.context=function(e){return arguments.length?(l=null==e?(t=null,new tn):new zt(t=e),"function"!=typeof i&&l.pointRadius(i),r):t},r.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(l.pointRadius(+e),+e),r):i},r.projection(e).context(t)}function rn(){}function cn(e,t,n){var l=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=l&&e.clipExtent(null),Ae(n,e.stream(Rt)),t(Rt.result()),null!=l&&e.clipExtent(l),e}function an(e,t,n){return cn(e,(function(n){var l=t[1][0]-t[0][0],i=t[1][1]-t[0][1],r=Math.min(l/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),c=+t[0][0]+(l-r*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([c,a])}),n)}function un(){var e,t,n,l,i,r,c,a,u=1,o=0,d=0,s=1,m=1,b=0,Z=null,p=1,h=1,y=(a={point:function(e,t){var n=V([e,t]);this.stream.point(n[0],n[1])}},function(e){var t=new rn;for(var n in a)t[n]=a[n];return t.stream=e,t}),f=ct;function X(){return p=u*s,h=u*m,r=c=null,V}function V(n){var l=n[0]*p,i=n[1]*h;if(b){var r=i*e-l*t;l=l*e+i*t,i=r}return[l+o,i+d]}return V.invert=function(n){var l=n[0]-o,i=n[1]-d;if(b){var r=i*e+l*t;l=l*e-i*t,i=r}return[l/p,i/h]},V.stream=function(e){return r&&c===e?r:r=y(f(c=e))},V.postclip=function(e){return arguments.length?(f=e,Z=n=l=i=null,X()):f},V.clipExtent=function(e){return arguments.length?(f=null==e?(Z=n=l=i=null,ct):tt(Z=+e[0][0],n=+e[0][1],l=+e[1][0],i=+e[1][1]),X()):null==Z?null:[[Z,n],[l,i]]},V.scale=function(e){return arguments.length?(u=+e,X()):u},V.translate=function(e){return arguments.length?(o=+e[0],d=+e[1],X()):[o,d]},V.angle=function(n){return arguments.length?(t=je(b=n%360*_e),e=Ce(b),X()):b*Fe},V.reflectX=function(e){return arguments.length?(s=e?-1:1,X()):s<0},V.reflectY=function(e){return arguments.length?(m=e?-1:1,X()):m<0},V.fitExtent=function(e,t){return an(V,e,t)},V.fitSize=function(e,t){return function(e,t,n){return an(e,[[0,0],t],n)}(V,e,t)},V.fitWidth=function(e,t){return function(e,t,n){return cn(e,(function(n){var l=+t,i=l/(n[1][0]-n[0][0]),r=(l-i*(n[1][0]+n[0][0]))/2,c=-i*n[0][1];e.scale(150*i).translate([r,c])}),n)}(V,e,t)},V.fitHeight=function(e,t){return function(e,t,n){return cn(e,(function(n){var l=+t,i=l/(n[1][1]-n[0][1]),r=-i*n[0][0],c=(l-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([r,c])}),n)}(V,e,t)},V}tn.prototype={_radius:4.5,_circle:nn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=nn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},rn.prototype={constructor:rn,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var on="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dn(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})})),t}var sn={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",l=9007199254740991,i="[object Arguments]",r="[object Function]",c="[object Object]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o[i]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o[r]=o["[object Map]"]=o["[object Number]"]=o[c]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var d="object"==typeof on&&on&&on.Object===Object&&on,s="object"==typeof self&&self&&self.Object===Object&&self,m=d||s||Function("return this")(),b=t&&!t.nodeType&&t,Z=b&&e&&!e.nodeType&&e,p=Z&&Z.exports===b,h=p&&d.process,y=function(){try{var e=Z&&Z.require&&Z.require("util").types;return e||h&&h.binding&&h.binding("util")}catch(t){}}(),f=y&&y.isTypedArray;function X(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var V,W,G,R=Array.prototype,S=Function.prototype,v=Object.prototype,L=m["__core-js_shared__"],Y=S.toString,J=v.hasOwnProperty,x=(V=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",g=v.toString,H=Y.call(Object),I=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=p?m.Buffer:void 0,K=m.Symbol,N=m.Uint8Array,k=U?U.allocUnsafe:void 0,B=(W=Object.getPrototypeOf,G=Object,function(e){return W(G(e))}),T=Object.create,F=v.propertyIsEnumerable,_=R.splice,w=K?K.toStringTag:void 0,C=function(){try{var e=Ze(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),j=U?U.isBuffer:void 0,z=Math.max,M=Date.now,Q=Ze(m,"Map"),P=Ze(Object,"create"),E=function(){function e(){}return function(t){if(!Le(t))return{};if(T)return T(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function D(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function q(e){var t=this.__data__=new D(e);this.size=t.size}function $(e,t){var n=We(e),l=!n&&Ve(e),i=!n&&!l&&Re(e),r=!n&&!l&&!i&&Je(e),c=n||l||i||r,a=c?function(e,t){for(var n=-1,l=Array(e);++n<e;)l[n]=t(n);return l}(e.length,String):[],u=a.length;for(var o in e)!t&&!J.call(e,o)||c&&("length"==o||i&&("offset"==o||"parent"==o)||r&&("buffer"==o||"byteLength"==o||"byteOffset"==o)||pe(o,u))||a.push(o);return a}function ee(e,t,n){(void 0!==n&&!Xe(e[t],n)||void 0===n&&!(t in e))&&le(e,t,n)}function te(e,t,n){var l=e[t];J.call(e,t)&&Xe(l,n)&&(void 0!==n||t in e)||le(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(Xe(e[n][0],t))return n;return-1}function le(e,t,n){"__proto__"==t&&C?C(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}O.prototype.clear=function(){this.__data__=P?P(null):{},this.size=0},O.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},O.prototype.get=function(e){var t=this.__data__;if(P){var l=t[e];return l===n?void 0:l}return J.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:J.call(t,e)},O.prototype.set=function(e,t){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=P&&void 0===t?n:t,this},D.prototype.clear=function(){this.__data__=[],this.size=0},D.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),--this.size,!0)},D.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return ne(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,l=ne(n,e);return l<0?(++this.size,n.push([e,t])):n[l][1]=t,this},A.prototype.clear=function(){this.size=0,this.__data__={hash:new O,map:new(Q||D),string:new O}},A.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},A.prototype.get=function(e){return be(this,e).get(e)},A.prototype.has=function(e){return be(this,e).has(e)},A.prototype.set=function(e,t){var n=be(this,e),l=n.size;return n.set(e,t),this.size+=n.size==l?0:1,this},q.prototype.clear=function(){this.__data__=new D,this.size=0},q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},q.prototype.get=function(e){return this.__data__.get(e)},q.prototype.has=function(e){return this.__data__.has(e)},q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof D){var l=n.__data__;if(!Q||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new A(l)}return n.set(e,t),this.size=n.size,this};var ie,re=function(e,t,n){for(var l=-1,i=Object(e),r=n(e),c=r.length;c--;){var a=r[ie?c:++l];if(!1===t(i[a],a,i))break}return e};function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(e){var t=J.call(e,w),n=e[w];try{e[w]=void 0;var l=!0}catch(r){}var i=g.call(e);l&&(t?e[w]=n:delete e[w]);return i}(e):function(e){return g.call(e)}(e)}function ae(e){return Ye(e)&&ce(e)==i}function ue(e){return!(!Le(e)||function(e){return!!x&&x in e}(e))&&(Se(e)?I:a).test(function(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function oe(e){if(!Le(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=he(e),n=[];for(var l in e)("constructor"!=l||!t&&J.call(e,l))&&n.push(l);return n}function de(e,t,n,l,i){e!==t&&re(t,(function(r,a){if(i||(i=new q),Le(r))!function(e,t,n,l,i,r,a){var u=ye(e,n),o=ye(t,n),d=a.get(o);if(d)return void ee(e,n,d);var s=r?r(u,o,n+"",e,t,a):void 0,m=void 0===s;if(m){var b=We(o),Z=!b&&Re(o),p=!b&&!Z&&Je(o);s=o,b||Z||p?We(u)?s=u:Ye(V=u)&&Ge(V)?s=function(e,t){var n=-1,l=e.length;t||(t=Array(l));for(;++n<l;)t[n]=e[n];return t}(u):Z?(m=!1,s=function(e,t){if(t)return e.slice();var n=e.length,l=k?k(n):new e.constructor(n);return e.copy(l),l}(o,!0)):p?(m=!1,h=o,y=!0?(f=h.buffer,X=new f.constructor(f.byteLength),new N(X).set(new N(f)),X):h.buffer,s=new h.constructor(y,h.byteOffset,h.length)):s=[]:function(e){if(!Ye(e)||ce(e)!=c)return!1;var t=B(e);if(null===t)return!0;var n=J.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Y.call(n)==H}(o)||Ve(o)?(s=u,Ve(u)?s=function(e){return function(e,t,n,l){var i=!n;n||(n={});var r=-1,c=t.length;for(;++r<c;){var a=t[r],u=l?l(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?le(n,a,u):te(n,a,u)}return n}(e,xe(e))}(u):Le(u)&&!Se(u)||(s=function(e){return"function"!=typeof e.constructor||he(e)?{}:E(B(e))}(o))):m=!1}var h,y,f,X;var V;m&&(a.set(o,s),i(s,o,l,r,a),a.delete(o));ee(e,n,s)}(e,t,a,n,de,l,i);else{var u=l?l(ye(e,a),r,a+"",e,t,i):void 0;void 0===u&&(u=r),ee(e,a,u)}}),xe)}function se(e,t){return fe(function(e,t,n){return t=z(void 0===t?e.length-1:t,0),function(){for(var l=arguments,i=-1,r=z(l.length-t,0),c=Array(r);++i<r;)c[i]=l[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=l[i];return a[t]=n(c),X(e,this,a)}}(e,t,Ie),e+"")}var me=C?function(e,t){return C(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ie;function be(e,t){var n,l,i=e.__data__;return("string"==(l=typeof(n=t))||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}function pe(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&u.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var fe=function(e){var t=0,n=0;return function(){var l=M(),i=16-(l-n);if(n=l,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(me);function Xe(e,t){return e===t||e!=e&&t!=t}var Ve=ae(function(){return arguments}())?ae:function(e){return Ye(e)&&J.call(e,"callee")&&!F.call(e,"callee")},We=Array.isArray;function Ge(e){return null!=e&&ve(e.length)&&!Se(e)}var Re=j||function(){return!1};function Se(e){if(!Le(e))return!1;var t=ce(e);return t==r||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Le(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Je=f?function(e){return function(t){return e(t)}}(f):function(e){return Ye(e)&&ve(e.length)&&!!o[ce(e)]};function xe(e){return Ge(e)?$(e,!0):oe(e)}var ge,He=(ge=function(e,t,n){de(e,t,n)},se((function(e,t){var n=-1,l=t.length,i=l>1?t[l-1]:void 0,r=l>2?t[2]:void 0;for(i=ge.length>3&&"function"==typeof i?(l--,i):void 0,r&&function(e,t,n){if(!Le(n))return!1;var l=typeof t;return!!("number"==l?Ge(n)&&pe(t,n.length):"string"==l&&t in n)&&Xe(n[t],e)}(t[0],t[1],r)&&(i=l<3?void 0:i,l=1),e=Object(e);++n<l;){var c=t[n];c&&ge(e,c,n,i)}return e})));function Ie(e){return e}e.exports=He}(sn,sn.exports);var mn,bn,Zn=sn.exports,pn=0,hn=0,yn=0,fn=0,Xn=0,Vn=0,Wn="object"==typeof performance&&performance.now?performance:Date,Gn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Rn(){return Xn||(Gn(Sn),Xn=Wn.now()+Vn)}function Sn(){Xn=0}function vn(){this._call=this._time=this._next=null}function Ln(e,t,n){var l=new vn;return l.restart(e,t,n),l}function Yn(){Xn=(fn=Wn.now())+Vn,pn=hn=0;try{!function(){Rn(),++pn;for(var e,t=mn;t;)(e=Xn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--pn}()}finally{pn=0,function(){var e,t,n=mn,l=1/0;for(;n;)n._call?(l>n._time&&(l=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:mn=t);bn=e,xn(l)}(),Xn=0}}function Jn(){var e=Wn.now(),t=e-fn;t>1e3&&(Vn-=t,fn=e)}function xn(e){pn||(hn&&(hn=clearTimeout(hn)),e-Xn>24?(e<1/0&&(hn=setTimeout(Yn,e-Wn.now()-Vn)),yn&&(yn=clearInterval(yn))):(yn||(fn=Wn.now(),yn=setInterval(Jn,1e3)),pn=1,Gn(Yn)))}function gn(e,t,n){var l=new vn;return t=null==t?0:+t,l.restart((n=>{l.stop(),e(n+t)}),t,n),l}vn.prototype=Ln.prototype={constructor:vn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Rn():+n)+(null==t?0:+t),this._next||bn===this||(bn?bn._next=this:mn=this,bn=this),this._call=e,this._time=n,xn()},stop:function(){this._call&&(this._call=null,this._time=1/0,xn())}};var Hn={value:()=>{}};function In(){for(var e,t=0,n=arguments.length,l={};t<n;++t){if(!(e=arguments[t]+"")||e in l||/[\s.]/.test(e))throw new Error("illegal type: "+e);l[e]=[]}return new Un(l)}function Un(e){this._=e}function Kn(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",l=e.indexOf(".");if(l>=0&&(n=e.slice(l+1),e=e.slice(0,l)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Nn(e,t){for(var n,l=0,i=e.length;l<i;++l)if((n=e[l]).name===t)return n.value}function kn(e,t,n){for(var l=0,i=e.length;l<i;++l)if(e[l].name===t){e[l]=Hn,e=e.slice(0,l).concat(e.slice(l+1));break}return null!=n&&e.push({name:t,value:n}),e}Un.prototype=In.prototype={constructor:Un,on:function(e,t){var n,l=this._,i=Kn(e+"",l),r=-1,c=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<c;)if(n=(e=i[r]).type)l[n]=kn(l[n],e.name,t);else if(null==t)for(n in l)l[n]=kn(l[n],e.name,null);return this}for(;++r<c;)if((n=(e=i[r]).type)&&(n=Nn(l[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Un(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,l,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(l=this._[e]).length;r<n;++r)l[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],i=0,r=l.length;i<r;++i)l[i].value.apply(t,n)}};const Bn={capture:!0,passive:!1};function Tn(e){e.preventDefault(),e.stopImmediatePropagation()}function Fn(e){var t=e.document.documentElement,n=Ze(e).on("dragstart.drag",Tn,Bn);"onselectstart"in t?n.on("selectstart.drag",Tn,Bn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function _n(e,t){var n=e.document.documentElement,l=Ze(e).on("dragstart.drag",null);t&&(l.on("click.drag",Tn,Bn),setTimeout((function(){l.on("click.drag",null)}),0)),"onselectstart"in n?l.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function wn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cn(e,t){var n=Object.create(e.prototype);for(var l in t)n[l]=t[l];return n}function jn(){}var zn=1/.7,Mn="\\s*([+-]?\\d+)\\s*",Qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",En=/^#([0-9a-f]{3,8})$/,On=new RegExp("^rgb\\("+[Mn,Mn,Mn]+"\\)$"),Dn=new RegExp("^rgb\\("+[Pn,Pn,Pn]+"\\)$"),An=new RegExp("^rgba\\("+[Mn,Mn,Mn,Qn]+"\\)$"),qn=new RegExp("^rgba\\("+[Pn,Pn,Pn,Qn]+"\\)$"),$n=new RegExp("^hsl\\("+[Qn,Pn,Pn]+"\\)$"),el=new RegExp("^hsla\\("+[Qn,Pn,Pn,Qn]+"\\)$"),tl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nl(){return this.rgb().formatHex()}function ll(){return this.rgb().formatRgb()}function il(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=En.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rl(t):3===n?new ol(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?cl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?cl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=On.exec(e))?new ol(t[1],t[2],t[3],1):(t=Dn.exec(e))?new ol(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=An.exec(e))?cl(t[1],t[2],t[3],t[4]):(t=qn.exec(e))?cl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$n.exec(e))?bl(t[1],t[2]/100,t[3]/100,1):(t=el.exec(e))?bl(t[1],t[2]/100,t[3]/100,t[4]):tl.hasOwnProperty(e)?rl(tl[e]):"transparent"===e?new ol(NaN,NaN,NaN,0):null}function rl(e){return new ol(e>>16&255,e>>8&255,255&e,1)}function cl(e,t,n,l){return l<=0&&(e=t=n=NaN),new ol(e,t,n,l)}function al(e){return e instanceof jn||(e=il(e)),e?new ol((e=e.rgb()).r,e.g,e.b,e.opacity):new ol}function ul(e,t,n,l){return 1===arguments.length?al(e):new ol(e,t,n,null==l?1:l)}function ol(e,t,n,l){this.r=+e,this.g=+t,this.b=+n,this.opacity=+l}function dl(){return"#"+ml(this.r)+ml(this.g)+ml(this.b)}function sl(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ml(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function bl(e,t,n,l){return l<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pl(e,t,n,l)}function Zl(e){if(e instanceof pl)return new pl(e.h,e.s,e.l,e.opacity);if(e instanceof jn||(e=il(e)),!e)return new pl;if(e instanceof pl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,l=e.b/255,i=Math.min(t,n,l),r=Math.max(t,n,l),c=NaN,a=r-i,u=(r+i)/2;return a?(c=t===r?(n-l)/a+6*(n<l):n===r?(l-t)/a+2:(t-n)/a+4,a/=u<.5?r+i:2-r-i,c*=60):a=u>0&&u<1?0:c,new pl(c,a,u,e.opacity)}function pl(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}function hl(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}wn(jn,il,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:nl,formatHex:nl,formatHsl:function(){return Zl(this).formatHsl()},formatRgb:ll,toString:ll}),wn(ol,ul,Cn(jn,{brighter:function(e){return e=null==e?zn:Math.pow(zn,e),new ol(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ol(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dl,formatHex:dl,formatRgb:sl,toString:sl})),wn(pl,(function(e,t,n,l){return 1===arguments.length?Zl(e):new pl(e,t,n,null==l?1:l)}),Cn(jn,{brighter:function(e){return e=null==e?zn:Math.pow(zn,e),new pl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new pl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*t,i=2*n-l;return new ol(hl(e>=240?e-240:e+120,i,l),hl(e,i,l),hl(e<120?e+240:e-120,i,l),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const yl=Math.PI/180,fl=180/Math.PI;var Xl=-.14861,Vl=1.78277,Wl=-.29227,Gl=-.90649,Rl=1.97294,Sl=Rl*Gl,vl=Rl*Vl,Ll=Vl*Wl-Gl*Xl;function Yl(e){if(e instanceof xl)return new xl(e.h,e.s,e.l,e.opacity);e instanceof ol||(e=al(e));var t=e.r/255,n=e.g/255,l=e.b/255,i=(Ll*l+Sl*t-vl*n)/(Ll+Sl-vl),r=l-i,c=(Rl*(n-i)-Wl*r)/Gl,a=Math.sqrt(c*c+r*r)/(Rl*i*(1-i)),u=a?Math.atan2(c,r)*fl-120:NaN;return new xl(u<0?u+360:u,a,i,e.opacity)}function Jl(e,t,n,l){return 1===arguments.length?Yl(e):new xl(e,t,n,null==l?1:l)}function xl(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}wn(xl,Jl,Cn(jn,{brighter:function(e){return e=null==e?zn:Math.pow(zn,e),new xl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new xl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*yl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),l=Math.cos(e),i=Math.sin(e);return new ol(255*(t+n*(Xl*l+Vl*i)),255*(t+n*(Wl*l+Gl*i)),255*(t+n*(Rl*l)),this.opacity)}}));var gl=e=>()=>e;function Hl(e,t){return function(n){return e+n*t}}function Il(e){return 1==(e=+e)?Ul:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}(t,n,e):gl(isNaN(t)?n:t)}}function Ul(e,t){var n=t-e;return n?Hl(e,n):gl(isNaN(e)?t:e)}var Kl=function e(t){var n=Il(t);function l(e,t){var l=n((e=ul(e)).r,(t=ul(t)).r),i=n(e.g,t.g),r=n(e.b,t.b),c=Ul(e.opacity,t.opacity);return function(t){return e.r=l(t),e.g=i(t),e.b=r(t),e.opacity=c(t),e+""}}return l.gamma=e,l}(1);var Nl,kl=(Nl=function(e){var t=e.length-1;return function(n){var l=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[l],r=e[l+1],c=l>0?e[l-1]:2*i-r,a=l<t-1?e[l+2]:2*r-i;return function(e,t,n,l,i){var r=e*e,c=r*e;return((1-3*e+3*r-c)*t+(4-6*r+3*c)*n+(1+3*e+3*r-3*c)*l+c*i)/6}((n-l/t)*t,c,i,r,a)}},function(e){var t,n,l=e.length,i=new Array(l),r=new Array(l),c=new Array(l);for(t=0;t<l;++t)n=ul(e[t]),i[t]=n.r||0,r[t]=n.g||0,c[t]=n.b||0;return i=Nl(i),r=Nl(r),c=Nl(c),n.opacity=1,function(e){return n.r=i(e),n.g=r(e),n.b=c(e),n+""}});function Bl(e,t){t||(t=[]);var n,l=e?Math.min(t.length,e.length):0,i=t.slice();return function(r){for(n=0;n<l;++n)i[n]=e[n]*(1-r)+t[n]*r;return i}}function Tl(e,t){var n,l=t?t.length:0,i=e?Math.min(l,e.length):0,r=new Array(i),c=new Array(l);for(n=0;n<i;++n)r[n]=Ml(e[n],t[n]);for(;n<l;++n)c[n]=t[n];return function(e){for(n=0;n<i;++n)c[n]=r[n](e);return c}}function Fl(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function _l(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wl(e,t){var n,l={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?l[n]=Ml(e[n],t[n]):i[n]=t[n];return function(e){for(n in l)i[n]=l[n](e);return i}}var Cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jl=new RegExp(Cl.source,"g");function zl(e,t){var n,l,i,r=Cl.lastIndex=jl.lastIndex=0,c=-1,a=[],u=[];for(e+="",t+="";(n=Cl.exec(e))&&(l=jl.exec(t));)(i=l.index)>r&&(i=t.slice(r,i),a[c]?a[c]+=i:a[++c]=i),(n=n[0])===(l=l[0])?a[c]?a[c]+=l:a[++c]=l:(a[++c]=null,u.push({i:c,x:_l(n,l)})),r=jl.lastIndex;return r<t.length&&(i=t.slice(r),a[c]?a[c]+=i:a[++c]=i),a.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,l=0;l<t;++l)a[(n=u[l]).i]=n.x(e);return a.join("")})}function Ml(e,t){var n,l,i=typeof t;return null==t||"boolean"===i?gl(t):("number"===i?_l:"string"===i?(n=il(t))?(t=n,Kl):zl:t instanceof il?Kl:t instanceof Date?Fl:(l=t,!ArrayBuffer.isView(l)||l instanceof DataView?Array.isArray(t)?Tl:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?wl:_l:Bl))(e,t)}function Ql(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Pl,El=180/Math.PI,Ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dl(e,t,n,l,i,r){var c,a,u;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(u=e*n+t*l)&&(n-=e*u,l-=t*u),(a=Math.sqrt(n*n+l*l))&&(n/=a,l/=a,u/=a),e*l<t*n&&(e=-e,t=-t,u=-u,c=-c),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*El,skewX:Math.atan(u)*El,scaleX:c,scaleY:a}}function Al(e,t,n,l){function i(e){return e.length?e.pop()+" ":""}return function(r,c){var a=[],u=[];return r=e(r),c=e(c),function(e,l,i,r,c,a){if(e!==i||l!==r){var u=c.push("translate(",null,t,null,n);a.push({i:u-4,x:_l(e,i)},{i:u-2,x:_l(l,r)})}else(i||r)&&c.push("translate("+i+t+r+n)}(r.translateX,r.translateY,c.translateX,c.translateY,a,u),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(i(n)+"rotate(",null,l)-2,x:_l(e,t)})):t&&n.push(i(n)+"rotate("+t+l)}(r.rotate,c.rotate,a,u),function(e,t,n,r){e!==t?r.push({i:n.push(i(n)+"skewX(",null,l)-2,x:_l(e,t)}):t&&n.push(i(n)+"skewX("+t+l)}(r.skewX,c.skewX,a,u),function(e,t,n,l,r,c){if(e!==n||t!==l){var a=r.push(i(r)+"scale(",null,",",null,")");c.push({i:a-4,x:_l(e,n)},{i:a-2,x:_l(t,l)})}else 1===n&&1===l||r.push(i(r)+"scale("+n+","+l+")")}(r.scaleX,r.scaleY,c.scaleX,c.scaleY,a,u),r=c=null,function(e){for(var t,n=-1,l=u.length;++n<l;)a[(t=u[n]).i]=t.x(e);return a.join("")}}}var ql=Al((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ol:Dl(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$l=Al((function(e){return null==e?Ol:(Pl||(Pl=document.createElementNS("http://www.w3.org/2000/svg","g")),Pl.setAttribute("transform",e),(e=Pl.transform.baseVal.consolidate())?Dl((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ol)}),", ",")",")");function ei(e){return((e=Math.exp(e))+1/e)/2}var ti=function e(t,n,l){function i(e,i){var r,c,a=e[0],u=e[1],o=e[2],d=i[0],s=i[1],m=i[2],b=d-a,Z=s-u,p=b*b+Z*Z;if(p<1e-12)c=Math.log(m/o)/t,r=function(e){return[a+e*b,u+e*Z,o*Math.exp(t*e*c)]};else{var h=Math.sqrt(p),y=(m*m-o*o+l*p)/(2*o*n*h),f=(m*m-o*o-l*p)/(2*m*n*h),X=Math.log(Math.sqrt(y*y+1)-y),V=Math.log(Math.sqrt(f*f+1)-f);c=(V-X)/t,r=function(e){var l,i=e*c,r=ei(X),d=o/(n*h)*(r*(l=t*i+X,((l=Math.exp(2*l))-1)/(l+1))-function(e){return((e=Math.exp(e))-1/e)/2}(X));return[a+d*b,u+d*Z,o*r/ei(t*i+X)]}}return r.duration=1e3*c*t/Math.SQRT2,r}return i.rho=function(t){var n=Math.max(.001,+t),l=n*n;return e(n,l,l*l)},i}(Math.SQRT2,2,4);function ni(e){return function t(n){function l(t,l){var i=e((t=Jl(t)).h,(l=Jl(l)).h),r=Ul(t.s,l.s),c=Ul(t.l,l.l),a=Ul(t.opacity,l.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=c(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,l.gamma=t,l}(1)}ni((function(e,t){var n=t-e;return n?Hl(e,n>180||n<-180?n-360*Math.round(n/360):n):gl(isNaN(e)?t:e)}));var li=ni(Ul),ii=In("start","end","cancel","interrupt"),ri=[];function ci(e,t,n,l,i,r){var c=e.__transition;if(c){if(n in c)return}else e.__transition={};!function(e,t,n){var l,i=e.__transition;function r(e){n.state=1,n.timer.restart(c,n.delay,n.time),n.delay<=e&&c(e-n.delay)}function c(r){var o,d,s,m;if(1!==n.state)return u();for(o in i)if((m=i[o]).name===n.name){if(3===m.state)return gn(c);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete i[o]):+o<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete i[o])}if(gn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(r))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,l=new Array(s=n.tween.length),o=0,d=-1;o<s;++o)(m=n.tween[o].value.call(e,e.__data__,n.index,n.group))&&(l[++d]=m);l.length=d+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),r=-1,c=l.length;++r<c;)l[r].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Ln(r,0,n.time)}(e,n,{name:t,index:l,group:i,on:ii,tween:ri,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function ai(e,t){var n=oi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ui(e,t){var n=oi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function oi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function di(e,t){var n,l,i,r=e.__transition,c=!0;if(r){for(i in t=null==t?null:t+"",r)(n=r[i]).name===t?(l=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(l?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):c=!1;c&&delete e.__transition}}function si(e,t){var n,l;return function(){var i=ui(this,e),r=i.tween;if(r!==n)for(var c=0,a=(l=n=r).length;c<a;++c)if(l[c].name===t){(l=l.slice()).splice(c,1);break}i.tween=l}}function mi(e,t,n){var l,i;if("function"!=typeof n)throw new Error;return function(){var r=ui(this,e),c=r.tween;if(c!==l){i=(l=c).slice();for(var a={name:t,value:n},u=0,o=i.length;u<o;++u)if(i[u].name===t){i[u]=a;break}u===o&&i.push(a)}r.tween=i}}function bi(e,t,n){var l=e._id;return e.each((function(){var e=ui(this,l);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return oi(e,l).value[t]}}function Zi(e,t){var n;return("number"==typeof t?_l:t instanceof il?Kl:(n=il(t))?(t=n,Kl):zl)(e,t)}function pi(e){return function(){this.removeAttribute(e)}}function hi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yi(e,t,n){var l,i,r=n+"";return function(){var c=this.getAttribute(e);return c===r?null:c===l?i:i=t(l=c,n)}}function fi(e,t,n){var l,i,r=n+"";return function(){var c=this.getAttributeNS(e.space,e.local);return c===r?null:c===l?i:i=t(l=c,n)}}function Xi(e,t,n){var l,i,r;return function(){var c,a,u=n(this);if(null!=u)return(c=this.getAttribute(e))===(a=u+"")?null:c===l&&a===i?r:(i=a,r=t(l=c,u));this.removeAttribute(e)}}function Vi(e,t,n){var l,i,r;return function(){var c,a,u=n(this);if(null!=u)return(c=this.getAttributeNS(e.space,e.local))===(a=u+"")?null:c===l&&a===i?r:(i=a,r=t(l=c,u));this.removeAttributeNS(e.space,e.local)}}function Wi(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ri(e,t){var n,l;function i(){var i=t.apply(this,arguments);return i!==l&&(n=(l=i)&&Gi(e,i)),n}return i._value=t,i}function Si(e,t){var n,l;function i(){var i=t.apply(this,arguments);return i!==l&&(n=(l=i)&&Wi(e,i)),n}return i._value=t,i}function vi(e,t){return function(){ai(this,e).delay=+t.apply(this,arguments)}}function Li(e,t){return t=+t,function(){ai(this,e).delay=t}}function Yi(e,t){return function(){ui(this,e).duration=+t.apply(this,arguments)}}function Ji(e,t){return t=+t,function(){ui(this,e).duration=t}}function xi(e,t){if("function"!=typeof t)throw new Error;return function(){ui(this,e).ease=t}}function gi(e,t,n){var l,i,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ai:ui;return function(){var c=r(this,e),a=c.on;a!==l&&(i=(l=a).copy()).on(t,n),c.on=i}}var Hi=be.prototype.constructor;function Ii(e){return function(){this.style.removeProperty(e)}}function Ui(e,t,n){return function(l){this.style.setProperty(e,t.call(this,l),n)}}function Ki(e,t,n){var l,i;function r(){var r=t.apply(this,arguments);return r!==i&&(l=(i=r)&&Ui(e,r,n)),l}return r._value=t,r}function Ni(e){return function(t){this.textContent=e.call(this,t)}}function ki(e){var t,n;function l(){var l=e.apply(this,arguments);return l!==n&&(t=(n=l)&&Ni(l)),t}return l._value=e,l}var Bi=0;function Ti(e,t,n,l){this._groups=e,this._parents=t,this._name=n,this._id=l}function Fi(){return++Bi}var _i=be.prototype;Ti.prototype={constructor:Ti,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=a(e));for(var l=this._groups,i=l.length,r=new Array(i),c=0;c<i;++c)for(var u,o,d=l[c],s=d.length,m=r[c]=new Array(s),b=0;b<s;++b)(u=d[b])&&(o=e.call(u,u.__data__,b,d))&&("__data__"in u&&(o.__data__=u.__data__),m[b]=o,ci(m[b],t,n,b,m,oi(u,n)));return new Ti(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d(e));for(var l=this._groups,i=l.length,r=[],c=[],a=0;a<i;++a)for(var u,o=l[a],s=o.length,m=0;m<s;++m)if(u=o[m]){for(var b,Z=e.call(u,u.__data__,m,o),p=oi(u,n),h=0,y=Z.length;h<y;++h)(b=Z[h])&&ci(b,t,n,h,Z,p);r.push(Z),c.push(u)}return new Ti(r,c,t,n)},selectChild:_i.selectChild,selectChildren:_i.selectChildren,filter:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,c=t[i],a=c.length,u=l[i]=[],o=0;o<a;++o)(r=c[o])&&e.call(r,r.__data__,o,c)&&u.push(r);return new Ti(l,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,l=t.length,i=n.length,r=Math.min(l,i),c=new Array(l),a=0;a<r;++a)for(var u,o=t[a],d=n[a],s=o.length,m=c[a]=new Array(s),b=0;b<s;++b)(u=o[b]||d[b])&&(m[b]=u);for(;a<l;++a)c[a]=t[a];return new Ti(c,this._parents,this._name,this._id)},selection:function(){return new Hi(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Fi(),l=this._groups,i=l.length,r=0;r<i;++r)for(var c,a=l[r],u=a.length,o=0;o<u;++o)if(c=a[o]){var d=oi(c,t);ci(c,e,n,o,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ti(l,this._parents,e,n)},call:_i.call,nodes:_i.nodes,node:_i.node,size:_i.size,empty:_i.empty,each:_i.each,on:function(e,t){var n=this._id;return arguments.length<2?oi(this.node(),n).on.on(e):this.each(gi(n,e,t))},attr:function(e,t){var l=n(e),i="transform"===l?$l:Zi;return this.attrTween(e,"function"==typeof t?(l.local?Vi:Xi)(l,i,bi(this,"attr."+e,t)):null==t?(l.local?hi:pi)(l):(l.local?fi:yi)(l,i,t))},attrTween:function(e,t){var l="attr."+e;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==t)return this.tween(l,null);if("function"!=typeof t)throw new Error;var i=n(e);return this.tween(l,(i.local?Ri:Si)(i,t))},style:function(e,t,n){var l="transform"==(e+="")?ql:Zi;return null==t?this.styleTween(e,function(e,t){var n,l,i;return function(){var r=N(this,e),c=(this.style.removeProperty(e),N(this,e));return r===c?null:r===n&&c===l?i:i=t(n=r,l=c)}}(e,l)).on("end.style."+e,Ii(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var l,i,r;return function(){var c=N(this,e),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=N(this,e)),c===u?null:c===l&&u===i?r:(i=u,r=t(l=c,a))}}(e,l,bi(this,"style."+e,t))).each(function(e,t){var n,l,i,r,c="style."+t,a="end."+c;return function(){var u=ui(this,e),o=u.on,d=null==u.value[c]?r||(r=Ii(t)):void 0;o===n&&i===d||(l=(n=o).copy()).on(a,i=d),u.on=l}}(this._id,e)):this.styleTween(e,function(e,t,n){var l,i,r=n+"";return function(){var c=N(this,e);return c===r?null:c===l?i:i=t(l=c,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==t)return this.tween(l,null);if("function"!=typeof t)throw new Error;return this.tween(l,Ki(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(bi(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,ki(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var l,i=oi(this.node(),n).tween,r=0,c=i.length;r<c;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((null==t?si:mi)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vi:Li)(t,e)):oi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Yi:Ji)(t,e)):oi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(xi(t,e)):oi(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ui(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,l=n._id,i=n.size();return new Promise((function(r,c){var a={value:c},u={value:function(){0==--i&&r()}};n.each((function(){var n=ui(this,l),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),n.on=t})),0===i&&r()}))},[Symbol.iterator]:_i[Symbol.iterator]};var wi={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ci(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}be.prototype.interrupt=function(e){return this.each((function(){di(this,e)}))},be.prototype.transition=function(e){var t,n;e instanceof Ti?(t=e._id,e=e._name):(t=Fi(),(n=wi).time=Rn(),e=null==e?null:e+"");for(var l=this._groups,i=l.length,r=0;r<i;++r)for(var c,a=l[r],u=a.length,o=0;o<u;++o)(c=a[o])&&ci(c,e,t,o,a,n||Ci(c,t));return new Ti(l,this._parents,e,t)};var ji=e=>()=>e;function zi(e,{sourceEvent:t,target:n,transform:l,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:i}})}function Mi(e,t,n){this.k=e,this.x=t,this.y=n}Mi.prototype={constructor:Mi,scale:function(e){return 1===e?this:new Mi(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Mi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qi=new Mi(1,0,0);function Pi(e){e.stopImmediatePropagation()}function Ei(e){e.preventDefault(),e.stopImmediatePropagation()}function Oi(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Di(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ai(){return this.__zoom||Qi}function qi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $i(){return navigator.maxTouchPoints||"ontouchstart"in this}function er(e,t,n){var l=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(i>l?(l+i)/2:Math.min(0,l)||Math.max(0,i),c>r?(r+c)/2:Math.min(0,r)||Math.max(0,c))}function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nr(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const lr=Symbol("implicit");function ir(){var e=new Re,t=[],n=[],l=lr;function i(i){let r=e.get(i);if(void 0===r){if(l!==lr)return l;e.set(i,r=t.push(i)-1)}return n[r%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Re;for(const l of n)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(l=e,i):l},i.copy=function(){return ir(t,n).unknown(l)},tr.apply(i,arguments),i}function rr(e){return+e}var cr=[0,1];function ar(e){return e}function ur(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function or(e,t,n){var l=e[0],i=e[1],r=t[0],c=t[1];return i<l?(l=ur(i,l),r=n(c,r)):(l=ur(l,i),r=n(r,c)),function(e){return r(l(e))}}function dr(e,t,n){var l=Math.min(e.length,t.length)-1,i=new Array(l),r=new Array(l),c=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<l;)i[c]=ur(e[c],e[c+1]),r[c]=n(t[c],t[c+1]);return function(t){var n=Xe(e,t,1,l)-1;return r[n](i[n](t))}}function sr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mr(){var e,t,n,l,i,r,c=cr,a=cr,u=Ml,o=ar;function d(){var e,t,n,u=Math.min(c.length,a.length);return o!==ar&&(e=c[0],t=c[u-1],e>t&&(n=e,e=t,t=n),o=function(n){return Math.max(e,Math.min(t,n))}),l=u>2?dr:or,i=r=null,s}function s(t){return null==t||isNaN(t=+t)?n:(i||(i=l(c.map(e),a,u)))(e(o(t)))}return s.invert=function(n){return o(t((r||(r=l(a,c.map(e),_l)))(n)))},s.domain=function(e){return arguments.length?(c=Array.from(e,rr),d()):c.slice()},s.range=function(e){return arguments.length?(a=Array.from(e),d()):a.slice()},s.rangeRound=function(e){return a=Array.from(e),u=Ql,d()},s.clamp=function(e){return arguments.length?(o=!!e||ar,d()):o!==ar},s.interpolate=function(e){return arguments.length?(u=e,d()):u},s.unknown=function(e){return arguments.length?(n=e,s):n},function(n,l){return e=n,t=l,d()}}function br(){return mr()(ar,ar)}function Zr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function pr(e){return(e=Zr(Math.abs(e)))?e[1]:NaN}var hr,yr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fr(e){if(!(t=yr.exec(e)))throw new Error("invalid format: "+e);var t;return new Xr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Xr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Vr(e,t){var n=Zr(e,t);if(!n)return e+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}fr.prototype=Xr.prototype,Xr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Wr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vr(100*e,t),r:Vr,s:function(e,t){var n=Zr(e,t);if(!n)return e+"";var l=n[0],i=n[1],r=i-(hr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,c=l.length;return r===c?l:r>c?l+new Array(r-c+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+Zr(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gr(e){return e}var Rr,Sr,vr,Lr=Array.prototype.map,Yr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jr(e){var t,n,l=void 0===e.grouping||void 0===e.thousands?Gr:(t=Lr.call(e.grouping,Number),n=e.thousands+"",function(e,l){for(var i=e.length,r=[],c=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>l&&(a=Math.max(1,l-u)),r.push(e.substring(i-=a,i+a)),!((u+=a+1)>l));)a=t[c=(c+1)%t.length];return r.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?Gr:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Lr.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",o=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function s(e){var t=(e=fr(e)).fill,n=e.align,s=e.sign,m=e.symbol,b=e.zero,Z=e.width,p=e.comma,h=e.precision,y=e.trim,f=e.type;"n"===f?(p=!0,f="g"):Wr[f]||(void 0===h&&(h=12),y=!0,f="g"),(b||"0"===t&&"="===n)&&(b=!0,t="0",n="=");var X="$"===m?i:"#"===m&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",V="$"===m?r:/[%p]/.test(f)?u:"",W=Wr[f],G=/[defgprs%]/.test(f);function R(e){var i,r,u,m=X,R=V;if("c"===f)R=W(e)+R,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:W(Math.abs(e),h),y&&(e=function(e){e:for(var t,n=e.length,l=1,i=-1;l<n;++l)switch(e[l]){case".":i=t=l;break;case"0":0===i&&(i=l),t=l;break;default:if(!+e[l])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==s&&(S=!1),m=(S?"("===s?s:o:"-"===s||"("===s?"":s)+m,R=("s"===f?Yr[8+hr/3]:"")+R+(S&&"("===s?")":""),G)for(i=-1,r=e.length;++i<r;)if(48>(u=e.charCodeAt(i))||u>57){R=(46===u?c+e.slice(i+1):e.slice(i))+R,e=e.slice(0,i);break}}p&&!b&&(e=l(e,1/0));var v=m.length+e.length+R.length,L=v<Z?new Array(Z-v+1).join(t):"";switch(p&&b&&(e=l(L+e,L.length?Z-R.length:1/0),L=""),n){case"<":e=m+e+R+L;break;case"=":e=m+L+e+R;break;case"^":e=L.slice(0,v=L.length>>1)+m+e+R+L.slice(v);break;default:e=L+m+e+R}return a(e)}return h=void 0===h?6:/[gprs]/.test(f)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),R.toString=function(){return e+""},R}return{format:s,formatPrefix:function(e,t){var n=s(((e=fr(e)).type="f",e)),l=3*Math.max(-8,Math.min(8,Math.floor(pr(t)/3))),i=Math.pow(10,-l),r=Yr[8+l/3];return function(e){return n(i*e)+r}}}}function xr(e,t,n,l){var i,r=function(e,t,n){var l=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),r=l/i;return r>=Le?i*=10:r>=Ye?i*=5:r>=Je&&(i*=2),t<e?-i:i}(e,t,n);switch((l=fr(null==l?",f":l)).type){case"s":var c=Math.max(Math.abs(e),Math.abs(t));return null!=l.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pr(t)/3)))-pr(Math.abs(e)))}(r,c))||(l.precision=i),vr(l,c);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pr(t)-pr(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))))||(l.precision=i-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(i=function(e){return Math.max(0,-pr(Math.abs(e)))}(r))||(l.precision=i-2*("%"===l.type))}return Sr(l)}function gr(e){var t=e.domain;return e.ticks=function(e){var n=t();return xe(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var l=t();return xr(l[0],l[l.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var l,i,r=t(),c=0,a=r.length-1,u=r[c],o=r[a],d=10;for(o<u&&(i=u,u=o,o=i,i=c,c=a,a=i);d-- >0;){if((i=ge(u,o,n))===l)return r[c]=u,r[a]=o,t(r);if(i>0)u=Math.floor(u/i)*i,o=Math.ceil(o/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,o=Math.floor(o*i)/i}l=i}return e},e}function Hr(){var e=br();return e.copy=function(){return sr(e,Hr())},tr.apply(e,arguments),gr(e)}function Ir(e){return Math.log(e)}function Ur(e){return Math.exp(e)}function Kr(e){return-Math.log(-e)}function Nr(e){return-Math.exp(-e)}function kr(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Br(e){return(t,n)=>-e(-t,n)}function Tr(e){const t=e(Ir,Ur),n=t.domain;let l,i,r=10;function c(){return l=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(r),i=function(e){return 10===e?kr:e===Math.E?Math.exp:t=>Math.pow(e,t)}(r),n()[0]<0?(l=Br(l),i=Br(i),e(Kr,Nr)):e(Ir,Ur),t}return t.base=function(e){return arguments.length?(r=+e,c()):r},t.domain=function(e){return arguments.length?(n(e),c()):n()},t.ticks=e=>{const t=n();let c=t[0],a=t[t.length-1];const u=a<c;u&&([c,a]=[a,c]);let o,d,s=l(c),m=l(a);const b=null==e?10:+e;let Z=[];if(!(r%1)&&m-s<b){if(s=Math.floor(s),m=Math.ceil(m),c>0){for(;s<=m;++s)for(o=1;o<r;++o)if(d=s<0?o/i(-s):o*i(s),!(d<c)){if(d>a)break;Z.push(d)}}else for(;s<=m;++s)for(o=r-1;o>=1;--o)if(d=s>0?o/i(-s):o*i(s),!(d<c)){if(d>a)break;Z.push(d)}2*Z.length<b&&(Z=xe(c,a,b))}else Z=xe(s,m,Math.min(m-s,b)).map(i);return u?Z.reverse():Z},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===r?"s":","),"function"!=typeof n&&(r%1||null!=(n=fr(n)).precision||(n.trim=!0),n=Sr(n)),e===1/0)return n;const c=Math.max(1,r*e/t.ticks().length);return e=>{let t=e/i(Math.round(l(e)));return t*r<r-.5&&(t*=r),t<=c?n(e):""}},t.nice=()=>n(function(e,t){var n,l=0,i=(e=e.slice()).length-1,r=e[l],c=e[i];return c<r&&(n=l,l=i,i=n,n=r,r=c,c=n),e[l]=t.floor(r),e[i]=t.ceil(c),e}(n(),{floor:e=>i(Math.floor(l(e))),ceil:e=>i(Math.ceil(l(e)))})),t}function Fr(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _r(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wr(e){return e<0?-e*e:e*e}function Cr(e){var t=e(ar,ar),n=1;function l(){return 1===n?e(ar,ar):.5===n?e(_r,wr):e(Fr(n),Fr(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,l()):n},gr(t)}function jr(){var e=Cr(mr());return e.copy=function(){return sr(e,jr()).exponent(e.exponent())},tr.apply(e,arguments),e}function zr(){var e,t,n,l,i,r=0,c=1,a=ar,u=!1;function o(t){return null==t||isNaN(t=+t)?i:a(0===n?.5:(t=(l(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,l;return arguments.length?([n,l]=t,a=e(n,l),o):[a(0),a(1)]}}return o.domain=function(i){return arguments.length?([r,c]=i,e=l(r=+r),t=l(c=+c),n=e===t?0:1/(t-e),o):[r,c]},o.clamp=function(e){return arguments.length?(u=!!e,o):u},o.interpolator=function(e){return arguments.length?(a=e,o):a},o.range=d(Ml),o.rangeRound=d(Ql),o.unknown=function(e){return arguments.length?(i=e,o):i},function(i){return l=i,e=i(r),t=i(c),n=e===t?0:1/(t-e),o}}function Mr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Qr(){var e=gr(zr()(ar));return e.copy=function(){return Mr(e,Qr())},nr.apply(e,arguments)}function Pr(){var e=Tr(zr()).domain([1,10]);return e.copy=function(){return Mr(e,Pr()).base(e.base())},nr.apply(e,arguments)}function Er(){var e=Cr(zr());return e.copy=function(){return Mr(e,Er()).exponent(e.exponent())},nr.apply(e,arguments)}Rr=Jr({thousands:",",grouping:[3],currency:["$",""]}),Sr=Rr.format,vr=Rr.formatPrefix;class Or{constructor(e,t){this.prefs=t,this.canvas=Ze(e),this.width=+this.canvas.attr("width"),this.height=+this.canvas.attr("height"),this.renderers=new Map}attach_tiles(e){return this.tileSet=e,this.tileSet._zoom=this,this}attach_renderer(e,t){return this.renderers.set(e,t),t.bind_zoom(this),t.zoom.initialize_zoom(),this}zoom_to(e,t=null,n=null,l=4e3){const i=this.scales(),{canvas:r,zoomer:c,width:a,height:u}=this,o=Qi.translate(a/2,u/2).scale(e).translate(-i.x(t),-i.y(n));r.transition().duration(l).call(c.transform,o)}html_annotation(e){Ze(this.canvas.node().parentNode.parentNode).selectAll("div.tooltip").data(e).join((e=>e.append("div").attr("class","tooltip").style("top",0).style("left",0).style("position","absolute").style("z-index",100).style("border-radius","8px").style("padding","10px").style("background","ivory").style("opacity",.75)),(e=>e),(e=>e.html((e=>this.tooltip_html(e.data))))).html((e=>this.tooltip_html(e.data))).style("transform",(e=>`translate(${+e.x+e.dx}px, ${+e.y+e.dy}px)`))}get tooltip_html(){return void 0===this._tooltip_html?Dr:this._tooltip_html}zoom_to_bbox(e,t=4){const n=this.scales(),[l,i]=e.x.map(n.x),[r,c]=e.y.map(n.y),{canvas:a,zoomer:u,width:o,height:d}=this,s=Qi.translate(o/2,d/2).scale(.9/Math.max((i-l)/o,(c-r)/d)).translate(-(l+i)/2,-(r+c)/2);a.transition().duration(1e3*t).call(u.transform,s)}initialize_zoom(){const{width:e,height:t,canvas:n}=this;this.transform=Qi;const l=function(){var e,t,n,l=Oi,i=Di,r=er,c=qi,a=$i,u=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],d=250,s=ti,m=In("start","zoom","end"),b=500,Z=0,p=10;function h(e){e.property("__zoom",Ai).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",v).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new Mi(t,e.x,e.y)}function f(e,t,n){var l=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return l===e.x&&i===e.y?e:new Mi(e.k,l,i)}function X(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function V(e,t,n,l){e.on("start.zoom",(function(){W(this,arguments).event(l).start()})).on("interrupt.zoom end.zoom",(function(){W(this,arguments).event(l).end()})).tween("zoom",(function(){var e=this,r=arguments,c=W(e,r).event(l),a=i.apply(e,r),u=null==n?X(a):"function"==typeof n?n.apply(e,r):n,o=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),d=e.__zoom,m="function"==typeof t?t.apply(e,r):t,b=s(d.invert(u).concat(o/d.k),m.invert(u).concat(o/m.k));return function(e){if(1===e)e=m;else{var t=b(e),n=o/t[2];e=new Mi(n,u[0]-t[0]*n,u[1]-t[1]*n)}c.zoom(null,e)}}))}function W(e,t,n){return!n&&e.__zooming||new G(e,t)}function G(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function R(e,...t){if(l.apply(this,arguments)){var n=W(this,t).event(e),i=this.__zoom,a=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,c.apply(this,arguments)))),d=pe(e);if(n.wheel)n.mouse[0][0]===d[0]&&n.mouse[0][1]===d[1]||(n.mouse[1]=i.invert(n.mouse[0]=d)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[d,i.invert(d)],di(this),n.start()}Ei(e),n.wheel=setTimeout(s,150),n.zoom("mouse",r(f(y(i,a),n.mouse[0],n.mouse[1]),n.extent,o))}function s(){n.wheel=null,n.end()}}function S(e,...t){if(!n&&l.apply(this,arguments)){var i=e.currentTarget,c=W(this,t,!0).event(e),a=Ze(e.view).on("mousemove.zoom",m,!0).on("mouseup.zoom",b,!0),u=pe(e,i),d=e.clientX,s=e.clientY;Fn(e.view),Pi(e),c.mouse=[u,this.__zoom.invert(u)],di(this),c.start()}function m(e){if(Ei(e),!c.moved){var t=e.clientX-d,n=e.clientY-s;c.moved=t*t+n*n>Z}c.event(e).zoom("mouse",r(f(c.that.__zoom,c.mouse[0]=pe(e,i),c.mouse[1]),c.extent,o))}function b(e){a.on("mousemove.zoom mouseup.zoom",null),_n(e.view,c.moved),Ei(e),c.event(e).end()}}function v(e,...t){if(l.apply(this,arguments)){var n=this.__zoom,c=pe(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(c),u=n.k*(e.shiftKey?.5:2),s=r(f(y(n,u),c,a),i.apply(this,t),o);Ei(e),d>0?Ze(this).transition().duration(d).call(V,s,c,e):Ze(this).call(h.transform,s,c,e)}}function L(n,...i){if(l.apply(this,arguments)){var r,c,a,u,o=n.touches,d=o.length,s=W(this,i,n.changedTouches.length===d).event(n);for(Pi(n),c=0;c<d;++c)u=[u=pe(a=o[c],this),this.__zoom.invert(u),a.identifier],s.touch0?s.touch1||s.touch0[2]===u[2]||(s.touch1=u,s.taps=0):(s.touch0=u,r=!0,s.taps=1+!!e);e&&(e=clearTimeout(e)),r&&(s.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),b)),di(this),s.start())}}function Y(e,...t){if(this.__zooming){var n,l,i,c,a=W(this,t).event(e),u=e.changedTouches,d=u.length;for(Ei(e),n=0;n<d;++n)i=pe(l=u[n],this),a.touch0&&a.touch0[2]===l.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===l.identifier&&(a.touch1[0]=i);if(l=a.that.__zoom,a.touch1){var s=a.touch0[0],m=a.touch0[1],b=a.touch1[0],Z=a.touch1[1],p=(p=b[0]-s[0])*p+(p=b[1]-s[1])*p,h=(h=Z[0]-m[0])*h+(h=Z[1]-m[1])*h;l=y(l,Math.sqrt(p/h)),i=[(s[0]+b[0])/2,(s[1]+b[1])/2],c=[(m[0]+Z[0])/2,(m[1]+Z[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],c=a.touch0[1]}a.zoom("touch",r(f(l,i,c),a.extent,o))}}function J(e,...l){if(this.__zooming){var i,r,c=W(this,l).event(e),a=e.changedTouches,u=a.length;for(Pi(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),b),i=0;i<u;++i)r=a[i],c.touch0&&c.touch0[2]===r.identifier?delete c.touch0:c.touch1&&c.touch1[2]===r.identifier&&delete c.touch1;if(c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0)c.touch0[1]=this.__zoom.invert(c.touch0[0]);else if(c.end(),2===c.taps&&(r=pe(r,this),Math.hypot(t[0]-r[0],t[1]-r[1])<p)){var o=Ze(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return h.transform=function(e,t,n,l){var i=e.selection?e.selection():e;i.property("__zoom",Ai),e!==i?V(e,t,n,l):i.interrupt().each((function(){W(this,arguments).event(l).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},h.scaleBy=function(e,t,n,l){h.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,l)},h.scaleTo=function(e,t,n,l){h.transform(e,(function(){var e=i.apply(this,arguments),l=this.__zoom,c=null==n?X(e):"function"==typeof n?n.apply(this,arguments):n,a=l.invert(c),u="function"==typeof t?t.apply(this,arguments):t;return r(f(y(l,u),c,a),e,o)}),n,l)},h.translateBy=function(e,t,n,l){h.transform(e,(function(){return r(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),o)}),null,l)},h.translateTo=function(e,t,n,l,c){h.transform(e,(function(){var e=i.apply(this,arguments),c=this.__zoom,a=null==l?X(e):"function"==typeof l?l.apply(this,arguments):l;return r(Qi.translate(a[0],a[1]).scale(c.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,o)}),l,c)},G.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ze(this.that).datum();m.call(e,this.that,new zi(e,{sourceEvent:this.sourceEvent,target:h,type:e,transform:this.that.__zoom,dispatch:m}),t)}},h.wheelDelta=function(e){return arguments.length?(c="function"==typeof e?e:ji(+e),h):c},h.filter=function(e){return arguments.length?(l="function"==typeof e?e:ji(!!e),h):l},h.touchable=function(e){return arguments.length?(a="function"==typeof e?e:ji(!!e),h):a},h.extent=function(e){return arguments.length?(i="function"==typeof e?e:ji([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):i},h.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],h):[u[0],u[1]]},h.translateExtent=function(e){return arguments.length?(o[0][0]=+e[0][0],o[1][0]=+e[1][0],o[0][1]=+e[0][1],o[1][1]=+e[1][1],h):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},h.constrain=function(e){return arguments.length?(r=e,h):r},h.duration=function(e){return arguments.length?(d=+e,h):d},h.interpolate=function(e){return arguments.length?(s=e,h):s},h.on=function(){var e=m.on.apply(m,arguments);return e===m?h:e},h.clickDistance=function(e){return arguments.length?(Z=(e=+e)*e,h):Math.sqrt(Z)},h.tapDistance=function(e){return arguments.length?(p=+e,h):p},h}().scaleExtent([1/3,1e5]).extent([[0,0],[e,t]]).on("zoom",(e=>{this.transform=e.transform,this.restart_timer(1e4)}));n.call(l),this.add_mouseover(),this.zoomer=l}add_mouseover(){let e=0;const t=this.renderers.get("regl"),n=t.aes.dim("x").current,l=t.aes.dim("y").current;this.canvas.on("mousemove",(i=>{if(Date.now()-e<50)return;e=Date.now();const r=t.color_pick(i.layerX,i.layerY),c=r?[r]:[],a=c[0],u=a?[{x:i.layerX,y:i.layerY,data:a,dx:0,dy:30}]:[];if(!a)return;const{x_:o,y_:d}=this.scales();u.length&&this.html_annotation(u),Ze("#deepscatter-svg").selectAll("circle.label").data(c,(e=>e.ix)).join((e=>e.append("circle").attr("class","label").attr("stroke","#110022").attr("r",12).attr("fill",(e=>this.renderers.get("regl").aes.dim("color").current.apply(e))).attr("cx",(e=>o(n.value_for(e)))).attr("cy",(e=>d(l.value_for(e))))),(e=>e.attr("fill",(e=>this.renderers.get("regl").aes.dim("color").current.apply(e)))),(e=>e.call((e=>e.remove())))).on("click",((e,t)=>{this.renderers.get("regl").click_function(t,e)}))}))}current_corners(){const{width:e,height:t}=this,n=this.scales();if(void 0===n)return;const{x_:l,y_:i}=n;return{x:[l.invert(0),l.invert(e)],y:[i.invert(0),i.invert(t)]}}current_center(){const{x:e,y:t}=this.current_corners();return[(e[0]+e[1])/2,(t[0]+t[1])/2]}restart_timer(e=1e4){let t=Date.now()+e;this._timer&&(this._timer.stop_at>t&&(t=this._timer.stop_at),this._timer.stop());const n=Ln(this.tick.bind(this));return this._timer=n,this._timer.stop_at=t,this._timer}data(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}scales(e=!0){if(this._scales)return this._scales.x_=this.transform.rescaleX(this._scales.x),this._scales.y_=this.transform.rescaleY(this._scales.y),this._scales;const{width:t,height:n}=this,{extent:l}=this.tileSet,i={};if(void 0===l)return;const r={};for(const[s,m]of[["x",t],["y",n]]){const e=l[s],t=e[1]-e[0];r[s]={limits:e,size_range:t,pixels_per_unit:m/t}}const c=r.x.pixels_per_unit/r.y.pixels_per_unit;let a=0,u=0,o=t,d=n;return c>1?(o=t/c,a=(t-o)/2):(d=n*c,u=(n-d)/2),i.x=Hr().domain(r.x.limits).range([a,t-a]),i.y=Hr().domain(r.y.limits).range([u,n-u]),i.x_=this.transform.rescaleX(i.x),i.y_=this.transform.rescaleY(i.y),this._scales=i,i}webgl_scale(e=!0){const{x:t,y:n}=this.scales();return function(e,t){function n(e){return e[1]-e[0]}const l=Ue(e.domain()),i=Ue(t.domain()),r=n(e.range())/n(e.domain()),c=n(t.range())/n(t.domain());return[[r,0,-r*l+Ue(e.range())],[0,c,-c*i+Ue(t.range())],[0,0,1]]}(t,n).flat()}tick(e=!1){this._start=this._start||Date.now(),!0!==e&&this._timer&&this._timer.stop_at<=Date.now()&&this._timer.stop()}}function Dr(e,t=null){let n="<dl>";const l=new Set(["x","y","ix","bookstack",null,"tile_key"]);for(const[i,r]of e.entries()){if(null!==t){if(!t.has(i))continue}else{if(l.has(i))continue;if(i.match(/_dict_index/))continue;if(null===r)continue;if(""===r)continue}n+=`<dt>${i}</dt>`,n+=`<dd>${r}<dd>`}return`${n}</dl>`}var Ar={exports:{}},qr=Ar.exports=function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),l=0;l<n.length;++l)e[n[l]]=t[n[l]];return e},n="\n";function l(e){return"undefined"!=typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function r(e,t){e||i(t)}function c(e){return e?": "+e:""}function a(e,t,n){e in t||i("unknown parameter ("+e+")"+c(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+c(n)+". must be a typed array")}function o(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function d(e,t,n){o(e,t)||i("invalid parameter type"+c(n)+". expected "+t+", got "+typeof e)}function s(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+c(t)+". must be a nonnegative integer")}function m(e,t,n){t.indexOf(e)<0&&i("invalid value"+c(n)+". must be one of: "+t)}var b=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function Z(e){Object.keys(e).forEach((function(e){b.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+b)}))}function p(e,t){for(e+="";e.length<t;)e=" "+e;return e}function h(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function f(e,t,n){this.file=e,this.line=t,this.message=n}function X(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var l=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return l?l[1]:"unknown"}function V(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var l=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return l?l[1]:"unknown"}function W(e,t){var n=e.split("\n"),i=1,r=0,c={unknown:new h,0:new h};c.unknown.name=c[0].name=t||X(),c.unknown.lines.push(new y(0,""));for(var a=0;a<n.length;++a){var u=n[a],o=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(o)switch(o[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(o[2]);d&&(i=0|d[1],d[2]&&((r=0|d[2])in c||(c[r]=new h)));break;case"define":var s=/SHADER_NAME(_B64)?\s+(.*)$/.exec(o[2]);s&&(c[r].name=s[1]?l(s[2]):s[2])}c[r].lines.push(new y(i++,u))}return Object.keys(c).forEach((function(e){var t=c[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),c}function G(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new f(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new f("unknown",0,e))}})),t}function R(e,t){t.forEach((function(t){var n=e[t.file];if(n){var l=n.index[t.line];if(l)return l.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,l,i,c){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";H(l,"string",u+" shader source must be a string",c);var o=W(l,c),d=G(a);R(o,d),Object.keys(o).forEach((function(e){var t=o[e];if(t.hasErrors){var l=[""],i=[""];r("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){r(p(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),r(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(l){var i=l.message,c=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(c){var a=c[1];i=c[2],"assign"===a&&(a="="),t=Math.max(e.line.indexOf(a,t),0)}else t=0;r(p("| ",6)),r(p("^^^",t+3)+n,"font-weight:bold"),r(p("| ",6)),r(i+n,"font-weight:bold")})),r(p("| ",6)+n)}else r(p(e.number,4)+"|  "),r(e.line+n,"color:red")})),"undefined"==typeof document||window.chrome?console.log(l.join("")):(i[0]=l.join("%c"),console.log.apply(console,i))}function r(e,t){l.push(e),i.push(t||"")}})),r.raise("Error compiling "+u+" shader, "+o[0].name)}}function v(e,t,l,i,c){if(!e.getProgramParameter(t,e.LINK_STATUS)){var a=e.getProgramInfoLog(t),u=W(l,c),o='Error linking program with vertex shader, "'+W(i,c)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+o+n+"%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(o+n+a),r.raise(o)}}function L(e){e._commandRef=X()}function Y(e,t,n,l){function i(e){return e?l.id(e):0}function r(e,t){Object.keys(t).forEach((function(t){e[l.id(t)]=!0}))}L(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var c=e._uniformSet={};r(c,t.static),r(c,t.dynamic);var a=e._attributeSet={};r(a,n.static),r(a,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function J(e,t){var n=V();i(e+" in command "+(t||X())+("unknown"===n?"":" called from "+n))}function x(e,t,n){e||J(t,n||X())}function g(e,t,n,l){e in t||J("unknown parameter ("+e+")"+c(n)+". possible values: "+Object.keys(t).join(),l||X())}function H(e,t,n,l){o(e,t)||J("invalid parameter type"+c(n)+". expected "+t+", got "+typeof e,l||X())}function I(e){e()}function U(e,t,n){e.texture?m(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):m(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var K=33071,N=9728,k=9984,B=9985,T=9986,F=9987,_=5121,w=5122,C=5123,j=5124,z=5125,M=5126,Q=32819,P=32820,E=33635,O=34042,D=36193,A={};function q(e,t){return e===P||e===Q||e===E?2:e===O?4:A[e]*t}function $(e){return!(e&e-1||!e)}function ee(e,t,n){var l,i=t.width,c=t.height,a=t.channels;r(i>0&&i<=n.maxTextureSize&&c>0&&c<=n.maxTextureSize,"invalid texture shape"),e.wrapS===K&&e.wrapT===K||r($(i)&&$(c),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==c&&r(e.minFilter!==k&&e.minFilter!==T&&e.minFilter!==B&&e.minFilter!==F,"min filter requires mipmap"):(r($(i)&&$(c),"texture must be a square power of 2 to support mipmapping"),r(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===M&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(e.minFilter===N&&e.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),r(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(l=0;l<16;++l)if(u[l]){var o=i>>l,d=c>>l;r(t.mipmask&1<<l,"missing mipmap data");var s=u[l];if(r(s.width===o&&s.height===d,"invalid shape for mip images"),r(s.format===t.format&&s.internalformat===t.internalformat&&s.type===t.type,"incompatible type for mip image"),s.compressed);else if(s.data){var m=Math.ceil(q(s.type,a)*o/s.unpackAlignment)*s.unpackAlignment;r(s.data.byteLength===m*d,"invalid data for image, buffer size is inconsistent with image format")}else s.element||s.copy}else e.genMipmaps||r(0==(t.mipmask&1<<l),"extra mipmap data");t.compressed&&r(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,l){var i=e.width,c=e.height,a=e.channels;r(i>0&&i<=l.maxTextureSize&&c>0&&c<=l.maxTextureSize,"invalid texture shape"),r(i===c,"cube map must be square"),r(t.wrapS===K&&t.wrapT===K,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var o=n[u];r(o.width===i&&o.height===c,"inconsistent cube map face shape"),t.genMipmaps&&(r(!o.compressed,"can not generate mipmap for compressed textures"),r(1===o.mipmask,"can not specify mipmaps and generate mipmaps"));for(var d=o.images,s=0;s<16;++s){var m=d[s];if(m){var b=i>>s,Z=c>>s;r(o.mipmask&1<<s,"missing mipmap data"),r(m.width===b&&m.height===Z,"invalid shape for mip images"),r(m.format===e.format&&m.internalformat===e.internalformat&&m.type===e.type,"incompatible type for mip image"),m.compressed||(m.data?r(m.data.byteLength===b*Z*Math.max(q(m.type,a),m.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):m.element||m.copy)}}}}A[5120]=A[_]=1,A[w]=A[C]=A[D]=A[E]=A[Q]=A[P]=2,A[j]=A[z]=A[M]=A[O]=4;var ne=t(r,{optional:I,raise:i,commandRaise:J,command:x,parameter:a,commandParameter:g,constructor:Z,type:d,commandType:H,isTypedArray:u,nni:s,oneOf:m,shaderError:S,linkError:v,callSite:V,saveCommandRef:L,saveDrawInfo:Y,framebufferFormat:U,guessCommand:X,texture2D:ee,textureCube:te}),le=0,ie=0,re=5,ce=6;function ae(e,t){this.id=le++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function oe(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var l=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(l)return oe(e.substr(0,l.index)).concat(oe(l[1])).concat(oe(e.substr(l.index+l[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var r=[],c=0;c<i.length;++c)r=r.concat(oe(i[c]));return r}function de(e){return"["+oe(e).join("][")+"]"}function se(e,t){return new ae(e,de(t+""))}function me(e){return"function"==typeof e&&!e._reglType||e instanceof ae}function be(e,t){return"function"==typeof e?new ae(ie,e):"number"==typeof e||"boolean"==typeof e?new ae(re,e):Array.isArray(e)?new ae(ce,e.map((function(e,n){return be(e,t+"["+n+"]")}))):e instanceof ae?e:void ne(!1,"invalid option type in uniform "+t)}var Ze={DynamicVariable:ae,define:se,isDynamic:me,unbox:be,accessor:de},pe={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},he="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ye(){var e={"":0},t=[""];return{id:function(n){var l=e[n];return l||(l=e[n]=t.length,t.push(n),l)},str:function(e){return t[e]}}}function fe(e,n,l){var i,r=document.createElement("canvas");function c(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=r.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}r.width=l*t,r.height=l*n}function a(){i?i.disconnect():window.removeEventListener("resize",c),e.removeChild(r)}return t(r.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(r),e===document.body&&(r.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(c)}))).observe(e):window.addEventListener("resize",c,!1),c(),{canvas:r,onDestroy:a}}function Xe(e,t){function n(n){try{return e.getContext(n,t)}catch(l){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function Ve(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function We(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function Ge(e){return"string"==typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function Re(e){return"string"==typeof e?(ne("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,l,i,r=e||{},c={},a=[],u=[],o="undefined"==typeof window?1:window.devicePixelRatio,d=!1,s=function(e){e&&ne.raise(e)},m=function(){};if("string"==typeof r?(ne("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(r),ne(t,"invalid query string for element")):"object"==typeof r?Ve(r)?t=r:We(r)?l=(i=r).canvas:(ne.constructor(r),"gl"in r?i=r.gl:"canvas"in r?l=Re(r.canvas):"container"in r&&(n=Re(r.container)),"attributes"in r&&(c=r.attributes,ne.type(c,"object","invalid context attributes")),"extensions"in r&&(a=Ge(r.extensions)),"optionalExtensions"in r&&(u=Ge(r.optionalExtensions)),"onDone"in r&&(ne.type(r.onDone,"function","invalid or missing onDone callback"),s=r.onDone),"profile"in r&&(d=!!r.profile),"pixelRatio"in r&&(o=+r.pixelRatio,ne(o>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?l=t:n=t),!i){if(!l){ne("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var b=fe(n||document.body,s,o);if(!b)return null;l=b.canvas,m=b.onDestroy}void 0===c.premultipliedAlpha&&(c.premultipliedAlpha=!0),i=Xe(l,c)}return i?{gl:i,canvas:l,container:n,extensions:a,optionalExtensions:u,pixelRatio:o,profile:d,onDone:s,onDestroy:m}:(m(),s("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ve(e,t){var n={};function l(t){ne.type(t,"string","extension name must be string");var l,i=t.toLowerCase();try{l=n[i]=e.getExtension(i)}catch(r){}return!!l}for(var i=0;i<t.extensions.length;++i){var r=t.extensions[i];if(!l(r))return t.onDestroy(),t.onDone('"'+r+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(l),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!l(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Le(e,t){for(var n=Array(e),l=0;l<e;++l)n[l]=t(l);return n}var Ye=5120,Je=5121,xe=5122,ge=5123,He=5124,Ie=5125,Ue=5126;function Ke(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Ne(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function ke(){var e=Le(8,(function(){return[]}));function t(t){var n=Ke(t),l=e[Ne(n)>>2];return l.length>0?l.pop():new ArrayBuffer(n)}function n(t){e[Ne(t.byteLength)>>2].push(t)}function l(e,n){var l=null;switch(e){case Ye:l=new Int8Array(t(n),0,n);break;case Je:l=new Uint8Array(t(n),0,n);break;case xe:l=new Int16Array(t(2*n),0,n);break;case ge:l=new Uint16Array(t(2*n),0,n);break;case He:l=new Int32Array(t(4*n),0,n);break;case Ie:l=new Uint32Array(t(4*n),0,n);break;case Ue:l=new Float32Array(t(4*n),0,n);break;default:return null}return l.length!==n?l.subarray(0,n):l}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:l,freeType:i}}var Be=ke();Be.zero=ke();var Te=3408,Fe=3410,_e=3411,we=3412,Ce=3413,je=3414,ze=3415,Me=33901,Qe=33902,Pe=3379,Ee=3386,Oe=34921,De=36347,Ae=36348,qe=35661,$e=35660,et=34930,tt=36349,nt=34076,lt=34024,it=7936,rt=7937,ct=7938,at=35724,ut=34047,ot=36063,dt=34852,st=3553,mt=34067,bt=34069,Zt=33984,pt=6408,ht=5126,yt=5121,ft=36160,Xt=36053,Vt=36064,Wt=16384,Gt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var l=1,i=1;t.webgl_draw_buffers&&(l=e.getParameter(dt),i=e.getParameter(ot));var r=!!t.oes_texture_float;if(r){var c=e.createTexture();e.bindTexture(st,c),e.texImage2D(st,0,pt,1,1,0,pt,ht,null);var a=e.createFramebuffer();if(e.bindFramebuffer(ft,a),e.framebufferTexture2D(ft,Vt,st,c,0),e.bindTexture(st,null),e.checkFramebufferStatus(ft)!==Xt)r=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(Wt);var u=Be.allocType(ht,4);e.readPixels(0,0,1,1,pt,ht,u),e.getError()?r=!1:(e.deleteFramebuffer(a),e.deleteTexture(c),r=1===u[0]),Be.freeType(u)}}var o=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var d=e.createTexture(),s=Be.allocType(yt,36);e.activeTexture(Zt),e.bindTexture(mt,d),e.texImage2D(bt,0,pt,3,3,0,pt,yt,s),Be.freeType(s),e.bindTexture(mt,null),e.deleteTexture(d),o=!e.getError()}return{colorBits:[e.getParameter(Fe),e.getParameter(_e),e.getParameter(we),e.getParameter(Ce)],depthBits:e.getParameter(je),stencilBits:e.getParameter(ze),subpixelBits:e.getParameter(Te),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:l,maxColorAttachments:i,pointSizeDims:e.getParameter(Me),lineWidthDims:e.getParameter(Qe),maxViewportDims:e.getParameter(Ee),maxCombinedTextureUnits:e.getParameter(qe),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(lt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Pe),maxAttributes:e.getParameter(Oe),maxVertexUniforms:e.getParameter(De),maxVertexTextureUnits:e.getParameter($e),maxVaryingVectors:e.getParameter(Ae),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(at),renderer:e.getParameter(rt),vendor:e.getParameter(it),version:e.getParameter(ct),readFloat:r,npotTextureCube:o}};function Rt(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},vt={shape:Ht,flatten:gt};function Lt(e,t,n){for(var l=0;l<t;++l)n[l]=e[l]}function Yt(e,t,n,l){for(var i=0,r=0;r<t;++r)for(var c=e[r],a=0;a<n;++a)l[i++]=c[a]}function Jt(e,t,n,l,i,r){for(var c=r,a=0;a<t;++a)for(var u=e[a],o=0;o<n;++o)for(var d=u[o],s=0;s<l;++s)i[c++]=d[s]}function xt(e,t,n,l,i){for(var r=1,c=n+1;c<t.length;++c)r*=t[c];var a=t[n];if(t.length-n==4){var u=t[n+1],o=t[n+2],d=t[n+3];for(c=0;c<a;++c)Jt(e[c],u,o,d,l,i),i+=r}else for(c=0;c<a;++c)xt(e[c],t,n+1,l,i),i+=r}function gt(e,t,n,l){var i=1;if(t.length)for(var r=0;r<t.length;++r)i*=t[r];else i=0;var c=l||Be.allocType(n,i);switch(t.length){case 0:break;case 1:Lt(e,t[0],c);break;case 2:Yt(e,t[0],t[1],c);break;case 3:Jt(e,t[0],t[1],t[2],c,0);break;default:xt(e,t,0,c,0)}return c}function Ht(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var It={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ut={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Kt={dynamic:35048,stream:35040,static:35044},Nt=vt.flatten,kt=vt.shape,Bt=35044,Tt=35040,Ft=5121,_t=5126,wt=[];function Ct(e){return 0|It[Object.prototype.toString.call(e)]}function jt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function zt(e,t,n,l,i,r,c){for(var a=0,u=0;u<n;++u)for(var o=0;o<l;++o)e[a++]=t[i*u+r*o+c]}function Mt(t,n,l,i){var r=0,c={};function a(e){this.id=r++,this.buffer=t.createBuffer(),this.type=e,this.usage=Bt,this.byteLength=0,this.dimension=1,this.dtype=Ft,this.persistentData=null,l.profile&&(this.stats={size:0})}a.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},a.prototype.destroy=function(){b(this)};var u=[];function o(e,t){var n=u.pop();return n||(n=new a(e)),n.bind(),m(n,t,Tt,0,1,!1),n}function d(e){u.push(e)}function s(e,n,l){e.byteLength=n.byteLength,t.bufferData(e.type,n,l)}function m(t,n,l,i,r,c){var a,u;if(t.usage=l,Array.isArray(n)){if(t.dtype=i||_t,n.length>0)if(Array.isArray(n[0])){a=kt(n);for(var o=1,d=1;d<a.length;++d)o*=a[d];t.dimension=o,s(t,u=Nt(n,a,t.dtype),l),c?t.persistentData=u:Be.freeType(u)}else if("number"==typeof n[0]){t.dimension=r;var m=Be.allocType(t.dtype,n.length);jt(m,n),s(t,m,l),c?t.persistentData=m:Be.freeType(m)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Ct(n[0])||_t,s(t,u=Nt(n,[n.length,n[0].length],t.dtype),l),c?t.persistentData=u:Be.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Ct(n),t.dimension=r,s(t,n,l),c&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Rt(n)){a=n.shape;var b=n.stride,Z=n.offset,p=0,h=0,y=0,f=0;1===a.length?(p=a[0],h=1,y=b[0],f=0):2===a.length?(p=a[0],h=a[1],y=b[0],f=b[1]):ne.raise("invalid shape"),t.dtype=i||Ct(n.data)||_t,t.dimension=h;var X=Be.allocType(t.dtype,p*h);zt(X,n.data,p,h,y,f,Z),s(t,X,l),c?t.persistentData=X:Be.freeType(X)}else n instanceof ArrayBuffer?(t.dtype=Ft,t.dimension=r,s(t,n,l),c&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function b(e){n.bufferCount--,i(e);var l=e.buffer;ne(l,"buffer must not be deleted already"),t.deleteBuffer(l),e.buffer=null,delete c[e.id]}function Z(i,r,u,o){n.bufferCount++;var d=new a(r);function s(n){var i=Bt,r=null,c=0,a=0,u=1;return Array.isArray(n)||e(n)||Rt(n)||n instanceof ArrayBuffer?r=n:"number"==typeof n?c=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===r||Array.isArray(r)||e(r)||Rt(r),"invalid data for buffer"),r=n.data),"usage"in n&&(ne.parameter(n.usage,Kt,"invalid buffer usage"),i=Kt[n.usage]),"type"in n&&(ne.parameter(n.type,Ut,"invalid buffer type"),a=Ut[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(c,"buffer length must be a nonnegative integer"),c=0|n.length)),d.bind(),r?m(d,r,i,a,u,o):(c&&t.bufferData(d.type,c,i),d.dtype=a||Ft,d.usage=i,d.dimension=u,d.byteLength=c),l.profile&&(d.stats.size=d.byteLength*wt[d.dtype]),s}function Z(e,n){ne(n+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,n,e)}function p(t,n){var l,i=0|(n||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)Z(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var r=Be.allocType(d.dtype,t.length);jt(r,t),Z(r,i),Be.freeType(r)}else if(Array.isArray(t[0])||e(t[0])){l=kt(t);var c=Nt(t,l,d.dtype);Z(c,i),Be.freeType(c)}else ne.raise("invalid buffer data")}else if(Rt(t)){l=t.shape;var a=t.stride,u=0,o=0,m=0,b=0;1===l.length?(u=l[0],o=1,m=a[0],b=0):2===l.length?(u=l[0],o=l[1],m=a[0],b=a[1]):ne.raise("invalid shape");var p=Array.isArray(t.data)?d.dtype:Ct(t.data),h=Be.allocType(p,u*o);zt(h,t.data,u,o,m,b,t.offset),Z(h,i),Be.freeType(h)}else ne.raise("invalid data for buffer subdata");return s}return c[d.id]=d,u||s(i),s._reglType="buffer",s._buffer=d,s.subdata=p,l.profile&&(s.stats=d.stats),s.destroy=function(){b(d)},s}function p(){St(c).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return l.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(c).forEach((function(t){e+=c[t].stats.size})),e}),{create:Z,createStream:o,destroyStream:d,clear:function(){St(c).forEach(b),u.forEach(b)},getBuffer:function(e){return e&&e._buffer instanceof a?e._buffer:null},restore:p,_initBuffer:m}}wt[5120]=1,wt[5122]=2,wt[5124]=4,wt[5121]=1,wt[5123]=2,wt[5125]=4,wt[5126]=4;var Qt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Pt=0,Et=1,Ot=4,Dt=5120,At=5121,qt=5122,$t=5123,en=5124,tn=5125,nn=34963,ln=35040,rn=35044;function cn(t,n,l,i){var r={},c=0,a={uint8:At,uint16:$t};function u(e){this.id=c++,r[this.id]=this,this.buffer=e,this.primType=Ot,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(a.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var o=[];function d(e){var t=o.pop();return t||(t=new u(l.create(null,nn,!0,!1)._buffer)),m(t,e,ln,-1,-1,0,0),t}function s(e){o.push(e)}function m(i,r,c,a,u,o,d){var s;if(i.buffer.bind(),r){var m=d;d||e(r)&&(!Rt(r)||e(r.data))||(m=n.oes_element_index_uint?tn:$t),l._initBuffer(i.buffer,r,c,m,3)}else t.bufferData(nn,o,c),i.buffer.dtype=s||At,i.buffer.usage=c,i.buffer.dimension=3,i.buffer.byteLength=o;if(s=d,!d){switch(i.buffer.dtype){case At:case Dt:s=At;break;case $t:case qt:s=$t;break;case tn:case en:s=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=s}i.type=s,ne(s!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var b=u;b<0&&(b=i.buffer.byteLength,s===$t?b>>=1:s===tn&&(b>>=2)),i.vertCount=b;var Z=a;if(a<0){Z=Ot;var p=i.buffer.dimension;1===p&&(Z=Pt),2===p&&(Z=Et),3===p&&(Z=Ot)}i.primType=Z}function b(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete r[e.id],e.buffer.destroy(),e.buffer=null}function Z(t,n){var r=l.create(null,nn,!0),c=new u(r._buffer);function o(t){if(t)if("number"==typeof t)r(t),c.primType=Ot,c.vertCount=0|t,c.type=At;else{var n=null,l=rn,i=-1,u=-1,d=0,s=0;Array.isArray(t)||e(t)||Rt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||Rt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Kt,"invalid element buffer usage"),l=Kt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Qt,"invalid element buffer primitive"),i=Qt[t.primitive]),"count"in t&&(ne("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,a,"invalid buffer type"),s=a[t.type]),"length"in t?d=0|t.length:(d=u,s===$t||s===qt?d*=2:s!==tn&&s!==en||(d*=4))),m(c,n,l,i,u,d,s)}else r(),c.primType=Ot,c.vertCount=0,c.type=At;return o}return i.elementsCount++,o(t),o._reglType="elements",o._elements=c,o.subdata=function(e,t){return r.subdata(e,t),o},o.destroy=function(){b(c)},o}return{create:Z,createStream:d,destroyStream:s,getElements:function(e){return"function"==typeof e&&e._elements instanceof u?e._elements:null},clear:function(){St(r).forEach(b)}}}var an=new Float32Array(1),un=new Uint32Array(an.buffer),on=5123;function dn(e){for(var t=Be.allocType(on,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{an[0]=e[n];var l=un[0],i=l>>>31<<15,r=(l<<1>>>24)-127,c=l>>13&1023;if(r<-24)t[n]=i;else if(r<-14){var a=-14-r;t[n]=i+(c+1024>>a)}else t[n]=r>15?i+31744:i+(r+15<<10)+c}return t}function sn(t){return Array.isArray(t)||e(t)}var mn=function(e){return!(e&e-1||!e)},bn=34467,Zn=3553,pn=34067,hn=34069,yn=6408,fn=6406,Xn=6407,Vn=6409,Wn=6410,Gn=32854,Rn=32855,Sn=36194,vn=32819,Ln=32820,Yn=33635,Jn=34042,xn=6402,gn=34041,Hn=35904,In=35906,Un=36193,Kn=33776,Nn=33777,kn=33778,Bn=33779,Tn=35986,Fn=35987,_n=34798,wn=35840,Cn=35841,jn=35842,zn=35843,Mn=36196,Qn=5121,Pn=5123,En=5125,On=5126,Dn=10242,An=10243,qn=10497,$n=33071,el=33648,tl=10240,nl=10241,ll=9728,il=9729,rl=9984,cl=9985,al=9986,ul=9987,ol=33170,dl=4352,sl=4353,ml=4354,bl=34046,Zl=3317,pl=37440,hl=37441,yl=37443,fl=37444,Xl=33984,Vl=[rl,al,cl,ul],Wl=[0,Vn,Wn,Xn,yn],Gl={};function Rl(e){return"[object "+e+"]"}Gl[Vn]=Gl[fn]=Gl[xn]=1,Gl[gn]=Gl[Wn]=2,Gl[Xn]=Gl[Hn]=3,Gl[yn]=Gl[In]=4;var Sl=Rl("HTMLCanvasElement"),vl=Rl("OffscreenCanvas"),Ll=Rl("CanvasRenderingContext2D"),Yl=Rl("ImageBitmap"),Jl=Rl("HTMLImageElement"),xl=Rl("HTMLVideoElement"),gl=Object.keys(It).concat([Sl,vl,Ll,Yl,Jl,xl]),Hl=[];Hl[Qn]=1,Hl[On]=4,Hl[Un]=2,Hl[Pn]=2,Hl[En]=4;var Il=[];function Ul(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function Kl(e){return!!Array.isArray(e)&&!(0===e.length||!sn(e[0]))}function Nl(e){return Object.prototype.toString.call(e)}function kl(e){return Nl(e)===Sl}function Bl(e){return Nl(e)===vl}function Tl(e){return Nl(e)===Ll}function Fl(e){return Nl(e)===Yl}function _l(e){return Nl(e)===Jl}function wl(e){return Nl(e)===xl}function Cl(e){if(!e)return!1;var t=Nl(e);return gl.indexOf(t)>=0||Ul(e)||Kl(e)||Rt(e)}function jl(e){return 0|It[Object.prototype.toString.call(e)]}function zl(e,t){var n=t.length;switch(e.type){case Qn:case Pn:case En:case On:var l=Be.allocType(e.type,n);l.set(t),e.data=l;break;case Un:e.data=dn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Ml(e,t){return Be.allocType(e.type===Un?On:e.type,t)}function Ql(e,t){e.type===Un?(e.data=dn(t),Be.freeType(t)):e.data=t}function Pl(e,t,n,l,i,r){for(var c=e.width,a=e.height,u=e.channels,o=Ml(e,c*a*u),d=0,s=0;s<a;++s)for(var m=0;m<c;++m)for(var b=0;b<u;++b)o[d++]=t[n*m+l*s+i*b+r];Ql(e,o)}function El(e,t,n,l,i,r){var c;if(c=void 0!==Il[e]?Il[e]:Gl[e]*Hl[t],r&&(c*=6),i){for(var a=0,u=n;u>=1;)a+=c*u*u,u/=2;return a}return c*n*l}function Ol(n,l,i,r,c,a,u){var o={"don't care":dl,"dont care":dl,nice:ml,fast:sl},d={repeat:qn,clamp:$n,mirror:el},s={nearest:ll,linear:il},m=t({mipmap:ul,"nearest mipmap nearest":rl,"linear mipmap nearest":cl,"nearest mipmap linear":al,"linear mipmap linear":ul},s),b={none:0,browser:fl},Z={uint8:Qn,rgba4:vn,rgb565:Yn,"rgb5 a1":Ln},p={alpha:fn,luminance:Vn,"luminance alpha":Wn,rgb:Xn,rgba:yn,rgba4:Gn,"rgb5 a1":Rn,rgb565:Sn},h={};l.ext_srgb&&(p.srgb=Hn,p.srgba=In),l.oes_texture_float&&(Z.float32=Z.float=On),l.oes_texture_half_float&&(Z.float16=Z["half float"]=Un),l.webgl_depth_texture&&(t(p,{depth:xn,"depth stencil":gn}),t(Z,{uint16:Pn,uint32:En,"depth stencil":Jn})),l.webgl_compressed_texture_s3tc&&t(h,{"rgb s3tc dxt1":Kn,"rgba s3tc dxt1":Nn,"rgba s3tc dxt3":kn,"rgba s3tc dxt5":Bn}),l.webgl_compressed_texture_atc&&t(h,{"rgb atc":Tn,"rgba atc explicit alpha":Fn,"rgba atc interpolated alpha":_n}),l.webgl_compressed_texture_pvrtc&&t(h,{"rgb pvrtc 4bppv1":wn,"rgb pvrtc 2bppv1":Cn,"rgba pvrtc 4bppv1":jn,"rgba pvrtc 2bppv1":zn}),l.webgl_compressed_texture_etc1&&(h["rgb etc1"]=Mn);var y=Array.prototype.slice.call(n.getParameter(bn));Object.keys(h).forEach((function(e){var t=h[e];y.indexOf(t)>=0&&(p[e]=t)}));var f=Object.keys(p);i.textureFormats=f;var X=[];Object.keys(p).forEach((function(e){var t=p[e];X[t]=e}));var V=[];Object.keys(Z).forEach((function(e){var t=Z[e];V[t]=e}));var W=[];Object.keys(s).forEach((function(e){var t=s[e];W[t]=e}));var G=[];Object.keys(m).forEach((function(e){var t=m[e];G[t]=e}));var R=[];Object.keys(d).forEach((function(e){var t=d[e];R[t]=e}));var S=f.reduce((function(e,t){var n=p[t];return n===Vn||n===fn||n===Vn||n===Wn||n===xn||n===gn||l.ext_srgb&&(n===Hn||n===In)?e[n]=n:n===Rn||t.indexOf("rgba")>=0?e[n]=yn:e[n]=Xn,e}),{});function v(){this.internalformat=yn,this.format=yn,this.type=Qn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=fl,this.width=0,this.height=0,this.channels=0}function L(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function Y(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,b,"invalid colorSpace"),e.colorSpace=b[t.colorSpace]),"type"in t){var n=t.type;ne(l.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(l.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(l.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,Z,"invalid texture type"),e.type=Z[n]}var r=e.width,c=e.height,a=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),r=t.shape[0],c=t.shape[1],3===t.shape.length&&(a=t.shape[2],ne(a>0&&a<=4,"invalid number of channels"),u=!0),ne(r>=0&&r<=i.maxTextureSize,"invalid width"),ne(c>=0&&c<=i.maxTextureSize,"invalid height")):("radius"in t&&(r=c=t.radius,ne(r>=0&&r<=i.maxTextureSize,"invalid radius")),"width"in t&&(r=t.width,ne(r>=0&&r<=i.maxTextureSize,"invalid width")),"height"in t&&(c=t.height,ne(c>=0&&c<=i.maxTextureSize,"invalid height")),"channels"in t&&(a=t.channels,ne(a>0&&a<=4,"invalid number of channels"),u=!0)),e.width=0|r,e.height=0|c,e.channels=0|a;var o=!1;if("format"in t){var d=t.format;ne(l.webgl_depth_texture||!("depth"===d||"depth stencil"===d),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(d,p,"invalid texture format");var s=e.internalformat=p[d];e.format=S[s],d in Z&&("type"in t||(e.type=Z[d])),d in h&&(e.compressed=!0),o=!0}!u&&o?e.channels=Gl[e.format]:u&&!o?e.channels!==Wl[e.format]&&(e.format=e.internalformat=Wl[e.channels]):o&&u&&ne(e.channels===Gl[e.format],"number of channels inconsistent with specified format")}}function J(e){n.pixelStorei(pl,e.flipY),n.pixelStorei(hl,e.premultiplyAlpha),n.pixelStorei(yl,e.colorSpace),n.pixelStorei(Zl,e.unpackAlignment)}function x(){v.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function g(t,n){var l=null;if(Cl(n)?l=n:n&&(ne.type(n,"object","invalid pixel data type"),Y(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Cl(n.data)&&(l=n.data)),ne(!t.compressed||l instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!l,"can not specify copy and data field for the same texture");var r=c.viewportWidth,a=c.viewportHeight;t.width=t.width||r-t.xOffset,t.height=t.height||a-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<r&&t.yOffset>=0&&t.yOffset<a&&t.width>0&&t.width<=r&&t.height>0&&t.height<=a,"copy texture read out of bounds")}else if(l){if(e(l))t.channels=t.channels||4,t.data=l,"type"in n||t.type!==Qn||(t.type=jl(l));else if(Ul(l))t.channels=t.channels||4,zl(t,l),t.alignment=1,t.needsFree=!0;else if(Rt(l)){var u=l.data;Array.isArray(u)||t.type!==Qn||(t.type=jl(u));var o,d,s,m,b,Z,p=l.shape,h=l.stride;3===p.length?(s=p[2],Z=h[2]):(ne(2===p.length,"invalid ndarray pixel data, must be 2 or 3D"),s=1,Z=1),o=p[0],d=p[1],m=h[0],b=h[1],t.alignment=1,t.width=o,t.height=d,t.channels=s,t.format=t.internalformat=Wl[s],t.needsFree=!0,Pl(t,u,m,b,Z,l.offset)}else if(kl(l)||Bl(l)||Tl(l))kl(l)||Bl(l)?t.element=l:t.element=l.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Fl(l))t.element=l,t.width=l.width,t.height=l.height,t.channels=4;else if(_l(l))t.element=l,t.width=l.naturalWidth,t.height=l.naturalHeight,t.channels=4;else if(wl(l))t.element=l,t.width=l.videoWidth,t.height=l.videoHeight,t.channels=4;else if(Kl(l)){var y=t.width||l[0].length,f=t.height||l.length,X=t.channels;X=sn(l[0][0])?X||l[0][0].length:X||1;for(var V=vt.shape(l),W=1,G=0;G<V.length;++G)W*=V[G];var R=Ml(t,W);vt.flatten(l,V,"",R),Ql(t,R),t.alignment=1,t.width=y,t.height=f,t.channels=X,t.format=t.internalformat=Wl[X],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===On?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Un&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function H(e,t,l){var i=e.element,c=e.data,a=e.internalformat,u=e.format,o=e.type,d=e.width,s=e.height;J(e),i?n.texImage2D(t,l,u,u,o,i):e.compressed?n.compressedTexImage2D(t,l,a,d,s,0,c):e.needsCopy?(r(),n.copyTexImage2D(t,l,u,e.xOffset,e.yOffset,d,s,0)):n.texImage2D(t,l,u,d,s,0,u,o,c||null)}function I(e,t,l,i,c){var a=e.element,u=e.data,o=e.internalformat,d=e.format,s=e.type,m=e.width,b=e.height;J(e),a?n.texSubImage2D(t,c,l,i,d,s,a):e.compressed?n.compressedTexSubImage2D(t,c,l,i,o,m,b,u):e.needsCopy?(r(),n.copyTexSubImage2D(t,c,l,i,e.xOffset,e.yOffset,m,b)):n.texSubImage2D(t,c,l,i,m,b,d,s,u)}var U=[];function K(){return U.pop()||new x}function N(e){e.needsFree&&Be.freeType(e.data),x.call(e),U.push(e)}function k(){v.call(this),this.genMipmaps=!1,this.mipmapHint=dl,this.mipmask=0,this.images=Array(16)}function B(e,t,n){var l=e.images[0]=K();e.mipmask=1,l.width=e.width=t,l.height=e.height=n,l.channels=e.channels=4}function T(e,t){var n=null;if(Cl(t))L(n=e.images[0]=K(),e),g(n,t),e.mipmask=1;else if(Y(e,t),Array.isArray(t.mipmap))for(var l=t.mipmap,i=0;i<l.length;++i)L(n=e.images[i]=K(),e),n.width>>=i,n.height>>=i,g(n,l[i]),e.mipmask|=1<<i;else L(n=e.images[0]=K(),e),g(n,t),e.mipmask=1;L(e,e.images[0]),!e.compressed||e.internalformat!==Kn&&e.internalformat!==Nn&&e.internalformat!==kn&&e.internalformat!==Bn||ne(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,l=0;l<n.length;++l){if(!n[l])return;H(n[l],t,l)}}var _=[];function w(){var e=_.pop()||new k;v.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function C(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&N(t[n]),t[n]=null;_.push(e)}function j(){this.minFilter=ll,this.magFilter=ll,this.wrapS=$n,this.wrapT=$n,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=dl}function z(e,t){if("min"in t){var n=t.min;ne.parameter(n,m),e.minFilter=m[n],Vl.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var l=t.mag;ne.parameter(l,s),e.magFilter=s[l]}var r=e.wrapS,c=e.wrapT;if("wrap"in t){var a=t.wrap;"string"==typeof a?(ne.parameter(a,d),r=c=d[a]):Array.isArray(a)&&(ne.parameter(a[0],d),ne.parameter(a[1],d),r=d[a[0]],c=d[a[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,d),r=d[u]}if("wrapT"in t){var b=t.wrapT;ne.parameter(b,d),c=d[b]}}if(e.wrapS=r,e.wrapT=c,"anisotropic"in t){var Z=t.anisotropic;ne("number"==typeof Z&&Z>=1&&Z<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var p=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,o,"invalid mipmap hint"),e.mipmapHint=o[t.mipmap],e.genMipmaps=!0,p=!0;break;case"boolean":p=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,p=!0;break;default:ne.raise("invalid mipmap type")}p&&!("min"in t)&&(e.minFilter=rl)}}function M(e,t){n.texParameteri(t,nl,e.minFilter),n.texParameteri(t,tl,e.magFilter),n.texParameteri(t,Dn,e.wrapS),n.texParameteri(t,An,e.wrapT),l.ext_texture_filter_anisotropic&&n.texParameteri(t,bl,e.anisotropic),e.genMipmaps&&(n.hint(ol,e.mipmapHint),n.generateMipmap(t))}var Q=0,P={},E=i.maxTextureUnits,O=Array(E).map((function(){return null}));function D(e){v.call(this),this.mipmask=0,this.internalformat=yn,this.id=Q++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new j,u.profile&&(this.stats={size:0})}function A(e){n.activeTexture(Xl),n.bindTexture(e.target,e.texture)}function q(){var e=O[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(Zn,null)}function $(e){var t=e.texture;ne(t,"must not double destroy texture");var l=e.unit,i=e.target;l>=0&&(n.activeTexture(Xl+l),n.bindTexture(i,null),O[l]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete P[e.id],a.textureCount--}function ee(e,t){var l=new D(Zn);function r(e,t){var n=l.texInfo;j.call(n);var c=w();return"number"==typeof e?B(c,0|e,"number"==typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),z(n,e),T(c,e)):B(c,1,1),n.genMipmaps&&(c.mipmask=(c.width<<1)-1),l.mipmask=c.mipmask,L(l,c),ne.texture2D(n,c,i),l.internalformat=c.internalformat,r.width=c.width,r.height=c.height,A(l),F(c,Zn),M(n,Zn),q(),C(c),u.profile&&(l.stats.size=El(l.internalformat,l.type,c.width,c.height,n.genMipmaps,!1)),r.format=X[l.internalformat],r.type=V[l.type],r.mag=W[n.magFilter],r.min=G[n.minFilter],r.wrapS=R[n.wrapS],r.wrapT=R[n.wrapT],r}function c(e,t,n,i){ne(!!e,"must specify image data");var c=0|t,a=0|n,u=0|i,o=K();return L(o,l),o.width=0,o.height=0,g(o,e),o.width=o.width||(l.width>>u)-c,o.height=o.height||(l.height>>u)-a,ne(l.type===o.type&&l.format===o.format&&l.internalformat===o.internalformat,"incompatible format for texture.subimage"),ne(c>=0&&a>=0&&c+o.width<=l.width&&a+o.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<u,"missing mipmap data"),ne(o.data||o.element||o.needsCopy,"missing image data"),A(l),I(o,Zn,c,a,u),q(),N(o),r}function o(e,t){var i=0|e,c=0|t||i;if(i===l.width&&c===l.height)return r;r.width=l.width=i,r.height=l.height=c,A(l);for(var a=0;l.mipmask>>a;++a){var o=i>>a,d=c>>a;if(!o||!d)break;n.texImage2D(Zn,a,l.format,o,d,0,l.format,l.type,null)}return q(),u.profile&&(l.stats.size=El(l.internalformat,l.type,i,c,!1,!1)),r}return P[l.id]=l,a.textureCount++,r(e,t),r.subimage=c,r.resize=o,r._reglType="texture2d",r._texture=l,u.profile&&(r.stats=l.stats),r.destroy=function(){l.decRef()},r}function te(e,t,l,r,c,o){var d=new D(pn);P[d.id]=d,a.cubeCount++;var s=new Array(6);function m(e,t,n,l,r,c){var a,o=d.texInfo;for(j.call(o),a=0;a<6;++a)s[a]=w();if("number"!=typeof e&&e)if("object"==typeof e)if(t)T(s[0],e),T(s[1],t),T(s[2],n),T(s[3],l),T(s[4],r),T(s[5],c);else if(z(o,e),Y(d,e),"faces"in e){var b=e.faces;for(ne(Array.isArray(b)&&6===b.length,"cube faces must be a length 6 array"),a=0;a<6;++a)ne("object"==typeof b[a]&&!!b[a],"invalid input for cube map face"),L(s[a],d),T(s[a],b[a])}else for(a=0;a<6;++a)T(s[a],e);else ne.raise("invalid arguments to cube map");else{var Z=0|e||1;for(a=0;a<6;++a)B(s[a],Z,Z)}for(L(d,s[0]),ne.optional((function(){i.npotTextureCube||ne(mn(d.width)&&mn(d.height),"your browser does not support non power or two texture dimensions")})),o.genMipmaps?d.mipmask=(s[0].width<<1)-1:d.mipmask=s[0].mipmask,ne.textureCube(d,o,s,i),d.internalformat=s[0].internalformat,m.width=s[0].width,m.height=s[0].height,A(d),a=0;a<6;++a)F(s[a],hn+a);for(M(o,pn),q(),u.profile&&(d.stats.size=El(d.internalformat,d.type,m.width,m.height,o.genMipmaps,!0)),m.format=X[d.internalformat],m.type=V[d.type],m.mag=W[o.magFilter],m.min=G[o.minFilter],m.wrapS=R[o.wrapS],m.wrapT=R[o.wrapT],a=0;a<6;++a)C(s[a]);return m}function b(e,t,n,l,i){ne(!!t,"must specify image data"),ne("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var r=0|n,c=0|l,a=0|i,u=K();return L(u,d),u.width=0,u.height=0,g(u,t),u.width=u.width||(d.width>>a)-r,u.height=u.height||(d.height>>a)-c,ne(d.type===u.type&&d.format===u.format&&d.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(r>=0&&c>=0&&r+u.width<=d.width&&c+u.height<=d.height,"texture.subimage write out of bounds"),ne(d.mipmask&1<<a,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),A(d),I(u,hn+e,r,c,a),q(),N(u),m}function Z(e){var t=0|e;if(t!==d.width){m.width=d.width=t,m.height=d.height=t,A(d);for(var l=0;l<6;++l)for(var i=0;d.mipmask>>i;++i)n.texImage2D(hn+l,i,d.format,t>>i,t>>i,0,d.format,d.type,null);return q(),u.profile&&(d.stats.size=El(d.internalformat,d.type,m.width,m.height,!1,!0)),m}}return m(e,t,l,r,c,o),m.subimage=b,m.resize=Z,m._reglType="textureCube",m._texture=d,u.profile&&(m.stats=d.stats),m.destroy=function(){d.decRef()},m}function le(){for(var e=0;e<E;++e)n.activeTexture(Xl+e),n.bindTexture(Zn,null),O[e]=null;St(P).forEach($),a.cubeCount=0,a.textureCount=0}function ie(){for(var e=0;e<E;++e){var t=O[e];t&&(t.bindCount=0,t.unit=-1,O[e]=null)}St(P).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===Zn)n.texImage2D(Zn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var l=0;l<6;++l)n.texImage2D(hn+l,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);M(e.texInfo,e.target)}))}function re(){for(var e=0;e<E;++e){var t=O[e];t&&(t.bindCount=0,t.unit=-1,O[e]=null),n.activeTexture(Xl+e),n.bindTexture(Zn,null),n.bindTexture(pn,null)}}return t(D.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var l=0;l<E;++l){var i=O[l];if(i){if(i.bindCount>0)continue;i.unit=-1}O[l]=e,t=l;break}t>=E&&ne.raise("insufficient number of texture units"),u.profile&&a.maxTextureUnits<t+1&&(a.maxTextureUnits=t+1),e.unit=t,n.activeTexture(Xl+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(a.getTotalTextureSize=function(){var e=0;return Object.keys(P).forEach((function(t){e+=P[t].stats.size})),e}),{create2D:ee,createCube:te,clear:le,getTexture:function(e){return null},restore:ie,refresh:re}}Il[Gn]=2,Il[Rn]=2,Il[Sn]=2,Il[gn]=4,Il[Kn]=.5,Il[Nn]=.5,Il[kn]=1,Il[Bn]=1,Il[Tn]=.5,Il[Fn]=1,Il[_n]=1,Il[wn]=.5,Il[Cn]=.25,Il[jn]=.5,Il[zn]=.25,Il[Mn]=.5;var Dl=36161,Al=32854,ql=32855,$l=36194,ei=33189,ti=36168,ni=34041,li=35907,ii=34836,ri=34842,ci=34843,ai=[];function ui(e,t,n){return ai[e]*t*n}ai[Al]=2,ai[ql]=2,ai[$l]=2,ai[ei]=2,ai[ti]=1,ai[ni]=4,ai[li]=4,ai[ii]=16,ai[ri]=8,ai[ci]=6;var oi=function(e,t,n,l,i){var r={rgba4:Al,rgb565:$l,"rgb5 a1":ql,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(r.srgba=li),t.ext_color_buffer_half_float&&(r.rgba16f=ri,r.rgb16f=ci),t.webgl_color_buffer_float&&(r.rgba32f=ii);var c=[];Object.keys(r).forEach((function(e){var t=r[e];c[t]=e}));var a=0,u={};function o(e){this.id=a++,this.refCount=1,this.renderbuffer=e,this.format=Al,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function d(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Dl,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],l.renderbufferCount--}function s(t,a){var d=new o(e.createRenderbuffer());function s(t,l){var a=0,u=0,o=Al;if("object"==typeof t&&t){var m=t;if("shape"in m){var b=m.shape;ne(Array.isArray(b)&&b.length>=2,"invalid renderbuffer shape"),a=0|b[0],u=0|b[1]}else"radius"in m&&(a=u=0|m.radius),"width"in m&&(a=0|m.width),"height"in m&&(u=0|m.height);"format"in m&&(ne.parameter(m.format,r,"invalid renderbuffer format"),o=r[m.format])}else"number"==typeof t?(a=0|t,u="number"==typeof l?0|l:a):t?ne.raise("invalid arguments to renderbuffer constructor"):a=u=1;if(ne(a>0&&u>0&&a<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),a!==d.width||u!==d.height||o!==d.format)return s.width=d.width=a,s.height=d.height=u,d.format=o,e.bindRenderbuffer(Dl,d.renderbuffer),e.renderbufferStorage(Dl,o,a,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(d.stats.size=ui(d.format,d.width,d.height)),s.format=c[d.format],s}function m(t,l){var r=0|t,c=0|l||r;return r===d.width&&c===d.height||(ne(r>0&&c>0&&r<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),s.width=d.width=r,s.height=d.height=c,e.bindRenderbuffer(Dl,d.renderbuffer),e.renderbufferStorage(Dl,d.format,r,c),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(d.stats.size=ui(d.format,d.width,d.height))),s}return u[d.id]=d,l.renderbufferCount++,s(t,a),s.resize=m,s._reglType="renderbuffer",s._renderbuffer=d,i.profile&&(s.stats=d.stats),s.destroy=function(){d.decRef()},s}function m(){St(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Dl,t.renderbuffer),e.renderbufferStorage(Dl,t.format,t.width,t.height)})),e.bindRenderbuffer(Dl,null)}return o.prototype.decRef=function(){--this.refCount<=0&&d(this)},i.profile&&(l.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:s,clear:function(){St(u).forEach(d)},restore:m}},di=36160,si=36161,mi=3553,bi=34069,Zi=36064,pi=36096,hi=36128,yi=33306,fi=36053,Xi=36054,Vi=36055,Wi=36057,Gi=36061,Ri=36193,Si=5121,vi=5126,Li=6407,Yi=6408,Ji=6402,xi=[Li,Yi],gi=[];gi[Yi]=4,gi[Li]=3;var Hi=[];Hi[Si]=1,Hi[vi]=4,Hi[Ri]=2;var Ii=33189,Ui=36168,Ki=34041,Ni=[32854,32855,36194,35907,34842,34843,34836],ki={};function Bi(e,n,l,i,r,c){var a={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],o=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&o.push("srgba"),n.ext_color_buffer_half_float&&o.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&o.push("rgba32f");var d=["uint8"];function s(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var l=0,i=0;t?(l=t.width,i=t.height):n&&(l=n.width,i=n.height),this.width=l,this.height=i}function m(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function b(e,t,n){if(e)if(e.texture){var l=e.texture._texture,i=Math.max(1,l.width),r=Math.max(1,l.height);ne(i===t&&r===n,"inconsistent width/height for supplied texture"),l.refCount+=1}else{var c=e.renderbuffer._renderbuffer;ne(c.width===t&&c.height===n,"inconsistent width/height for renderbuffer"),c.refCount+=1}}function Z(t,n){n&&(n.texture?e.framebufferTexture2D(di,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(di,t,si,n.renderbuffer._renderbuffer.renderbuffer))}function p(e){var t=mi,n=null,l=null,i=e;"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var r=i._reglType;return"texture2d"===r?(n=i,ne(t===mi)):"textureCube"===r?(n=i,ne(t>=bi&&t<bi+6,"invalid cube map target")):"renderbuffer"===r?(l=i,t=si):ne.raise("invalid regl object for attachment"),new s(t,n,l)}function h(e,t,n,l,c){if(n){var a=i.create2D({width:e,height:t,format:l,type:c});return a._texture.refCount=0,new s(mi,a,null)}var u=r.create({width:e,height:t,format:l});return u._renderbuffer.refCount=0,new s(si,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function f(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&d.push("half float","float16"),n.oes_texture_float&&d.push("float","float32");var X=0,V={};function W(){this.id=X++,V[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function G(e){e.colorAttachments.forEach(m),m(e.depthAttachment),m(e.stencilAttachment),m(e.depthStencilAttachment)}function R(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,c.framebufferCount--,delete V[t.id]}function S(t){var n;e.bindFramebuffer(di,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)Z(Zi+n,i[n]);for(n=i.length;n<l.maxColorAttachments;++n)e.framebufferTexture2D(di,Zi+n,mi,null,0);e.framebufferTexture2D(di,yi,mi,null,0),e.framebufferTexture2D(di,pi,mi,null,0),e.framebufferTexture2D(di,hi,mi,null,0),Z(pi,t.depthAttachment),Z(hi,t.stencilAttachment),Z(yi,t.depthStencilAttachment);var r=e.checkFramebufferStatus(di);e.isContextLost()||r===fi||ne.raise("framebuffer configuration not supported, status = "+ki[r]),e.bindFramebuffer(di,a.next?a.next.framebuffer:null),a.cur=a.next,e.getError()}function v(e,i){var r=new W;function s(e,t){var i;ne(a.next!==r,"can not update framebuffer which is currently in use");var c=0,m=0,Z=!0,f=!0,X=null,V=!0,W="rgba",R="uint8",v=1,L=null,Y=null,J=null,x=!1;if("number"==typeof e)c=0|e,m=0|t||c;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var g=e;if("shape"in g){var H=g.shape;ne(Array.isArray(H)&&H.length>=2,"invalid shape for framebuffer"),c=H[0],m=H[1]}else"radius"in g&&(c=m=g.radius),"width"in g&&(c=g.width),"height"in g&&(m=g.height);("color"in g||"colors"in g)&&(X=g.color||g.colors,Array.isArray(X)&&ne(1===X.length||n.webgl_draw_buffers,"multiple render targets not supported")),X||("colorCount"in g&&(v=0|g.colorCount,ne(v>0,"invalid color buffer count")),"colorTexture"in g&&(V=!!g.colorTexture,W="rgba4"),"colorType"in g&&(R=g.colorType,V?(ne(n.oes_texture_float||!("float"===R||"float32"===R),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===R||"float16"===R),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===R||"float16"===R?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),W="rgba16f"):"float"!==R&&"float32"!==R||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),W="rgba32f"),ne.oneOf(R,d,"invalid color type")),"colorFormat"in g&&(W=g.colorFormat,u.indexOf(W)>=0?V=!0:o.indexOf(W)>=0?V=!1:ne.optional((function(){V?ne.oneOf(g.colorFormat,u,"invalid color format for texture"):ne.oneOf(g.colorFormat,o,"invalid color format for renderbuffer")})))),("depthTexture"in g||"depthStencilTexture"in g)&&(x=!(!g.depthTexture&&!g.depthStencilTexture),ne(!x||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in g&&("boolean"==typeof g.depth?Z=g.depth:(L=g.depth,f=!1)),"stencil"in g&&("boolean"==typeof g.stencil?f=g.stencil:(Y=g.stencil,Z=!1)),"depthStencil"in g&&("boolean"==typeof g.depthStencil?Z=f=g.depthStencil:(J=g.depthStencil,Z=!1,f=!1))}else c=m=1;var I=null,U=null,K=null,N=null;if(Array.isArray(X))I=X.map(p);else if(X)I=[p(X)];else for(I=new Array(v),i=0;i<v;++i)I[i]=h(c,m,V,W,R);ne(n.webgl_draw_buffers||I.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(I.length<=l.maxColorAttachments,"too many color attachments, not supported"),c=c||I[0].width,m=m||I[0].height,L?U=p(L):Z&&!f&&(U=h(c,m,x,"depth","uint32")),Y?K=p(Y):f&&!Z&&(K=h(c,m,!1,"stencil","uint8")),J?N=p(J):!L&&!Y&&f&&Z&&(N=h(c,m,x,"depth stencil","depth stencil")),ne(!!L+!!Y+!!J<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var k=null;for(i=0;i<I.length;++i)if(b(I[i],c,m),ne(!I[i]||I[i].texture&&xi.indexOf(I[i].texture._texture.format)>=0||I[i].renderbuffer&&Ni.indexOf(I[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),I[i]&&I[i].texture){var B=gi[I[i].texture._texture.format]*Hi[I[i].texture._texture.type];null===k?k=B:ne(k===B,"all color attachments much have the same number of bits per pixel.")}return b(U,c,m),ne(!U||U.texture&&U.texture._texture.format===Ji||U.renderbuffer&&U.renderbuffer._renderbuffer.format===Ii,"invalid depth attachment for framebuffer object"),b(K,c,m),ne(!K||K.renderbuffer&&K.renderbuffer._renderbuffer.format===Ui,"invalid stencil attachment for framebuffer object"),b(N,c,m),ne(!N||N.texture&&N.texture._texture.format===Ki||N.renderbuffer&&N.renderbuffer._renderbuffer.format===Ki,"invalid depth-stencil attachment for framebuffer object"),G(r),r.width=c,r.height=m,r.colorAttachments=I,r.depthAttachment=U,r.stencilAttachment=K,r.depthStencilAttachment=N,s.color=I.map(y),s.depth=y(U),s.stencil=y(K),s.depthStencil=y(N),s.width=r.width,s.height=r.height,S(r),s}function m(e,t){ne(a.next!==r,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),l=Math.max(0|t||n,1);if(n===r.width&&l===r.height)return s;for(var i=r.colorAttachments,c=0;c<i.length;++c)f(i[c],n,l);return f(r.depthAttachment,n,l),f(r.stencilAttachment,n,l),f(r.depthStencilAttachment,n,l),r.width=s.width=n,r.height=s.height=l,S(r),s}return c.framebufferCount++,s(e,i),t(s,{resize:m,_reglType:"framebuffer",_framebuffer:r,destroy:function(){R(r),G(r)},use:function(e){a.setFBO({framebuffer:s},e)}})}function L(e){var r=Array(6);function c(e){var l;ne(r.indexOf(a.next)<0,"can not update framebuffer which is currently in use");var o,s={color:null},m=0,b=null,Z="rgba",p="uint8",h=1;if("number"==typeof e)m=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var f=y.shape;ne(Array.isArray(f)&&f.length>=2,"invalid shape for framebuffer"),ne(f[0]===f[1],"cube framebuffer must be square"),m=f[0]}else"radius"in y&&(m=0|y.radius),"width"in y?(m=0|y.width,"height"in y&&ne(y.height===m,"must be square")):"height"in y&&(m=0|y.height);("color"in y||"colors"in y)&&(b=y.color||y.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in y&&(h=0|y.colorCount,ne(h>0,"invalid color buffer count")),"colorType"in y&&(ne.oneOf(y.colorType,d,"invalid color type"),p=y.colorType),"colorFormat"in y&&(Z=y.colorFormat,ne.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(s.depth=y.depth),"stencil"in y&&(s.stencil=y.stencil),"depthStencil"in y&&(s.depthStencil=y.depthStencil)}else m=1;if(b)if(Array.isArray(b))for(o=[],l=0;l<b.length;++l)o[l]=b[l];else o=[b];else{o=Array(h);var X={radius:m,format:Z,type:p};for(l=0;l<h;++l)o[l]=i.createCube(X)}for(s.color=Array(o.length),l=0;l<o.length;++l){var V=o[l];ne("function"==typeof V&&"textureCube"===V._reglType,"invalid cube map"),m=m||V.width,ne(V.width===m&&V.height===m,"invalid cube map shape"),s.color[l]={target:bi,data:o[l]}}for(l=0;l<6;++l){for(var W=0;W<o.length;++W)s.color[W].target=bi+l;l>0&&(s.depth=r[0].depth,s.stencil=r[0].stencil,s.depthStencil=r[0].depthStencil),r[l]?r[l](s):r[l]=v(s)}return t(c,{width:m,height:m,color:o})}function o(e){var t,n=0|e;if(ne(n>0&&n<=l.maxCubeMapSize,"invalid radius for cube fbo"),n===c.width)return c;var i=c.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)r[t].resize(n);return c.width=c.height=n,c}return c(e),t(c,{faces:r,resize:o,_reglType:"framebufferCube",destroy:function(){r.forEach((function(e){e.destroy()}))}})}function Y(){a.cur=null,a.next=null,a.dirty=!0,St(V).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(a,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof W)return t}return null},create:v,createCube:L,clear:function(){St(V).forEach(R)},restore:Y})}ki[fi]="complete",ki[Xi]="incomplete attachment",ki[Wi]="incomplete dimensions",ki[Vi]="incomplete, missing attachment",ki[Gi]="unsupported";var Ti=5126,Fi=34962,_i=34963,wi=["attributes","elements","offset","count","primitive","instances"];function Ci(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ti,this.offset=0,this.stride=0,this.divisor=0}function ji(t,n,l,i,r,c,a){for(var u=l.maxAttributes,o=new Array(u),d=0;d<u;++d)o[d]=new Ci;var s=0,m={},b={Record:Ci,scope:{},state:o,currentVAO:null,targetVAO:null,restore:p()?G:function(){},createVAO:R,getVAO:y,destroyBuffer:Z,setVAO:p()?f:X,clear:p()?V:function(){}};function Z(e){for(var n=0;n<o.length;++n){var l=o[n];l.buffer===e&&(t.disableVertexAttribArray(n),l.buffer=null)}}function p(){return n.oes_vertex_array_object}function h(){return n.angle_instanced_arrays}function y(e){return"function"==typeof e&&e._vao?e._vao:null}function f(e){if(e!==b.currentVAO){var t=p();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),b.currentVAO=e}}function X(e){if(e!==b.currentVAO){if(e)e.bindAttrs();else{for(var n=h(),l=0;l<o.length;++l){var i=o[l];i.buffer?(t.enableVertexAttribArray(l),i.buffer.bind(),t.vertexAttribPointer(l,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(l,i.divisor)):(t.disableVertexAttribArray(l),t.vertexAttrib4f(l,i.x,i.y,i.z,i.w))}a.elements?t.bindBuffer(_i,a.elements.buffer.buffer):t.bindBuffer(_i,null)}b.currentVAO=e}}function V(){St(m).forEach((function(e){e.destroy()}))}function W(){this.id=++s,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=p();this.vao=e?e.createVertexArrayOES():null,m[this.id]=this,this.buffers=[]}function G(){p()&&St(m).forEach((function(e){e.refresh()}))}function R(t){var l=new W;function a(t){var i;if(Array.isArray(t))i=t,l.elements&&l.ownsElements&&l.elements.destroy(),l.elements=null,l.ownsElements=!1,l.offset=0,l.count=0,l.instances=-1,l.primitive=4;else{if(ne("object"==typeof t,"invalid arguments for create vao"),ne("attributes"in t,"must specify attributes for vao"),t.elements){var o=t.elements;l.ownsElements?"function"==typeof o&&"elements"===o._reglType?(l.elements.destroy(),l.ownsElements=!1):(l.elements(o),l.ownsElements=!1):c.getElements(t.elements)?(l.elements=t.elements,l.ownsElements=!1):(l.elements=c.create(t.elements),l.ownsElements=!0)}else l.elements=null,l.ownsElements=!1;i=t.attributes,l.offset=0,l.count=-1,l.instances=-1,l.primitive=4,l.elements&&(l.count=l.elements._elements.vertCount,l.primitive=l.elements._elements.primType),"offset"in t&&(l.offset=0|t.offset),"count"in t&&(l.count=0|t.count),"instances"in t&&(l.instances=0|t.instances),"primitive"in t&&(ne(t.primitive in Qt,"bad primitive type: "+t.primitive),l.primitive=Qt[t.primitive]),ne.optional((()=>{for(var e=Object.keys(t),n=0;n<e.length;++n)ne(wi.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+wi)})),ne(Array.isArray(i),"attributes must be an array")}ne(i.length<u,"too many attributes"),ne(i.length>0,"must specify at least one attribute");var d={},s=l.attributes;s.length=i.length;for(var m=0;m<i.length;++m){var b,Z=i[m],p=s[m]=new Ci,h=Z.data||Z;Array.isArray(h)||e(h)||Rt(h)?(l.buffers[m]&&(b=l.buffers[m],e(h)&&b._buffer.byteLength>=h.byteLength?b.subdata(h):(b.destroy(),l.buffers[m]=null)),l.buffers[m]||(b=l.buffers[m]=r.create(Z,Fi,!1,!0)),p.buffer=r.getBuffer(b),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1,d[m]=1):r.getBuffer(Z)?(p.buffer=r.getBuffer(Z),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1):r.getBuffer(Z.buffer)?(p.buffer=r.getBuffer(Z.buffer),p.size=0|(+Z.size||p.buffer.dimension),p.normalized=!!Z.normalized||!1,"type"in Z?(ne.parameter(Z.type,Ut,"invalid buffer type"),p.type=Ut[Z.type]):p.type=p.buffer.dtype,p.offset=0|(Z.offset||0),p.stride=0|(Z.stride||0),p.divisor=0|(Z.divisor||0),p.state=1,ne(p.size>=1&&p.size<=4,"size must be between 1 and 4"),ne(p.offset>=0,"invalid offset"),ne(p.stride>=0&&p.stride<=255,"stride must be between 0 and 255"),ne(p.divisor>=0,"divisor must be positive"),ne(!p.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Z?(ne(m>0,"first attribute must not be a constant"),p.x=+Z.x||0,p.y=+Z.y||0,p.z=+Z.z||0,p.w=+Z.w||0,p.state=2):ne(!1,"invalid attribute spec for location "+m)}for(var y=0;y<l.buffers.length;++y)!d[y]&&l.buffers[y]&&(l.buffers[y].destroy(),l.buffers[y]=null);return l.refresh(),a}return i.vaoCount+=1,a.destroy=function(){for(var e=0;e<l.buffers.length;++e)l.buffers[e]&&l.buffers[e].destroy();l.buffers.length=0,l.ownsElements&&(l.elements.destroy(),l.elements=null,l.ownsElements=!1),l.destroy()},a._vao=l,a._reglType="vao",a(t)}return W.prototype.bindAttrs=function(){for(var e=h(),n=this.attributes,l=0;l<n.length;++l){var i=n[l];i.buffer?(t.enableVertexAttribArray(l),t.bindBuffer(Fi,i.buffer.buffer),t.vertexAttribPointer(l,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(l,i.divisor)):(t.disableVertexAttribArray(l),t.vertexAttrib4f(l,i.x,i.y,i.z,i.w))}for(var r=n.length;r<u;++r)t.disableVertexAttribArray(r);var a=c.getElements(this.elements);a?t.bindBuffer(_i,a.buffer.buffer):t.bindBuffer(_i,null)},W.prototype.refresh=function(){var e=p();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),b.currentVAO=null,e.bindVertexArrayOES(null))},W.prototype.destroy=function(){if(this.vao){var e=p();this===b.currentVAO&&(b.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),m[this.id]&&(delete m[this.id],i.vaoCount-=1)},b}var zi=35632,Mi=35633,Qi=35718,Pi=35721;function Ei(e,n,l,i){var r={},c={};function a(e,t,n,l){this.name=e,this.id=t,this.location=n,this.info=l}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function o(t,l,i){var a=t===zi?r:c,u=a[l];if(!u){var o=n.str(l);u=e.createShader(t),e.shaderSource(u,o),e.compileShader(u),ne.shaderError(e,u,o,t,i),a[l]=u}return u}var d={},s=[],m=0;function b(e,t){this.id=m++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Z(t,l,r){var c,d,s=o(zi,t.fragId),m=o(Mi,t.vertId),b=t.program=e.createProgram();if(e.attachShader(b,s),e.attachShader(b,m),r)for(c=0;c<r.length;++c){var Z=r[c];e.bindAttribLocation(b,Z[0],Z[1])}e.linkProgram(b),ne.linkError(e,b,n.str(t.fragId),n.str(t.vertId),l);var p=e.getProgramParameter(b,Qi);i.profile&&(t.stats.uniformsCount=p);var h=t.uniforms;for(c=0;c<p;++c)if(d=e.getActiveUniform(b,c)){if(d.size>1)for(var y=0;y<d.size;++y){var f=d.name.replace("[0]","["+y+"]");u(h,new a(f,n.id(f),e.getUniformLocation(b,f),d))}var X=d.name;d.size>1&&(X=X.replace("[0]","")),u(h,new a(X,n.id(X),e.getUniformLocation(b,X),d))}var V=e.getProgramParameter(b,Pi);i.profile&&(t.stats.attributesCount=V);var W=t.attributes;for(c=0;c<V;++c)(d=e.getActiveAttrib(b,c))&&u(W,new a(d.name,n.id(d.name),e.getAttribLocation(b,d.name),d))}function p(){r={},c={};for(var e=0;e<s.length;++e)Z(s[e],null,s[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(l.getMaxUniformsCount=function(){var e=0;return s.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},l.getMaxAttributesCount=function(){var e=0;return s.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(r).forEach(t),r={},St(c).forEach(t),c={},s.forEach((function(t){e.deleteProgram(t.program)})),s.length=0,d={},l.shaderCount=0},program:function(n,i,a,u){ne.command(n>=0,"missing vertex shader",a),ne.command(i>=0,"missing fragment shader",a);var o=d[i];o||(o=d[i]={});var m=o[n];if(m&&(m.refCount++,!u))return m;var p=new b(i,n);return l.shaderCount++,Z(p,a,u),m||(o[n]=p),s.push(p),t(p,{destroy:function(){if(p.refCount--,p.refCount<=0){e.deleteProgram(p.program);var t=s.indexOf(p);s.splice(t,1),l.shaderCount--}o[p.vertId].refCount<=0&&(e.deleteShader(c[p.vertId]),delete c[p.vertId],delete d[p.fragId][p.vertId]),Object.keys(d[p.fragId]).length||(e.deleteShader(r[p.fragId]),delete r[p.fragId],delete d[p.fragId])}})},restore:p,shader:o,frag:-1,vert:-1}}var Oi=6408,Di=5121,Ai=3333,qi=5126;function $i(t,n,l,i,r,c,a){function u(u){var o;null===n.next?(ne(r.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),o=Di):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),o=n.next.colorAttachments[0].texture._texture.type,ne.optional((function(){c.oes_texture_float?(ne(o===Di||o===qi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),o===qi&&ne(a.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(o===Di,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var d=0,s=0,m=i.framebufferWidth,b=i.framebufferHeight,Z=null;e(u)?Z=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),d=0|u.x,s=0|u.y,ne(d>=0&&d<i.framebufferWidth,"invalid x offset for regl.read"),ne(s>=0&&s<i.framebufferHeight,"invalid y offset for regl.read"),m=0|(u.width||i.framebufferWidth-d),b=0|(u.height||i.framebufferHeight-s),Z=u.data||null),Z&&(o===Di?ne(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):o===qi&&ne(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(m>0&&m+d<=i.framebufferWidth,"invalid width for read pixels"),ne(b>0&&b+s<=i.framebufferHeight,"invalid height for read pixels"),l();var p=m*b*4;return Z||(o===Di?Z=new Uint8Array(p):o===qi&&(Z=Z||new Float32Array(p))),ne.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),ne(Z.byteLength>=p,"data buffer for regl.read() too small"),t.pixelStorei(Ai,4),t.readPixels(d,s,m,b,Oi,o,Z),Z}function o(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function d(e){return e&&"framebuffer"in e?o(e):u(e)}return d}function er(e){return Array.prototype.slice.call(e)}function tr(e){return er(e).join("")}function nr(){var e=0,n=[],l=[];function i(t){for(var i=0;i<l.length;++i)if(l[i]===t)return n[i];var r="g"+e++;return n.push(r),l.push(t),r}function r(){var n=[];function l(){n.push.apply(n,er(arguments))}var i=[];function r(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,er(arguments)),n.push(";")),t}return t(l,{def:r,toString:function(){return tr([i.length>0?"var "+i.join(",")+";":"",tr(n)])}})}function c(){var e=r(),n=r(),l=e.toString,i=n.toString;function c(t,l){n(t,l,"=",e.def(t,l),";")}return t((function(){e.apply(e,er(arguments))}),{def:e.def,entry:e,exit:n,save:c,set:function(t,n,l){c(t,n),e(t,n,"=",l,";")},toString:function(){return l()+i()}})}function a(){var e=tr(arguments),n=c(),l=c(),i=n.toString,r=l.toString;return t(n,{then:function(){return n.apply(n,er(arguments)),this},else:function(){return l.apply(l,er(arguments)),this},toString:function(){var t=r();return t&&(t="else{"+t+"}"),tr(["if(",e,"){",i(),"}",t])}})}var u=r(),o={};function d(e,n){var l=[];function i(){var e="a"+l.length;return l.push(e),e}n=n||0;for(var r=0;r<n;++r)i();var a=c(),u=a.toString;return o[e]=t(a,{arg:i,toString:function(){return tr(["function(",l.join(),"){",u(),"}"])}})}function s(){var e=['"use strict";',u,"return {"];Object.keys(o).forEach((function(t){e.push('"',t,'":',o[t].toString(),",")})),e.push("}");var t=tr(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,l)}return{global:u,link:i,block:r,proc:d,scope:c,cond:a,compile:s}}var lr="xyzw".split(""),ir=5121,rr=1,cr=2,ar=0,ur=1,or=2,dr=3,sr=4,mr=5,br=6,Zr="dither",pr="blend.enable",hr="blend.color",yr="blend.equation",fr="blend.func",Xr="depth.enable",Vr="depth.func",Wr="depth.range",Gr="depth.mask",Rr="colorMask",Sr="cull.enable",vr="cull.face",Lr="frontFace",Yr="lineWidth",Jr="polygonOffset.enable",xr="polygonOffset.offset",gr="sample.alpha",Hr="sample.enable",Ir="sample.coverage",Ur="stencil.enable",Kr="stencil.mask",Nr="stencil.func",kr="stencil.opFront",Br="stencil.opBack",Tr="scissor.enable",Fr="scissor.box",_r="viewport",wr="profile",Cr="framebuffer",jr="vert",zr="frag",Mr="elements",Qr="primitive",Pr="count",Er="offset",Or="instances",Dr="vao",Ar="Width",qr="Height",$r=Cr+Ar,ec=Cr+qr,tc=_r+Ar,nc=_r+qr,lc="drawingBuffer",ic=lc+Ar,rc=lc+qr,cc=[fr,yr,Nr,kr,Br,Ir,_r,Fr,xr],ac=34962,uc=34963,oc=3553,dc=34067,sc=2884,mc=3042,bc=3024,Zc=2960,pc=2929,hc=3089,yc=32823,fc=32926,Xc=32928,Vc=5126,Wc=35664,Gc=35665,Rc=35666,Sc=5124,vc=35667,Lc=35668,Yc=35669,Jc=35670,xc=35671,gc=35672,Hc=35673,Ic=35674,Uc=35675,Kc=35676,Nc=35678,kc=35680,Bc=4,Tc=1028,Fc=1029,_c=2304,wc=2305,Cc=32775,jc=32776,zc=519,Mc=7680,Qc=0,Pc=1,Ec=32774,Oc=513,Dc=36160,Ac=36064,qc={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$c=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ea={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ta={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},na={frag:35632,vert:35633},la={cw:_c,ccw:wc};function ia(t){return Array.isArray(t)||e(t)||Rt(t)}function ra(e){return e.sort((function(e,t){return e===_r?-1:t===_r?1:e<t?-1:1}))}function ca(e,t,n,l){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=l}function aa(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ua(e){return new ca(!1,!1,!1,e)}function oa(e,t){var n=e.type;if(n===ar){var l=e.data.length;return new ca(!0,l>=1,l>=2,t)}if(n===sr){var i=e.data;return new ca(i.thisDep,i.contextDep,i.propDep,t)}if(n===mr)return new ca(!1,!1,!1,t);if(n===br){for(var r=!1,c=!1,a=!1,u=0;u<e.data.length;++u){var o=e.data[u];if(o.type===ur)a=!0;else if(o.type===or)c=!0;else if(o.type===dr)r=!0;else if(o.type===ar){r=!0;var d=o.data;d>=1&&(c=!0),d>=2&&(a=!0)}else o.type===sr&&(r=r||o.data.thisDep,c=c||o.data.contextDep,a=a||o.data.propDep)}return new ca(r,c,a,t)}return new ca(n===dr,n===or,n===ur,t)}var da=new ca(!1,!1,!1,(function(){}));function sa(e,n,l,i,r,c,a,u,o,d,s,m,b,Z,p){var h=d.Record,y={add:32774,subtract:32778,"reverse subtract":32779};l.ext_blend_minmax&&(y.min=Cc,y.max=jc);var f=l.angle_instanced_arrays,X=l.webgl_draw_buffers,V=l.oes_vertex_array_object,W={dirty:!0,profile:p.profile},G={},R=[],S={},v={};function L(e){return e.replace(".","_")}function Y(e,t,n){var l=L(e);R.push(e),G[l]=W[l]=!!n,S[l]=t}function J(e,t,n){var l=L(e);R.push(e),Array.isArray(n)?(W[l]=n.slice(),G[l]=n.slice()):W[l]=G[l]=n,v[l]=t}Y(Zr,bc),Y(pr,mc),J(hr,"blendColor",[0,0,0,0]),J(yr,"blendEquationSeparate",[Ec,Ec]),J(fr,"blendFuncSeparate",[Pc,Qc,Pc,Qc]),Y(Xr,pc,!0),J(Vr,"depthFunc",Oc),J(Wr,"depthRange",[0,1]),J(Gr,"depthMask",!0),J(Rr,Rr,[!0,!0,!0,!0]),Y(Sr,sc),J(vr,"cullFace",Fc),J(Lr,Lr,wc),J(Yr,Yr,1),Y(Jr,yc),J(xr,"polygonOffset",[0,0]),Y(gr,fc),Y(Hr,Xc),J(Ir,"sampleCoverage",[1,!1]),Y(Ur,Zc),J(Kr,"stencilMask",-1),J(Nr,"stencilFunc",[zc,0,-1]),J(kr,"stencilOpSeparate",[Tc,Mc,Mc,Mc]),J(Br,"stencilOpSeparate",[Fc,Mc,Mc,Mc]),Y(Tr,hc),J(Fr,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),J(_r,_r,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var x={gl:e,context:b,strings:n,next:G,current:W,draw:m,elements:c,buffer:r,shader:s,attributes:d.state,vao:d,uniforms:o,framebuffer:u,extensions:l,timer:Z,isBufferArgs:ia},g={primTypes:Qt,compareFuncs:ea,blendFuncs:qc,blendEquations:y,stencilOps:ta,glTypes:Ut,orientationType:la};ne.optional((function(){x.isArrayLike=sn})),X&&(g.backBuffer=[Fc],g.drawBuffer=Le(i.maxDrawbuffers,(function(e){return 0===e?[0]:Le(e,(function(e){return Ac+e}))})));var H=0;function I(){var e=nr(),t=e.link,l=e.global;e.id=H++,e.batchId="0";var i=t(x),r=e.shared={props:"a0"};Object.keys(x).forEach((function(e){r[e]=l.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,l){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(l),",",this.command,");")},g.invalidBlendCombinations=$c}));var c=e.next={},a=e.current={};Object.keys(v).forEach((function(e){Array.isArray(W[e])&&(c[e]=l.def(r.next,".",e),a[e]=l.def(r.current,".",e))}));var u=e.constants={};Object.keys(g).forEach((function(e){u[e]=l.def(JSON.stringify(g[e]))})),e.invoke=function(n,l){switch(l.type){case ar:var i=["this",r.context,r.props,e.batchId];return n.def(t(l.data),".call(",i.slice(0,Math.max(l.data.length+1,4)),")");case ur:return n.def(r.props,l.data);case or:return n.def(r.context,l.data);case dr:return n.def("this",l.data);case sr:return l.data.append(e,n),l.data.ref;case mr:return l.data.toString();case br:return l.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var o={};return e.scopeAttrib=function(e){var l=n.id(e);if(l in o)return o[l];var i=d.scope[l];return i||(i=d.scope[l]=new h),o[l]=t(i)},e}function U(e){var t,n=e.static,l=e.dynamic;if(wr in n){var i=!!n[wr];(t=ua((function(e,t){return i}))).enable=i}else if(wr in l){var r=l[wr];t=oa(r,(function(e,t){return e.invoke(t,r)}))}return t}function K(e,t){var n=e.static,l=e.dynamic;if(Cr in n){var i=n[Cr];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ua((function(e,t){var n=e.link(i),l=e.shared;t.set(l.framebuffer,".next",n);var r=l.context;return t.set(r,"."+$r,n+".width"),t.set(r,"."+ec,n+".height"),n}))):ua((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var l=n.context;return t.set(l,"."+$r,l+"."+ic),t.set(l,"."+ec,l+"."+rc),"null"}))}if(Cr in l){var r=l[Cr];return oa(r,(function(e,t){var n=e.invoke(t,r),l=e.shared,i=l.framebuffer,c=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+c,"invalid framebuffer object")})),t.set(i,".next",c);var a=l.context;return t.set(a,"."+$r,c+"?"+c+".width:"+a+"."+ic),t.set(a,"."+ec,c+"?"+c+".height:"+a+"."+rc),c}))}return null}function N(e,t,n){var l=e.static,i=e.dynamic;function r(e){if(e in l){var r=l[e];ne.commandType(r,"object","invalid "+e,n.commandStr);var c,a,u=!0,o=0|r.x,d=0|r.y;return"width"in r?(c=0|r.width,ne.command(c>=0,"invalid "+e,n.commandStr)):u=!1,"height"in r?(a=0|r.height,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,new ca(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,l=c;"width"in r||(l=t.def(n,".",$r,"-",o));var i=a;return"height"in r||(i=t.def(n,".",ec,"-",d)),[o,d,l,i]}))}if(e in i){var s=i[e],m=oa(s,(function(t,n){var l=t.invoke(n,s);ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)}));var i=t.shared.context,r=n.def(l,".x|0"),c=n.def(l,".y|0"),a=n.def('"width" in ',l,"?",l,".width|0:","(",i,".",$r,"-",r,")"),u=n.def('"height" in ',l,"?",l,".height|0:","(",i,".",ec,"-",c,")");return ne.optional((function(){t.assert(n,a+">=0&&"+u+">=0","invalid "+e)})),[r,c,a,u]}));return t&&(m.thisDep=m.thisDep||t.thisDep,m.contextDep=m.contextDep||t.contextDep,m.propDep=m.propDep||t.propDep),m}return t?new ca(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",$r),t.def(n,".",ec)]})):null}var c=r(_r);if(c){var a=c;c=new ca(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=a.append(e,t),l=e.shared.context;return t.set(l,"."+tc,n[2]),t.set(l,"."+nc,n[3]),n}))}return{viewport:c,scissor_box:r(Fr)}}function k(e,t){var n=e.static;if("string"==typeof n[zr]&&"string"==typeof n[jr]){if(Object.keys(t.dynamic).length>0)return null;var l=t.static,i=Object.keys(l);if(i.length>0&&"number"==typeof l[i[0]]){for(var r=[],c=0;c<i.length;++c)ne("number"==typeof l[i[c]],"must specify all vertex attribute locations when using vaos"),r.push([0|l[i[c]],i[c]]);return r}}return null}function B(e,t,l){var i=e.static,r=e.dynamic;function c(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){s.shader(na[e],t,ne.guessCommand())}));var l=ua((function(){return t}));return l.id=t,l}if(e in r){var c=r[e];return oa(c,(function(t,n){var l=t.invoke(n,c),i=n.def(t.shared.strings,".id(",l,")");return ne.optional((function(){n(t.shared.shader,".shader(",na[e],",",i,",",t.command,");")})),i}))}return null}var a,u=c(zr),o=c(jr),d=null;return aa(u)&&aa(o)?(d=s.program(o.id,u.id,null,l),a=ua((function(e,t){return e.link(d)}))):a=new ca(u&&u.thisDep||o&&o.thisDep,u&&u.contextDep||o&&o.contextDep,u&&u.propDep||o&&o.propDep,(function(e,t){var n,l=e.shared.shader;n=u?u.append(e,t):t.def(l,".",zr);var i=l+".program("+(o?o.append(e,t):t.def(l,".",jr))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:o,progVar:a,program:d}}function T(e,t){var n=e.static,l=e.dynamic,i={},r=!1;function a(){if(Dr in n){var e=n[Dr];return null!==e&&null===d.getVAO(e)&&(e=d.createVAO(e)),r=!0,i.vao=e,ua((function(t){var n=d.getVAO(e);return n?t.link(n):"null"}))}if(Dr in l){r=!0;var t=l[Dr];return oa(t,(function(e,n){var l=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+l+")")}))}return null}var u=a(),o=!1;function s(){if(Mr in n){var e=n[Mr];if(i.elements=e,ia(e)){var a=i.elements=c.create(e,!0);e=c.getElements(a),o=!0}else e&&(e=c.getElements(e),o=!0,ne.command(e,"invalid elements",t.commandStr));var d=ua((function(t,n){if(e){var l=t.link(e);return t.ELEMENTS=l,l}return t.ELEMENTS=null,null}));return d.value=e,d}if(Mr in l){o=!0;var s=l[Mr];return oa(s,(function(e,t){var n=e.shared,l=n.isBufferArgs,i=n.elements,r=e.invoke(t,s),c=t.def("null"),a=t.def(l,"(",r,")"),u=e.cond(a).then(c,"=",i,".createStream(",r,");").else(c,"=",i,".getElements(",r,");");return ne.optional((function(){e.assert(u.else,"!"+r+"||"+c,"invalid elements")})),t.entry(u),t.exit(e.cond(a).then(i,".destroyStream(",c,");")),e.ELEMENTS=c,c}))}return r?new ca(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var m=s();function b(){if(Qr in n){var e=n[Qr];return i.primitive=e,ne.commandParameter(e,Qt,"invalid primitve",t.commandStr),ua((function(t,n){return Qt[e]}))}if(Qr in l){var c=l[Qr];return oa(c,(function(e,t){var n=e.constants.primTypes,l=e.invoke(t,c);return ne.optional((function(){e.assert(t,l+" in "+n,"invalid primitive, must be one of "+Object.keys(Qt))})),t.def(n,"[",l,"]")}))}return o?aa(m)?m.value?ua((function(e,t){return t.def(e.ELEMENTS,".primType")})):ua((function(){return Bc})):new ca(m.thisDep,m.contextDep,m.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Bc)})):r?new ca(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Bc)})):null}function Z(e,c){if(e in n){var a=0|n[e];return c?i.offset=a:i.instances=a,ne.command(!c||a>=0,"invalid "+e,t.commandStr),ua((function(e,t){return c&&(e.OFFSET=a),a}))}if(e in l){var d=l[e];return oa(d,(function(t,n){var l=t.invoke(n,d);return c&&(t.OFFSET=l,ne.optional((function(){t.assert(n,l+">=0","invalid "+e)}))),l}))}if(c){if(o)return ua((function(e,t){return e.OFFSET=0,0}));if(r)return new ca(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(r)return new ca(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var p=Z(Er,!0);function h(){if(Pr in n){var e=0|n[Pr];return i.count=e,ne.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),ua((function(){return e}))}if(Pr in l){var c=l[Pr];return oa(c,(function(e,t){var n=e.invoke(t,c);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(aa(m)){if(m)return p?new ca(p.thisDep,p.contextDep,p.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ua((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ua((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var d=new ca(m.thisDep||p.thisDep,m.contextDep||p.contextDep,m.propDep||p.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){d.DYNAMIC=!0})),d}return r?new ca(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var y=b(),f=h(),X=Z(Or,!1);return{elements:m,primitive:y,count:f,instances:X,offset:p,vao:u,vaoActive:r,elementsActive:o,static:i}}function F(e,t){var n=e.static,l=e.dynamic,r={};return R.forEach((function(e){var c=L(e);function a(t,i){if(e in n){var a=t(n[e]);r[c]=ua((function(){return a}))}else if(e in l){var u=l[e];r[c]=oa(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case Sr:case pr:case Zr:case Ur:case Xr:case Tr:case Jr:case gr:case Hr:case Gr:return a((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,l){return ne.optional((function(){t.assert(n,"typeof "+l+'==="boolean"',"invalid flag "+e,t.commandStr)})),l}));case Vr:return a((function(n){return ne.commandParameter(n,ea,"invalid "+e,t.commandStr),ea[n]}),(function(t,n,l){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,l+" in "+i,"invalid "+e+", must be one of "+Object.keys(ea))})),n.def(i,"[",l,"]")}));case Wr:return a((function(e){return ne.command(sn(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case fr:return a((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,l="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,r="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,qc,c+".srcRGB",t.commandStr),ne.commandParameter(l,qc,c+".srcAlpha",t.commandStr),ne.commandParameter(i,qc,c+".dstRGB",t.commandStr),ne.commandParameter(r,qc,c+".dstAlpha",t.commandStr),ne.command(-1===$c.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[qc[n],qc[i],qc[l],qc[r]]}),(function(t,n,l){var i=t.constants.blendFuncs;function r(r,c){var a=n.def('"',r,c,'" in ',l,"?",l,".",r,c,":",l,".",r);return ne.optional((function(){t.assert(n,a+" in "+i,"invalid "+e+"."+r+c+", must be one of "+Object.keys(qc))})),a}ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid blend func, must be an object")}));var c=r("src","RGB"),a=r("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+c+'+", "+'+a+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",c,"]"),o=n.def(i,"[",r("src","Alpha"),"]");return[u,n.def(i,"[",a,"]"),o,n.def(i,"[",r("dst","Alpha"),"]")]}));case yr:return a((function(n){return"string"==typeof n?(ne.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"==typeof n?(ne.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,l){var i=t.constants.blendEquations,r=n.def(),c=n.def(),a=t.cond("typeof ",l,'==="string"');return ne.optional((function(){function n(e,n,l){t.assert(e,l+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(a.then,e,l),t.assert(a.else,l+"&&typeof "+l+'==="object"',"invalid "+e),n(a.else,e+".rgb",l+".rgb"),n(a.else,e+".alpha",l+".alpha")})),a.then(r,"=",c,"=",i,"[",l,"];"),a.else(r,"=",i,"[",l,".rgb];",c,"=",i,"[",l,".alpha];"),n(a),[r,c]}));case hr:return a((function(e){return ne.command(sn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Le(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Le(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Kr:return a((function(e){return ne.commandType(e,"number",c,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Nr:return a((function(n){ne.commandType(n,"object",c,t.commandStr);var l=n.cmp||"keep",i=n.ref||0,r="mask"in n?n.mask:-1;return ne.commandParameter(l,ea,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(r,"number",e+".mask",t.commandStr),[ea[l],i,r]}),(function(e,t,n){var l=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",l,")")})),[t.def('"cmp" in ',n,"?",l,"[",n,".cmp]",":",Mc),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case kr:case Br:return a((function(n){ne.commandType(n,"object",c,t.commandStr);var l=n.fail||"keep",i=n.zfail||"keep",r=n.zpass||"keep";return ne.commandParameter(l,ta,e+".fail",t.commandStr),ne.commandParameter(i,ta,e+".zfail",t.commandStr),ne.commandParameter(r,ta,e+".zpass",t.commandStr),[e===Br?Fc:Tc,ta[l],ta[i],ta[r]]}),(function(t,n,l){var i=t.constants.stencilOps;function r(r){return ne.optional((function(){t.assert(n,'!("'+r+'" in '+l+")||("+l+"."+r+" in "+i+")","invalid "+e+"."+r+", must be one of "+Object.keys(ta))})),n.def('"',r,'" in ',l,"?",i,"[",l,".",r,"]:",Mc)}return ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)})),[e===Br?Fc:Tc,r("fail"),r("zfail"),r("zpass")]}));case xr:return a((function(e){ne.commandType(e,"object",c,t.commandStr);var n=0|e.factor,l=0|e.units;return ne.commandType(n,"number",c+".factor",t.commandStr),ne.commandType(l,"number",c+".units",t.commandStr),[n,l]}),(function(t,n,l){return ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)})),[n.def(l,".factor|0"),n.def(l,".units|0")]}));case vr:return a((function(e){var n=0;return"front"===e?n=Tc:"back"===e&&(n=Fc),ne.command(!!n,c,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Tc,":",Fc)}));case Yr:return a((function(e){return ne.command("number"==typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Lr:return a((function(e){return ne.commandParameter(e,la,c,t.commandStr),la[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+_c+":"+wc)}));case Rr:return a((function(e){return ne.command(sn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Le(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Ir:return a((function(e){ne.command("object"==typeof e&&e,c,t.commandStr);var n="value"in e?e.value:1,l=!!e.invert;return ne.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,l]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),r}function _(e,t){var n=e.static,l=e.dynamic,i={};return Object.keys(n).forEach((function(e){var l,r=n[e];if("number"==typeof r||"boolean"==typeof r)l=ua((function(){return r}));else if("function"==typeof r){var c=r._reglType;"texture2d"===c||"textureCube"===c?l=ua((function(e){return e.link(r)})):"framebuffer"===c||"framebufferCube"===c?(ne.command(r.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),l=ua((function(e){return e.link(r.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else sn(r)?l=ua((function(t){return t.global.def("[",Le(r.length,(function(n){return ne.command("number"==typeof r[n]||"boolean"==typeof r[n],"invalid uniform "+e,t.commandStr),r[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);l.value=r,i[e]=l})),Object.keys(l).forEach((function(e){var t=l[e];i[e]=oa(t,(function(e,n){return e.invoke(n,t)}))})),i}function w(e,t){var l=e.static,i=e.dynamic,c={};return Object.keys(l).forEach((function(e){var i=l[e],a=n.id(e),u=new h;if(ia(i))u.state=rr,u.buffer=r.getBuffer(r.create(i,ac,!1,!0)),u.type=0;else{var o=r.getBuffer(i);if(o)u.state=rr,u.buffer=o,u.type=0;else if(ne.command("object"==typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var d=i.constant;u.buffer="null",u.state=cr,"number"==typeof d?u.x=d:(ne.command(sn(d)&&d.length>0&&d.length<=4,"invalid constant for attribute "+e,t.commandStr),lr.forEach((function(e,t){t<d.length&&(u[e]=d[t])})))}else{o=ia(i.buffer)?r.getBuffer(r.create(i.buffer,ac,!1,!0)):r.getBuffer(i.buffer),ne.command(!!o,'missing buffer for attribute "'+e+'"',t.commandStr);var s=0|i.offset;ne.command(s>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var m=0|i.stride;ne.command(m>=0&&m<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var b=0|i.size;ne.command(!("size"in i)||b>0&&b<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var Z=!!i.normalized,p=0;"type"in i&&(ne.commandParameter(i.type,Ut,"invalid type for attribute "+e,t.commandStr),p=Ut[i.type]);var y=0|i.divisor;ne.optional((function(){"divisor"in i&&(ne.command(0===y||f,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,l=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(l.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+l+")",n)}))})),u.buffer=o,u.state=rr,u.size=b,u.normalized=Z,u.type=p||o.dtype,u.offset=s,u.stride=m,u.divisor=y}}c[e]=ua((function(e,t){var n=e.attribCache;if(a in n)return n[a];var l={isStream:!1};return Object.keys(u).forEach((function(e){l[e]=u[e]})),u.buffer&&(l.buffer=e.link(u.buffer),l.type=l.type||l.buffer+".dtype"),n[a]=l,l}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,l){var i=n.invoke(l,t),r=n.shared,c=n.constants,a=r.isBufferArgs,u=r.buffer;ne.optional((function(){n.assert(l,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+a+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+a+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+r.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var o={isStream:l.def(!1)},d=new h;d.state=rr,Object.keys(d).forEach((function(e){o[e]=l.def(""+d[e])}));var s=o.buffer,m=o.type;function b(e){l(o[e],"=",i,".",e,"|0;")}return l("if(",a,"(",i,")){",o.isStream,"=true;",s,"=",u,".createStream(",ac,",",i,");",m,"=",s,".dtype;","}else{",s,"=",u,".getBuffer(",i,");","if(",s,"){",m,"=",s,".dtype;",'}else if("constant" in ',i,"){",o.state,"=",cr,";","if(typeof "+i+'.constant === "number"){',o[lr[0]],"=",i,".constant;",lr.slice(1).map((function(e){return o[e]})).join("="),"=0;","}else{",lr.map((function(e,t){return o[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",a,"(",i,".buffer)){",s,"=",u,".createStream(",ac,",",i,".buffer);","}else{",s,"=",u,".getBuffer(",i,".buffer);","}",m,'="type" in ',i,"?",c.glTypes,"[",i,".type]:",s,".dtype;",o.normalized,"=!!",i,".normalized;"),b("size"),b("offset"),b("stride"),b("divisor"),l("}}"),l.exit("if(",o.isStream,"){",u,".destroyStream(",s,");","}"),o}c[e]=oa(t,n)})),c}function C(e){var t=e.static,n=e.dynamic,l={};return Object.keys(t).forEach((function(e){var n=t[e];l[e]=ua((function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];l[e]=oa(t,(function(e,n){return e.invoke(n,t)}))})),l}function j(e,t,n,i,r){var c=e.static,a=e.dynamic;ne.optional((function(){var e=[Cr,jr,zr,Mr,Qr,Er,Pr,Or,wr,Dr].concat(R);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',r.commandStr)}))}t(c),t(a)}));var u=k(e,t),o=K(e),s=N(e,o,r),m=T(e,r),b=F(e,r),Z=B(e,r,u);function p(e){var t=s[e];t&&(b[e]=t)}p(_r),p(L(Fr));var h=Object.keys(b).length>0,y={framebuffer:o,draw:m,shader:Z,state:b,dirty:h,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=U(e),y.uniforms=_(n,r),y.drawVAO=y.scopeVAO=m.vao,!y.drawVAO&&Z.program&&!u&&l.angle_instanced_arrays&&m.static.elements){var f=!0,X=Z.program.attributes.map((function(e){var n=t.static[e];return f=f&&!!n,n}));if(f&&X.length>0){var V=d.getVAO(d.createVAO({attributes:X,elements:m.static.elements}));y.drawVAO=new ca(null,null,null,(function(e,t){return e.link(V)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=w(t,r),y.context=C(i),y}function z(e,t,n){var l=e.shared.context,i=e.scope();Object.keys(n).forEach((function(r){t.save(l,"."+r);var c=n[r].append(e,t);Array.isArray(c)?i(l,".",r,"=[",c.join(),"];"):i(l,".",r,"=",c,";")})),t(i)}function M(e,t,n,l){var i,r=e.shared,c=r.gl,a=r.framebuffer;X&&(i=t.def(r.extensions,".webgl_draw_buffers"));var u,o=e.constants,d=o.drawBuffer,s=o.backBuffer;u=n?n.append(e,t):t.def(a,".next"),l||t("if(",u,"!==",a,".cur){"),t("if(",u,"){",c,".bindFramebuffer(",Dc,",",u,".framebuffer);"),X&&t(i,".drawBuffersWEBGL(",d,"[",u,".colorAttachments.length]);"),t("}else{",c,".bindFramebuffer(",Dc,",null);"),X&&t(i,".drawBuffersWEBGL(",s,");"),t("}",a,".cur=",u,";"),l||t("}")}function Q(e,t,n){var l=e.shared,i=l.gl,r=e.current,c=e.next,a=l.current,u=l.next,o=e.cond(a,".dirty");R.forEach((function(t){var l,d,s=L(t);if(!(s in n.state))if(s in c){l=c[s],d=r[s];var m=Le(W[s].length,(function(e){return o.def(l,"[",e,"]")}));o(e.cond(m.map((function(e,t){return e+"!=="+d+"["+t+"]"})).join("||")).then(i,".",v[s],"(",m,");",m.map((function(e,t){return d+"["+t+"]="+e})).join(";"),";"))}else{l=o.def(u,".",s);var b=e.cond(l,"!==",a,".",s);o(b),s in S?b(e.cond(l).then(i,".enable(",S[s],");").else(i,".disable(",S[s],");"),a,".",s,"=",l,";"):b(i,".",v[s],"(",l,");",a,".",s,"=",l,";")}})),0===Object.keys(n.state).length&&o(a,".dirty=false;"),t(o)}function P(e,t,n,l){var i=e.shared,r=e.current,c=i.current,a=i.gl;ra(Object.keys(n)).forEach((function(i){var u=n[i];if(!l||l(u)){var o=u.append(e,t);if(S[i]){var d=S[i];aa(u)?t(a,o?".enable(":".disable(",d,");"):t(e.cond(o).then(a,".enable(",d,");").else(a,".disable(",d,");")),t(c,".",i,"=",o,";")}else if(sn(o)){var s=r[i];t(a,".",v[i],"(",o,");",o.map((function(e,t){return s+"["+t+"]="+e})).join(";"),";")}else t(a,".",v[i],"(",o,");",c,".",i,"=",o,";")}}))}function E(e,t){f&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function O(e,t,n,l,i){var r,c,a,u=e.shared,o=e.stats,d=u.current,s=u.timer,m=n.profile;function b(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(e){e(r=t.def(),"=",b(),";"),"string"==typeof i?e(o,".count+=",i,";"):e(o,".count++;"),Z&&(l?e(c=t.def(),"=",s,".getNumPendingQueries();"):e(s,".beginQuery(",o,");"))}function h(e){e(o,".cpuTime+=",b(),"-",r,";"),Z&&(l?e(s,".pushScopeStats(",c,",",s,".getNumPendingQueries(),",o,");"):e(s,".endQuery();"))}function y(e){var n=t.def(d,".profile");t(d,".profile=",e,";"),t.exit(d,".profile=",n,";")}if(m){if(aa(m))return void(m.enable?(p(t),h(t.exit),y("true")):y("false"));y(a=m.append(e,t))}else a=t.def(d,".profile");var f=e.block();p(f),t("if(",a,"){",f,"}");var X=e.block();h(X),t.exit("if(",a,"){",X,"}")}function D(e,t,n,l,i){var r=e.shared;function c(e){switch(e){case Wc:case vc:case xc:return 2;case Gc:case Lc:case gc:return 3;case Rc:case Yc:case Hc:return 4;default:return 1}}function a(n,l,i){var c=r.gl,a=t.def(n,".location"),u=t.def(r.attributes,"[",a,"]"),o=i.state,d=i.buffer,s=[i.x,i.y,i.z,i.w],m=["buffer","normalized","offset","stride"];function b(){t("if(!",u,".buffer){",c,".enableVertexAttribArray(",a,");}");var n,r=i.type;if(n=i.size?t.def(i.size,"||",l):l,t("if(",u,".type!==",r,"||",u,".size!==",n,"||",m.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",c,".bindBuffer(",ac,",",d,".buffer);",c,".vertexAttribPointer(",[a,n,r,i.normalized,i.stride,i.offset],");",u,".type=",r,";",u,".size=",n,";",m.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),f){var o=i.divisor;t("if(",u,".divisor!==",o,"){",e.instancing,".vertexAttribDivisorANGLE(",[a,o],");",u,".divisor=",o,";}")}}function Z(){t("if(",u,".buffer){",c,".disableVertexAttribArray(",a,");",u,".buffer=null;","}if(",lr.map((function(e,t){return u+"."+e+"!=="+s[t]})).join("||"),"){",c,".vertexAttrib4f(",a,",",s,");",lr.map((function(e,t){return u+"."+e+"="+s[t]+";"})).join(""),"}")}o===rr?b():o===cr?Z():(t("if(",o,"===",rr,"){"),b(),t("}else{"),Z(),t("}"))}l.forEach((function(l){var r,u=l.name,o=n.attributes[u];if(o){if(!i(o))return;r=o.append(e,t)}else{if(!i(da))return;var d=e.scopeAttrib(u);ne.optional((function(){e.assert(t,d+".state","missing attribute "+u)})),r={},Object.keys(new h).forEach((function(e){r[e]=t.def(d,".",e)}))}a(e.link(l),c(l.info.type),r)}))}function A(e,t,l,i,r,c){for(var a,u=e.shared,o=u.gl,d={},s=0;s<i.length;++s){var m=i[s],b=m.name,Z=m.info.type,p=m.info.size,h=l.uniforms[b];if(p>1){if(!h)continue;var y=b.replace("[0]","");if(d[y])continue;d[y]=1}var f,X=e.link(m)+".location";if(h){if(!r(h))continue;if(aa(h)){var V=h.value;if(ne.command(null!=V,'missing uniform "'+b+'"',e.commandStr),Z===Nc||Z===kc){ne.command("function"==typeof V&&(Z===Nc&&("texture2d"===V._reglType||"framebuffer"===V._reglType)||Z===kc&&("textureCube"===V._reglType||"framebufferCube"===V._reglType)),"invalid texture for uniform "+b,e.commandStr);var W=e.link(V._texture||V.color[0]._texture);t(o,".uniform1i(",X,",",W+".bind());"),t.exit(W,".unbind();")}else if(Z===Ic||Z===Uc||Z===Kc){ne.optional((function(){ne.command(sn(V),"invalid matrix for uniform "+b,e.commandStr),ne.command(Z===Ic&&4===V.length||Z===Uc&&9===V.length||Z===Kc&&16===V.length,"invalid length for matrix uniform "+b,e.commandStr)}));var G=e.global.def("new Float32Array(["+Array.prototype.slice.call(V)+"])"),R=2;Z===Uc?R=3:Z===Kc&&(R=4),t(o,".uniformMatrix",R,"fv(",X,",false,",G,");")}else{switch(Z){case Vc:1===p?ne.commandType(V,"number","uniform "+b,e.commandStr):ne.command(sn(V)&&V.length===p,"uniform "+b,e.commandStr),a="1f";break;case Wc:ne.command(sn(V)&&V.length&&V.length%2==0&&V.length<=2*p,"uniform "+b,e.commandStr),a="2f";break;case Gc:ne.command(sn(V)&&V.length&&V.length%3==0&&V.length<=3*p,"uniform "+b,e.commandStr),a="3f";break;case Rc:ne.command(sn(V)&&V.length&&V.length%4==0&&V.length<=4*p,"uniform "+b,e.commandStr),a="4f";break;case Jc:1===p?ne.commandType(V,"boolean","uniform "+b,e.commandStr):ne.command(sn(V)&&V.length===p,"uniform "+b,e.commandStr),a="1i";break;case Sc:1===p?ne.commandType(V,"number","uniform "+b,e.commandStr):ne.command(sn(V)&&V.length===p,"uniform "+b,e.commandStr),a="1i";break;case xc:case vc:ne.command(sn(V)&&V.length&&V.length%2==0&&V.length<=2*p,"uniform "+b,e.commandStr),a="2i";break;case gc:case Lc:ne.command(sn(V)&&V.length&&V.length%3==0&&V.length<=3*p,"uniform "+b,e.commandStr),a="3i";break;case Hc:case Yc:ne.command(sn(V)&&V.length&&V.length%4==0&&V.length<=4*p,"uniform "+b,e.commandStr),a="4i"}p>1?(a+="v",V=e.global.def("["+Array.prototype.slice.call(V)+"]")):V=sn(V)?Array.prototype.slice.call(V):V,t(o,".uniform",a,"(",X,",",V,");")}continue}f=h.append(e,t)}else{if(!r(da))continue;f=t.def(u.uniforms,"[",n.id(b),"]")}Z===Nc?(ne(!Array.isArray(f),"must specify a scalar prop for textures"),t("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):Z===kc&&(ne(!Array.isArray(f),"must specify a scalar prop for cube maps"),t("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),ne.optional((function(){function n(n,l){e.assert(t,n,'bad data or missing for uniform "'+b+'".  '+l)}function l(e,t){1===t&&ne(!Array.isArray(f),"must not specify an array type for uniform"),n("Array.isArray("+f+") && typeof "+f+'[0]===" '+e+'" || typeof '+f+'==="'+e+'"',"invalid type, expected "+e)}function i(t,l,i){Array.isArray(f)?ne(f.length&&f.length%t==0&&f.length<=t*i,"must have length of "+(1===i?"":"n * ")+t):n(u.isArrayLike+"("+f+")&&"+f+".length && "+f+".length % "+t+" === 0 && "+f+".length<="+t*i,"invalid vector, should have length of "+(1===i?"":"n * ")+t,e.commandStr)}function r(t){ne(!Array.isArray(f),"must not specify a value type"),n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(t===oc?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(Z){case Sc:case Vc:l("number",p);break;case vc:case Wc:i(2,"number",p);break;case Lc:case Gc:i(3,"number",p);break;case Yc:case Rc:case Ic:i(4,"number",p);break;case Jc:l("boolean",p);break;case xc:i(2,"boolean",p);break;case gc:i(3,"boolean",p);break;case Hc:i(4,"boolean",p);break;case Uc:i(9,"number",p);break;case Kc:i(16,"number",p);break;case Nc:r(oc);break;case kc:r(dc)}}));var S=1;switch(Z){case Nc:case kc:var v=t.def(f,"._texture");t(o,".uniform1i(",X,",",v,".bind());"),t.exit(v,".unbind();");continue;case Sc:case Jc:a="1i";break;case vc:case xc:a="2i",S=2;break;case Lc:case gc:a="3i",S=3;break;case Yc:case Hc:a="4i",S=4;break;case Vc:a="1f";break;case Wc:a="2f",S=2;break;case Gc:a="3f",S=3;break;case Rc:a="4f",S=4;break;case Ic:a="Matrix2fv";break;case Uc:a="Matrix3fv";break;case Kc:a="Matrix4fv"}if(-1===a.indexOf("Matrix")&&p>1&&(a+="v",S=1),"M"===a.charAt(0)){t(o,".uniform",a,"(",X,",");var L=Math.pow(Z-Ic+2,2),Y=e.global.def("new Float32Array(",L,")");Array.isArray(f)?t("false,(",Le(L,(function(e){return Y+"["+e+"]="+f[e]})),",",Y,")"):t("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",Le(L,(function(e){return Y+"["+e+"]="+f+"["+e+"]"})),",",Y,")"),t(");")}else if(S>1){for(var J=[],x=[],g=0;g<S;++g)Array.isArray(f)?x.push(f[g]):x.push(t.def(f+"["+g+"]")),c&&J.push(t.def());c&&t("if(!",e.batchId,"||",J.map((function(e,t){return e+"!=="+x[t]})).join("||"),"){",J.map((function(e,t){return e+"="+x[t]+";"})).join("")),t(o,".uniform",a,"(",X,",",x.join(","),");"),c&&t("}")}else{if(ne(!Array.isArray(f),"uniform value must not be an array"),c){var H=t.def();t("if(!",e.batchId,"||",H,"!==",f,"){",H,"=",f,";")}t(o,".uniform",a,"(",X,",",f,");"),c&&t("}")}}}function q(e,t,n,l){var i=e.shared,r=i.gl,c=i.draw,a=l.draw;function u(){var u,o=a.elements,d=t;return o?((o.contextDep&&l.contextDynamic||o.propDep)&&(d=n),u=o.append(e,d),a.elementsActive&&d("if("+u+")"+r+".bindBuffer("+uc+","+u+".buffer.buffer);")):(u=d.def(),d(u,"=",c,".",Mr,";","if(",u,"){",r,".bindBuffer(",uc,",",u,".buffer.buffer);}","else if(",i.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",V?"":"if("+u+")"+r+".bindBuffer("+uc+","+u+".buffer.buffer);","}")),u}function o(){var i,r=a.count,u=t;return r?((r.contextDep&&l.contextDynamic||r.propDep)&&(u=n),i=r.append(e,u),ne.optional((function(){r.MISSING&&e.assert(t,"false","missing vertex count"),r.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(c,".",Pr),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var d=u();function s(i){var r=a[i];return r?r.contextDep&&l.contextDynamic||r.propDep?r.append(e,n):r.append(e,t):t.def(c,".",i)}var m,b,Z=s(Qr),p=s(Er),h=o();if("number"==typeof h){if(0===h)return}else n("if(",h,"){"),n.exit("}");f&&(m=s(Or),b=e.instancing);var y=d+".type",X=a.elements&&aa(a.elements)&&!a.vaoActive;function W(){function e(){n(b,".drawElementsInstancedANGLE(",[Z,h,y,p+"<<(("+y+"-"+ir+")>>1)",m],");")}function t(){n(b,".drawArraysInstancedANGLE(",[Z,p,h,m],");")}d&&"null"!==d?X?e():(n("if(",d,"){"),e(),n("}else{"),t(),n("}")):t()}function G(){function e(){n(r+".drawElements("+[Z,h,y,p+"<<(("+y+"-"+ir+")>>1)"]+");")}function t(){n(r+".drawArrays("+[Z,p,h]+");")}d&&"null"!==d?X?e():(n("if(",d,"){"),e(),n("}else{"),t(),n("}")):t()}f&&("number"!=typeof m||m>=0)?"string"==typeof m?(n("if(",m,">0){"),W(),n("}else if(",m,"<0){"),G(),n("}")):W():G()}function $(e,t,n,l,i){var r=I(),c=r.proc("body",i);return ne.optional((function(){r.commandStr=t.commandStr,r.command=r.link(t.commandStr)})),f&&(r.instancing=c.def(r.shared.extensions,".angle_instanced_arrays")),e(r,c,n,l),r.compile().body}function ee(e,t,n,l){E(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),D(e,t,n,l.attributes,(function(){return!0}))),A(e,t,n,l.uniforms,(function(){return!0}),!1),q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);E(e,n),z(e,n,t.context),M(e,n,t.framebuffer),Q(e,n,t),P(e,n,t.state),O(e,n,t,!1,!0);var l=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),r=n.def(l,".id"),c=n.def(i,"[",r,"]");n(e.cond(c).then(c,".call(this,a0);").else(c,"=",i,"[",r,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",l,");",c,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function le(e,t,n,l){function i(){return!0}e.batchId="a1",E(e,t),D(e,t,n,l.attributes,i),A(e,t,n,l.uniforms,i,!1),q(e,t,t,n)}function ie(e,t,n,l){E(e,t);var i=n.contextDep,r=t.def(),c="a0",a="a1",u=t.def();e.shared.props=u,e.batchId=r;var o=e.scope(),d=e.scope();function s(e){return e.contextDep&&i||e.propDep}function m(e){return!s(e)}if(t(o.entry,"for(",r,"=0;",r,"<",a,";++",r,"){",u,"=",c,"[",r,"];",d,"}",o.exit),n.needsContext&&z(e,d,n.context),n.needsFramebuffer&&M(e,d,n.framebuffer),P(e,d,n.state,s),n.profile&&s(n.profile)&&O(e,d,n,!1,!0),l)n.useVAO?n.drawVAO?s(n.drawVAO)?d(e.shared.vao,".setVAO(",n.drawVAO.append(e,d),");"):o(e.shared.vao,".setVAO(",n.drawVAO.append(e,o),");"):o(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(o(e.shared.vao,".setVAO(null);"),D(e,o,n,l.attributes,m),D(e,d,n,l.attributes,s)),A(e,o,n,l.uniforms,m,!1),A(e,d,n,l.uniforms,s,!0),q(e,o,d,n);else{var b=e.global.def("{}"),Z=n.shader.progVar.append(e,d),p=d.def(Z,".id"),h=d.def(b,"[",p,"]");d(e.shared.gl,".useProgram(",Z,".program);","if(!",h,"){",h,"=",b,"[",p,"]=",e.link((function(t){return $(le,e,n,t,2)})),"(",Z,");}",h,".call(this,a0[",r,"],",r,");")}}function re(e,t){var n=e.proc("batch",2);e.batchId="0",E(e,n);var l=!1,i=!0;Object.keys(t.context).forEach((function(e){l=l||t.context[e].propDep})),l||(z(e,n,t.context),i=!1);var r=t.framebuffer,c=!1;function a(e){return e.contextDep&&l||e.propDep}r?(r.propDep?l=c=!0:r.contextDep&&l&&(c=!0),c||M(e,n,r)):M(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(l=!0),Q(e,n,t),P(e,n,t.state,(function(e){return!a(e)})),t.profile&&a(t.profile)||O(e,n,t,!1,"a1"),t.contextDep=l,t.needsContext=i,t.needsFramebuffer=c;var u=t.shader.progVar;if(u.contextDep&&l||u.propDep)ie(e,n,t,null);else{var o=u.append(e,n);if(n(e.shared.gl,".useProgram(",o,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var d=e.global.def("{}"),s=n.def(o,".id"),m=n.def(d,"[",s,"]");n(e.cond(m).then(m,".call(this,a0,a1);").else(m,"=",d,"[",s,"]=",e.link((function(n){return $(ie,e,t,n,2)})),"(",o,");",m,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ce(e,t){var l=e.proc("scope",3);e.batchId="a2";var i=e.shared,r=i.current;function c(n){var r=t.shader[n];r&&l.set(i.shader,"."+n,r.append(e,l))}z(e,l,t.context),t.framebuffer&&t.framebuffer.append(e,l),ra(Object.keys(t.state)).forEach((function(n){var r=t.state[n].append(e,l);sn(r)?r.forEach((function(t,i){l.set(e.next[n],"["+i+"]",t)})):l.set(i.next,"."+n,r)})),O(e,l,t,!0,!0),[Mr,Er,Pr,Or,Qr].forEach((function(n){var r=t.draw[n];r&&l.set(i.draw,"."+n,""+r.append(e,l))})),Object.keys(t.uniforms).forEach((function(r){var c=t.uniforms[r].append(e,l);Array.isArray(c)&&(c="["+c.join()+"]"),l.set(i.uniforms,"["+n.id(r)+"]",c)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,l),r=e.scopeAttrib(n);Object.keys(new h).forEach((function(e){l.set(r,"."+e,i[e])}))})),t.scopeVAO&&l.set(i.vao,".targetVAO",t.scopeVAO.append(e,l)),c(jr),c(zr),Object.keys(t.state).length>0&&(l(r,".dirty=true;"),l.exit(r,".dirty=true;")),l("a1(",e.shared.context,",a0,",e.batchId,");")}function ae(e){if("object"==typeof e&&!sn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(Ze.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var l=t.static[n];if(l&&ae(l)){var i=e.global,r=Object.keys(l),c=!1,a=!1,u=!1,o=e.global.def("{}");r.forEach((function(t){var n=l[t];if(Ze.isDynamic(n)){"function"==typeof n&&(n=l[t]=Ze.unbox(n));var r=oa(n,null);c=c||r.thisDep,u=u||r.propDep,a=a||r.contextDep}else{switch(i(o,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new Ze.DynamicVariable(sr,{thisDep:c,contextDep:a,propDep:u,ref:o,append:d}),delete t.static[n]}function d(e,t){r.forEach((function(n){var i=l[n];if(Ze.isDynamic(i)){var r=e.invoke(t,i);t(o,".",n,"=",r,";")}}))}}function oe(e,n,l,i,r){var c=I();c.stats=c.link(r),Object.keys(n.static).forEach((function(e){ue(c,n,e)})),cc.forEach((function(t){ue(c,e,t)}));var a=j(e,n,l,i,c);return te(c,a),ce(c,a),re(c,a),t(c.compile(),{destroy:function(){a.shader.program.destroy()}})}return{next:G,current:W,procs:function(){var e=I(),t=e.proc("poll"),n=e.proc("refresh"),r=e.block();t(r),n(r);var c,a=e.shared,u=a.gl,o=a.next,d=a.current;r(d,".dirty=false;"),M(e,t),M(e,n,null,!0),f&&(c=e.link(f)),l.oes_vertex_array_object&&n(e.link(l.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var s=0;s<i.maxAttributes;++s){var m=n.def(a.attributes,"[",s,"]"),b=e.cond(m,".buffer");b.then(u,".enableVertexAttribArray(",s,");",u,".bindBuffer(",ac,",",m,".buffer.buffer);",u,".vertexAttribPointer(",s,",",m,".size,",m,".type,",m,".normalized,",m,".stride,",m,".offset);").else(u,".disableVertexAttribArray(",s,");",u,".vertexAttrib4f(",s,",",m,".x,",m,".y,",m,".z,",m,".w);",m,".buffer=null;"),n(b),f&&n(c,".vertexAttribDivisorANGLE(",s,",",m,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(l){var i=S[l],c=r.def(o,".",l),a=e.block();a("if(",c,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",d,".",l,"=",c,";"),n(a),t("if(",c,"!==",d,".",l,"){",a,"}")})),Object.keys(v).forEach((function(l){var i,c,a=v[l],s=W[l],m=e.block();if(m(u,".",a,"("),sn(s)){var b=s.length;i=e.global.def(o,".",l),c=e.global.def(d,".",l),m(Le(b,(function(e){return i+"["+e+"]"})),");",Le(b,(function(e){return c+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Le(b,(function(e){return i+"["+e+"]!=="+c+"["+e+"]"})).join("||"),"){",m,"}")}else i=r.def(o,".",l),c=r.def(d,".",l),m(i,");",d,".",l,"=",i,";"),t("if(",i,"!==",c,"){",m,"}");n(m)})),e.compile()}(),compile:oe}}function ma(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ba=34918,Za=34919,pa=35007,ha=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function l(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var r=[];function c(e){var n=l();t.ext_disjoint_timer_query.beginQueryEXT(pa,n),r.push(n),b(r.length-1,r.length,e)}function a(){t.ext_disjoint_timer_query.endQueryEXT(pa)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var o=[];function d(){return o.pop()||new u}function s(e){o.push(e)}var m=[];function b(e,t,n){var l=d();l.startQueryIndex=e,l.endQueryIndex=t,l.sum=0,l.stats=n,m.push(l)}var Z=[],p=[];function h(){var e,n,l=r.length;if(0!==l){p.length=Math.max(p.length,l+1),Z.length=Math.max(Z.length,l+1),Z[0]=0,p[0]=0;var c=0;for(e=0,n=0;n<r.length;++n){var a=r[n];t.ext_disjoint_timer_query.getQueryObjectEXT(a,Za)?(c+=t.ext_disjoint_timer_query.getQueryObjectEXT(a,ba),i(a)):r[e++]=a,Z[n+1]=c,p[n+1]=e}for(r.length=e,e=0,n=0;n<m.length;++n){var u=m[n],o=u.startQueryIndex,d=u.endQueryIndex;u.sum+=Z[d]-Z[o];var b=p[o],h=p[d];h===b?(u.stats.gpuTime+=u.sum/1e6,s(u)):(u.startQueryIndex=b,u.endQueryIndex=h,m[e++]=u)}m.length=e}}return{beginQuery:c,endQuery:a,pushScopeStats:b,update:h,getNumPendingQueries:function(){return r.length},clear:function(){n.push.apply(n,r);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);r.length=0,n.length=0},restore:function(){r.length=0,n.length=0}}},ya=16384,fa=256,Xa=1024,Va=34962,Wa="webglcontextlost",Ga="webglcontextrestored",Ra=1,Sa=2,va=3;function La(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Ya(e){var n=Se(e);if(!n)return null;var l=n.gl,i=l.getContextAttributes(),r=l.isContextLost(),c=ve(l,n);if(!c)return null;var a=ye(),u=ma(),o=c.extensions,d=ha(l,o),s=he(),m=l.drawingBufferWidth,b=l.drawingBufferHeight,Z={tick:0,time:0,viewportWidth:m,viewportHeight:b,framebufferWidth:m,framebufferHeight:b,drawingBufferWidth:m,drawingBufferHeight:b,pixelRatio:n.pixelRatio},p={},h={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=Gt(l,o),f=Mt(l,u,n,W),X=cn(l,o,f,u),V=ji(l,o,y,u,f,X,h);function W(e){return V.destroyBuffer(e)}var G=Ei(l,a,u,n),R=Ol(l,o,y,(function(){L.procs.poll()}),Z,u,n),S=oi(l,o,y,u,n),v=Bi(l,o,y,R,S,u),L=sa(l,a,o,y,f,X,R,v,p,V,G,h,Z,d,n),Y=$i(l,v,L.procs.poll,Z,i,o,y),J=L.next,x=l.canvas,g=[],H=[],I=[],U=[n.onDestroy],K=null;function N(){if(0===g.length)return d&&d.update(),void(K=null);K=pe.next(N),P();for(var e=g.length-1;e>=0;--e){var t=g[e];t&&t(Z,null,0)}l.flush(),d&&d.update()}function k(){!K&&g.length>0&&(K=pe.next(N))}function B(){K&&(pe.cancel(N),K=null)}function T(e){e.preventDefault(),r=!0,B(),H.forEach((function(e){e()}))}function F(e){l.getError(),r=!1,c.restore(),G.restore(),f.restore(),R.restore(),S.restore(),v.restore(),V.restore(),d&&d.restore(),L.procs.refresh(),k(),I.forEach((function(e){e()}))}function _(){g.length=0,B(),x&&(x.removeEventListener(Wa,T),x.removeEventListener(Ga,F)),G.clear(),v.clear(),S.clear(),V.clear(),R.clear(),X.clear(),f.clear(),d&&d.clear(),U.forEach((function(e){e()}))}function w(e){function n(e){var n=t({},e);function l(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(l){n[e+"."+l]=t[l]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),l("blend"),l("depth"),l("cull"),l("stencil"),l("polygonOffset"),l("scissor"),l("sample"),"vao"in e&&(n.vao=e.vao),n}function l(e,t){var n={},l={};return Object.keys(e).forEach((function(i){var r=e[i];if(Ze.isDynamic(r))l[i]=Ze.unbox(r,i);else{if(t&&Array.isArray(r))for(var c=0;c<r.length;++c)if(Ze.isDynamic(r[c]))return void(l[i]=Ze.unbox(r,i));n[i]=r}})),{dynamic:l,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=l(e.context||{},!0),c=l(e.uniforms||{},!0),a=l(e.attributes||{},!1),u=l(n(e),!1),o={gpuTime:0,cpuTime:0,count:0},d=L.compile(u,a,c,i,o),s=d.draw,m=d.batch,b=d.scope,Z=[];function p(e){for(;Z.length<e;)Z.push(null);return Z}function h(e,t){var n;if(r&&ne.raise("context lost"),"function"==typeof e)return b.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)b.call(this,null,t,n);else{if(!Array.isArray(e))return b.call(this,e,t,0);for(n=0;n<e.length;++n)b.call(this,e[n],t,n)}else if("number"==typeof e){if(e>0)return m.call(this,p(0|e),0|e)}else{if(!Array.isArray(e))return s.call(this,e);if(e.length)return m.call(this,e,e.length)}}return t(h,{stats:o,destroy:function(){d.destroy()}})}x&&(x.addEventListener(Wa,T,!1),x.addEventListener(Ga,F,!1));var C=v.setFBO=w({framebuffer:Ze.define.call(null,Ra,"framebuffer")});function j(e,t){var n=0;L.procs.poll();var i=t.color;i&&(l.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=ya),"depth"in t&&(l.clearDepth(+t.depth),n|=fa),"stencil"in t&&(l.clearStencil(0|t.stencil),n|=Xa),ne(!!n,"called regl.clear with no buffer specified"),l.clear(n)}function z(e){if(ne("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)C(t({framebuffer:e.framebuffer.faces[n]},e),j);else C(e,j);else j(null,e)}function M(e){function t(){var t=La(g,e);function n(){var e=La(g,n);g[e]=g[g.length-1],g.length-=1,g.length<=0&&B()}ne(t>=0,"cannot cancel a frame twice"),g[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),g.push(e),k(),{cancel:t}}function Q(){var e=J.viewport,t=J.scissor_box;e[0]=e[1]=t[0]=t[1]=0,Z.viewportWidth=Z.framebufferWidth=Z.drawingBufferWidth=e[2]=t[2]=l.drawingBufferWidth,Z.viewportHeight=Z.framebufferHeight=Z.drawingBufferHeight=e[3]=t[3]=l.drawingBufferHeight}function P(){Z.tick+=1,Z.time=O(),Q(),L.procs.poll()}function E(){R.refresh(),Q(),L.procs.refresh(),d&&d.update()}function O(){return(he()-s)/1e3}function D(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return M(t);case"lost":n=H;break;case"restore":n=I;break;case"destroy":n=U;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}E();var A=t(w,{clear:z,prop:Ze.define.bind(null,Ra),context:Ze.define.bind(null,Sa),this:Ze.define.bind(null,va),draw:w({}),buffer:function(e){return f.create(e,Va,!1,!1)},elements:function(e){return X.create(e,!1)},texture:R.create2D,cube:R.createCube,renderbuffer:S.create,framebuffer:v.create,framebufferCube:v.createCube,vao:V.createVAO,attributes:i,frame:M,on:D,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:Y,destroy:_,_gl:l,_refresh:E,poll:function(){P(),d&&d.update()},now:O,stats:u});return n.onDone(null,A),A}return Ya}(),$r=function(e,t,n,l){return ec[0]=l,ec[1]=n,ec[2]=t,ec[3]=e,tc[0]},ec=new Uint8Array(4),tc=new Float32Array(ec.buffer);function nc(e){for(var t=e.length/6|0,n=new Array(t),l=0;l<t;)n[l]="#"+e.slice(6*l,6*++l);return n}var lc=nc("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ic=nc("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rc=nc("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),cc=nc("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ac=nc("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),uc=nc("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),oc=nc("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),dc=nc("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),sc=nc("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),mc=nc("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),bc=e=>kl(e[e.length-1]),Zc=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(nc),pc=bc(Zc),hc=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(nc),yc=bc(hc),fc=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(nc),Xc=bc(fc),Vc=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(nc),Wc=bc(Vc),Gc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(nc),Rc=bc(Gc),Sc=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(nc),vc=bc(Sc),Lc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(nc),Yc=bc(Lc),Jc=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(nc),xc=bc(Jc),gc=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(nc),Hc=bc(gc),Ic=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(nc),Uc=bc(Ic),Kc=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(nc),Nc=bc(Kc),kc=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(nc),Bc=bc(kc),Tc=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(nc),Fc=bc(Tc),_c=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(nc),wc=bc(_c),Cc=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(nc),jc=bc(Cc),zc=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(nc),Mc=bc(zc),Qc=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(nc),Pc=bc(Qc),Ec=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(nc),Oc=bc(Ec),Dc=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(nc),Ac=bc(Dc),qc=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(nc),$c=bc(qc),ea=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(nc),ta=bc(ea),na=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(nc),la=bc(na),ia=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(nc),ra=bc(ia),ca=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(nc),aa=bc(ca),ua=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(nc),oa=bc(ua),da=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(nc),sa=bc(da),ma=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(nc),ba=bc(ma);var Za=li(Jl(300,.5,0),Jl(-240,.5,1)),pa=li(Jl(-100,.75,.35),Jl(80,1.5,.8)),ha=li(Jl(260,.75,.35),Jl(80,1.5,.8)),ya=Jl();var fa=ul(),Xa=Math.PI/3,Va=2*Math.PI/3;function Wa(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Ga=Wa(nc("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ra=Wa(nc("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Sa=Wa(nc("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),va=Wa(nc("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),La=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",schemeCategory10:lc,schemeAccent:ic,schemeDark2:rc,schemePaired:cc,schemePastel1:ac,schemePastel2:uc,schemeSet1:oc,schemeSet2:dc,schemeSet3:sc,schemeTableau10:mc,interpolateBrBG:pc,schemeBrBG:Zc,interpolatePRGn:yc,schemePRGn:hc,interpolatePiYG:Xc,schemePiYG:fc,interpolatePuOr:Wc,schemePuOr:Vc,interpolateRdBu:Rc,schemeRdBu:Gc,interpolateRdGy:vc,schemeRdGy:Sc,interpolateRdYlBu:Yc,schemeRdYlBu:Lc,interpolateRdYlGn:xc,schemeRdYlGn:Jc,interpolateSpectral:Hc,schemeSpectral:gc,interpolateBuGn:Uc,schemeBuGn:Ic,interpolateBuPu:Nc,schemeBuPu:Kc,interpolateGnBu:Bc,schemeGnBu:kc,interpolateOrRd:Fc,schemeOrRd:Tc,interpolatePuBuGn:wc,schemePuBuGn:_c,interpolatePuBu:jc,schemePuBu:Cc,interpolatePuRd:Mc,schemePuRd:zc,interpolateRdPu:Pc,schemeRdPu:Qc,interpolateYlGnBu:Oc,schemeYlGnBu:Ec,interpolateYlGn:Ac,schemeYlGn:Dc,interpolateYlOrBr:$c,schemeYlOrBr:qc,interpolateYlOrRd:ta,schemeYlOrRd:ea,interpolateBlues:la,schemeBlues:na,interpolateGreens:ra,schemeGreens:ia,interpolateGreys:aa,schemeGreys:ca,interpolatePurples:oa,schemePurples:ua,interpolateReds:sa,schemeReds:da,interpolateOranges:ba,schemeOranges:ma,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCubehelixDefault:Za,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ya.h=360*e-100,ya.s=1.5-1.5*t,ya.l=.8-.9*t,ya+""},interpolateWarm:pa,interpolateCool:ha,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,fa.r=255*(t=Math.sin(e))*t,fa.g=255*(t=Math.sin(e+Xa))*t,fa.b=255*(t=Math.sin(e+Va))*t,fa+""},interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:Ga,interpolateMagma:Ra,interpolateInferno:Sa,interpolatePlasma:va});function Ya(e){return void 0!==e.op}function Ja(e){return void 0!==e.constant}const xa={sqrt:function(){return jr.apply(null,arguments).exponent(.5)},log:function e(){const t=Tr(mr()).domain([1,10]);return t.copy=()=>sr(t,e()).base(t.base()),tr.apply(t,arguments),t},linear:Hr,literal:function e(t){var n;function l(e){return null==e||isNaN(e=+e)?n:e}return l.invert=l,l.domain=l.range=function(e){return arguments.length?(t=Array.from(e,rr),l):t.slice()},l.unknown=function(e){return arguments.length?(n=e,l):n},l.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,rr):[0,1],gr(l)}};function ga(e){const t=new Uint8Array(16384);return t.set(e.flat()),t}function Ha(e){return ga(Ke(4096).map((t=>{const n=ul(e(t/4096));return[n.r,n.g,n.b,255]})))}const Ia={white:ga(Ke(4096).map((()=>[.5,.5,.5,.5])))},Ua={};for(const[ZS,pS]of Object.entries(La)){if(ZS.startsWith("scheme")&&"string"==typeof pS[0]){const e=new Array(4096),t=pS.map((e=>{const t=ul(e);return[t.r,t.g,t.b,255]}));for(const l of Ke(4096))e[l]=t[l%pS.length];const n=ZS.replace("scheme","").toLowerCase();Ia[n]=ga(e),Ua[n]=pS}if(ZS.startsWith("interpolate")){const e=ZS.replace("interpolate","").toLowerCase();Ia[e]=Ha(pS),"rainbow"===e&&(Ia.shufbow=ke(Ia[e]))}}!function(){const e=["#E69F00","#CC79A7","#56B4E9","#009E73","#0072B2","#D55E00","#F0E442"],t=new Array(4096),n=e.map((e=>{const t=ul(e);return[t.r,t.g,t.b,255]}));for(const l of Ke(4096))t[l]=n[l%e.length];Ia.okabe=ga(t),Ua.okabe=e}();class Ka{constructor(e,t,n,l){if(this.field=null,this._texture_buffer=null,this.partner=null,this._textures={},this._scale=e=>1,this.aesthetic_map=l,void 0===this.aesthetic_map)throw new Error("Aesthetic map is undefined");this.scatterplot=e,this.regl=t,this._domain=this.default_domain,this._range=[0,1],this.tileSet=n,this._domains={},this.id=""+Math.random(),this.current_encoding={constant:1}}apply(e){return this.scale(this.value_for(e))}get transform(){return this._transform?this._transform:this.default_transform}set transform(e){this._transform=e}get scale(){let e=xa[this.transform]().domain(this.domain).range(this.range);const t=this.range;if("string"==typeof t){const e=La["interpolate"+(n=t,n.charAt(0).toUpperCase()+n.slice(1))];if(void 0!==e)return"sqrt"===this.transform?Er(e).exponent(.5).domain(this.domain):"log"===this.transform?Pr(e).domain(this.domain):Qr(e).domain(this.domain)}var n;if(this.is_dictionary())if(e=ir().domain(this.domain),"string"==typeof t&&Ua[t]){if(null===this.column.dictionary)throw new Error("Dictionary is null");e.range(Ua[t]).domain(this.column.dictionary.toArray())}else e.range(this.range);return e}get column(){if(null===this.field)throw new Error("Can't retrieve column for aesthetic without a field");if(this.tileSet.table)return this.tileSet.table.getColumn(this.field);throw new Error("Table is null")}get default_domain(){if(null==this.field)return[1,1];if(this._domains[this.field])return this._domains[this.field];if(!this.tileSet.table)return[1,1];const{column:e}=this;return e?(e.type.dictionary?this._domains[this.field]=[0,this.aesthetic_map.texture_size-1]:this._domains[this.field]=We(e.toArray()),this._domains[this.field]):[1,1]}default_data(){return Array(this.aesthetic_map.texture_size).fill(this.default_constant)}get domain(){return this._domain||this.default_domain}get range(){return this._range||this.default_range}value_for(e){return e[this.field]}get map_position(){return 0===this.use_map_on_regl?0:this.aesthetic_map.get_position(this.id)}get texture_buffer(){return this._texture_buffer||(this._texture_buffer=new Float32Array(this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}key(){return this.field+this.domain+this.range+this.transform}post_to_regl_buffer(){this.aesthetic_map.set_one_d(this.id,this.texture_buffer)}convert_string_encoding(e){return{field:e,domain:this.default_domain,range:this.default_range}}complete_domain(e){return e.domain=e.domain||this.default_domain,e}update(e){if("filter"===this.label&&console.log(e),"null"===e&&(e=null),null!==e){if(void 0!==e)if("string"==typeof e&&(e=this.convert_string_encoding(e)),"object"==typeof e){if(this.current_encoding=e,!Ja(e)&&(this.field=e.field,!Ya(e)))if(void 0===e.lambda){void 0===e.domain&&(e.domain=this.default_domain),e.range&&(this._domain=e.domain,this._range=e.range),this._transform=e.transform||void 0,("color"===this.label||e.range&&"string"==typeof e.range[0])&&(this.encode_for_textures(e.range),this.post_to_regl_buffer())}else{const{lambda:t,field:n}=e;t?(this.apply_function_for_textures(n,this.domain,t),this.post_to_regl_buffer()):e.range&&(this.encode_for_textures(this.range),this.post_to_regl_buffer())}}else{let t={constant:e};this.current_encoding=t}}else this.current_encoding={constant:this.default_constant}}encode_for_textures(e){const{texture_size:t}=this.aesthetic_map,n=new Array(t);this.scaleFunc=xa[this.transform]().range(e).domain([0,t-1]);for(let l=0;l<t;l+=1)n[l]=this.scaleFunc(l)}arrow_column(){const e=this.tileSet.table.getColumn(this.field);if(null===e)throw`No column ${this.field} on arrow table for aesthetic ${this.label}`;return e}is_dictionary(){return null!=this.field&&this.arrow_column().type.dictionary}get constant(){return Ja(this.current_encoding)?this.current_encoding.constant:this.default_constant}get use_map_on_regl(){return this.is_dictionary()&&-2047===this.domain[0]&&2047==this.domain[1]||"color"===this.label?1:0}apply_function_for_textures(e,t,n){const{texture_size:l}=this.aesthetic_map;let i;i="string"==typeof n?function(e){if("function"==typeof e.lambda)throw"Must pass a string to lambda, not a function.";const{lambda:t,field:n}=e;if(void 0===n)throw"Must pass a field to lambda.";const l=Oa(t).lambda,[i,r]=l.split("=>",2).map((e=>e.trim()));return new Function(i,r)}(Oa(n)):n,this.scaleFunc=Hr().range(t).domain([0,l-1]);let r=Ke(l);if(void 0===e||void 0===this.tileSet.table)return console.warn("SETTING EMPTY FIELD"),void this.texture_buffer.set(Ke(l).map((e=>1)));const{column:c}=this;if(!c)throw`Column ${e} does not exist on table.`;if(c.type.dictionary){r.fill(void 0);c.data.dictionary.toArray().forEach(((e,t)=>{r[t]=e}))}else r=r.map((e=>this.scale(e)));const a=r.map((e=>i(e)));this.texture_buffer.set(a)}}class Na extends Ka{static get default_constant(){return 1.5}static get_default_domain(){return[0,1]}get default_domain(){return[0,1]}}class ka extends Ka{}class Ba extends Na{constructor(){super(...arguments),this.default_constant=1,this.label="size",this.default_transform="sqrt"}static get default_constant(){return 1.5}static get_default_domain(){return[0,10]}get default_domain(){return[0,10]}}Ba.default_range=[0,1];class Ta extends Na{constructor(e,t,n,l){super(e,t,n,l),this.default_constant=0,this.default_transform="literal",this._transform="literal"}get range(){return this.tileSet.extent&&this.tileSet.extent[this.label]?this.tileSet.extent[this.label]:[-20,20]}static get default_constant(){return 0}}Ta.default_range=[-1,1];class Fa extends Ta{constructor(){super(...arguments),this.label="x"}}class _a extends Ta{constructor(){super(...arguments),this.label="y"}}class wa extends ka{constructor(e,t,n,l){super(e,t,n,l),this.default_transform="literal",this.default_constant=1,this.default_range=[0,1],this.current_encoding={constant:1}}get default_domain(){return[0,1]}get domain(){return this.is_dictionary()?[-2047,2047]:[0,1]}update(e){console.log({encoding:e}),super.update(e)}post_to_regl_buffer(){super.post_to_regl_buffer()}ops_to_array(){const e=this.current_encoding;if(null===e)return[0,0,0];if(void 0===e)return[0,0,0];if(!Ya(e))return[0,0,0];if("within"===e.op)return[4,e.a,e.b];return[[null,"lt","gt","eq"].indexOf(e.op),e.a,0]}}class Ca extends wa{constructor(){super(...arguments),this.label="filter"}}class ja extends wa{constructor(){super(...arguments),this.label="filter2"}}class za extends Ka{constructor(){super(...arguments),this.label="jitter_speed",this.default_transform="linear",this.default_constant=.5}get default_domain(){return[0,1]}}za.default_range=[0,1];class Ma extends Ka{constructor(){super(...arguments),this.jitter_int_formatted=0,this.default_transform="linear",this._method="None",this.label="jitter_radius"}get default_constant(){return 0}get default_domain(){return[0,1]}get default_range(){return[0,1]}get method(){return this._method||"None"}set method(e){this._method=e}get jitter_int_format(){return"spiral"===(e=this.method)?1:"uniform"===e?2:"normal"===e?3:"circle"===e?4:"time"===e?5:0;var e}}class Qa extends Ka{constructor(){super(...arguments),this.label="color",this.texture_type="uint8",this.default_constant=[.7,0,.5],this.default_transform="linear",this.current_encoding={constant:[.7,0,.5]}}get default_range(){return[0,1]}default_data(){return Ia.viridis}get texture_buffer(){return this._texture_buffer||(this._texture_buffer=new Uint8Array(4*this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}static convert_color(e){const{r:t,g:n,b:l}=ul(e);return[t/255,n/255,l/255]}post_to_regl_buffer(){this.aesthetic_map.set_color(this.id,this.texture_buffer)}update(e){this.current_encoding=e,Ja(e)&&"string"==typeof e.constant&&(e.constant=Qa.convert_color(e.constant)),super.update(e)}encode_for_textures(e){if(this._scale=xa[this.transform]().range(e).domain(this.domain),Ia[e])this.texture_buffer.set(Ia[e]);else if(e.length===4*this.aesthetic_map.texture_size)this.texture_buffer.set(e);else if(e.length&&e[0].length&&3===e[0].length){const t=Ke(4096).map((t=>{const[n,l,i]=e[t%e.length];return[n,l,i,255]}));this.texture_buffer.set(t.flat())}else console.warn(`request range of ${e} for color ${this.field} unknown`)}}class Pa{constructor(e,t,n,l){if(this.needs_transitions=!1,void 0===l)throw new Error("Aesthetic map is undefined.");this.scatterplot=e,this.regl=t,this.tile=n,this.aesthetic_map=l,this.aesthetic_map=l,this.current_encoding={constant:1}}get current(){return this.states[0]}get last(){return this.states[1]}get states(){return void 0!==this._states||(this._states=[new this.Factory(this.scatterplot,this.regl,this.tile,this.aesthetic_map),new this.Factory(this.scatterplot,this.regl,this.tile,this.aesthetic_map)]),this._states}update(e){JSON.stringify(e)==JSON.stringify(this.current_encoding)||void 0===e?(this.needs_transitions&&this.states[1].update(this.current_encoding),this.needs_transitions=!1):(this.states.reverse(),this.states[0].update(e),this.needs_transitions=!0,this.current_encoding=e)}}const Ea={x:class extends Pa{get Factory(){return Fa}get label(){return"x"}},y:class extends Pa{get Factory(){return _a}get label(){return"y"}},size:class extends Pa{get Factory(){return Ba}get label(){return"size"}},jitter_speed:class extends Pa{get Factory(){return za}get label(){return"jitter_speed"}},jitter_radius:class extends Pa{get Factory(){return Ma}get label(){return"jitter_radius"}},color:class extends Pa{get Factory(){return Qa}get label(){return"color"}},filter:class extends Pa{get Factory(){return Ca}get label(){return"filter"}},filter2:class extends Pa{get Factory(){return ja}get label(){return"filter2"}}};function Oa(e){let[t,n]=e.split("=>").map((e=>e.trim()));if(void 0===n)throw`Couldn't parse ${e} into a function`;"{"!==n.slice(0,1)&&"return"!==n.slice(0,6)&&(n=`return ${n}`);return{field:t,lambda:`${t} => ${n}`}}class Da{constructor(e,t,n){return this.scatterplot=e,this.store={},this.regl=t,this.tileSet=n,this.position_interpolation=!1,this.aesthetic_map=new Aa(this.regl),this}dim(e){return this.store[e]?this.store[e]:void 0!==Ea[e]?(this.store[e]=new Ea[e](this.scatterplot,this.regl,this.tileSet,this.aesthetic_map),this.store[e]):void 0}*[Symbol.iterator](){for(let[e,t]of Object.entries(this.store))yield[e,t]}interpret_position(e){if(e){e.x0||e.position0?this.position_interpolation=!0:(e.x||e.position)&&(this.position_interpolation=!1);for(const t of["position","position0"]){const n=t.replace("position","");if(e[t]){if("literal"===e[t])e[`x${n}`]={field:"x",transform:"literal"},e[`y${n}`]={field:"y",transform:"literal"};else{const l=e[t];e[`x${n}`]={field:`${l}.x`,transform:"literal"},e[`y${n}`]={field:`${l}.y`,transform:"literal"}}delete e[t]}}}delete e.position,delete e.position0}apply_encoding(e){void 0===e&&(e={}),e.filter1&&(e.filter=e.filter1,delete e.filter1),this.interpret_position(e),e.x0&&this.dim("x").update(e.x0),e.y0&&this.dim("y").update(e.y0);for(const t of Object.keys(Ea))"x0"!==t&&"y0"!==t&&this.dim(t).update(e[t])}}class Aa{constructor(e,t=4096,n=32){this.id_locs={},this.offsets={},this.texture_size=t,this.texture_widths=n,this.regl=e,this._one_d_position=1,this._color_position=-1}get_position(e){return this.offsets[e]||0}set_one_d(e,t){let n;const{offsets:l}=this;l[e]?n=l[e]:(n=this._one_d_position++,l[e]=n),console.log("Setting one-d in slot ",n-1,"on id ",e," to ",[...t].slice(0,6).join(","),this.texture_size),this.one_d_texture.subimage({data:t,width:1,height:this.texture_size},n-1,0)}set_color(e,t){let n;const{offsets:l}=this;l[e]?n=l[e]:(n=this._color_position--,l[e]=n),this.color_texture.subimage({data:t,width:1,height:this.texture_size},-n-1,0)}get one_d_texture(){if(this._one_d_texture)return this._one_d_texture;const e=this.regl.hasExtension("OES_texture_float")?"float":this.regl.hasExtension("OES_texture_half_float")?"half float":"uint8",t="uint8"===e?"rgba":"alpha",n={width:this.texture_widths,height:this.texture_size,type:e,format:t};return this._one_d_texture=this.regl.texture(n),this._one_d_texture}get color_texture(){return this._color_texture||(this._color_texture=this.regl.texture({width:this.texture_widths,height:this.texture_size,type:"uint8",format:"rgba"})),this._color_texture}}class qa extends class{constructor(e,t,n){this._use_scale_to_download_tiles=!0,this.scatterplot=n,this.holder=Ze(e),this.canvas=Ze(this.holder.node().firstElementChild),this.tileSet=t,this.prefs=n.prefs,this.width=+this.canvas.attr("width"),this.height=+this.canvas.attr("height"),this.deferred_functions=[],this._use_scale_to_download_tiles=!0}get discard_share(){return 0}get optimal_alpha(){let{zoom_balance:e,alpha:t,point_size:n}=this.prefs;const{max_ix:l,width:i,discard_share:r,height:c}=this,{k:a}=this.zoom.transform;t=void 0===t?.25:t;const u=1/a**2,o=t*(i*c)/(Ie([l,this.tileSet.highest_known_ix])*(1-r)*u*(Math.PI*Math.exp(Math.log(1*a)*e)*n)**2);return o>1?1:o<1/255?1/255:o}get max_ix(){const{prefs:e}=this;if(!this._use_scale_to_download_tiles)return e.max_points;const{k:t}=this.zoom.transform,n=Math.exp(Math.log(t)*e.zoom_balance);return e.max_points*t*t/n/n}visible_tiles(){const{max_ix:e}=this,{tileSet:t}=this;let n;return n=this._use_scale_to_download_tiles?t.map((e=>e)).filter((t=>t.is_visible(e,this.zoom.current_corners()))):t.map((e=>e)).filter((e=>e.min_ix<this.max_ix)),n.sort(((e,t)=>e.min_ix-t.min_ix)),n}bind_zoom(e){return this.zoom=e,this}set click_function(e){this._current_click_function_string=this.scatterplot.prefs.click_function,this._click_function=Function("datum",this._current_click_function_string)}get click_function(){return this._current_click_function_string&&this._current_click_function_string===this.scatterplot.prefs.click_function||(this._current_click_function_string=this.scatterplot.prefs.click_function,this._click_function=Function("datum",this.scatterplot.prefs.click_function)),this._click_function}*initialize(){return Promise.all(this._initializations).then((e=>{this.zoom.restart_timer(5e5)}))}}{constructor(e,t,n){super(e,t,n),this.buffer_size=67108864,this.textures={},this.regl=qr({optionalExtensions:["OES_standard_derivatives","OES_element_index_uint","OES_texture_float","OES_texture_half_float"],canvas:this.canvas.node()}),this.aes=new Da(n,this.regl,t),this.initialize_textures(),this._initializations=[this.tileSet.promise.then((()=>{this.remake_renderer(),this._webgl_scale_history=[this.default_webgl_scale,this.default_webgl_scale]}))],this.initialize()}get buffers(){return this._buffers=this._buffers||new eu(this.regl,this.buffer_size),this._buffers}data(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}get props(){const{prefs:e}=this,{transform:t}=this.zoom,{aes_to_buffer_num:n,buffer_num_to_variable:l,variable_to_buffer_num:i}=this.allocate_aesthetic_buffers(),r={aes:{encoding:this.aes.encoding},colors_as_grid:0,corners:this.zoom.current_corners(),zoom_balance:e.zoom_balance,transform:t,max_ix:this.max_ix,time:(Date.now()-this.zoom._start)/1e3,update_time:(Date.now()-this.most_recent_restart)/1e3,string_index:0,prefs:JSON.parse(JSON.stringify(e)),color_type:void 0,start_time:this.most_recent_restart,webgl_scale:this._webgl_scale_history[0],last_webgl_scale:this._webgl_scale_history[1],use_scale_for_tiles:this._use_scale_to_download_tiles,grid_mode:0,buffer_num_to_variable:l,aes_to_buffer_num:n,variable_to_buffer_num:i,color_picker_mode:0,zoom_matrix:[[t.k,0,t.x],[0,t.k,t.y],[0,0,1]].flat()};return JSON.parse(JSON.stringify(r))}get default_webgl_scale(){return this._default_webgl_scale||(this._default_webgl_scale=this.zoom.webgl_scale()),this._default_webgl_scale}render_points(e){const t=[];for(const n of this.visible_tiles()){const l=new $a(this.regl,n,this);if(!l.ready(e.prefs,e.block_for_buffers))continue;const i={manager:l,image_locations:l.image_locations,sprites:this.sprites};Object.assign(i,e),t.push(i)}t.reverse(),this._renderer(t)}tick(){const{prefs:e}=this,{regl:t,tileSet:n}=this,{props:l}=this;this.tick_num=this.tick_num||0,this.tick_num++,this._use_scale_to_download_tiles?n.download_most_needed_tiles(this.zoom.current_corners(),this.props.max_ix):n.download_to_depth(e.max_points),t.clear({color:[.9,.9,.93,0],depth:1});const i=Date.now();let r=()=>{};for(;Date.now()-i<10&&this.deferred_functions.length;){r=this.deferred_functions.shift();try{r()}catch(c){console.warn(c,r)}}this.render_all(l)}render_jpeg(e){}single_blur_pass(e,t,n){const{regl:l}=this;t.use((()=>{l.clear({color:[0,0,0,0]}),l({frag:"precision mediump float;\n#define GLSLIFY 1\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\nuniform vec2 iResolution;\nuniform sampler2D iChannel0;\nuniform vec2 direction;\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n  gl_FragColor = blur13(iChannel0, uv, iResolution.xy, direction);\n}\n",uniforms:{iResolution:({viewportWidth:e,viewportHeight:t})=>[e,t],iChannel0:e,direction:n},vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0, 1);\n        }",attributes:{position:[-4,-4,4,-4,0,4]},depth:{enable:!1},count:3})()}))}blur(e,t,n=3){let l=n-1;for(;l>-1;)this.single_blur_pass(e,t,[2**l,0]),this.single_blur_pass(t,e,[0,2**l]),l-=1}render_all(e){const{regl:t}=this;this.fbos.points.use((()=>{t.clear({color:[0,0,0,0]}),this.render_points(e)})),t.clear({color:[0,0,0,0]}),this.fbos.lines.use((()=>t.clear({color:[0,0,0,0]}))),this.scatterplot.trimap&&this.fbos.lines.use((()=>{this.scatterplot.trimap.zoom=this.zoom,this.scatterplot.trimap.tick("polygon")}));for(const n of[this.fbos.lines,this.fbos.points])t({profile:!0,blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},frag:"\n        precision mediump float;\n        varying vec2 uv;\n        uniform sampler2D tex;\n        uniform float wRcp, hRcp;\n        void main() {\n          gl_FragColor = texture2D(tex, uv);\n        }\n      ",vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0., 1.);\n        }\n      ",attributes:{position:this.fill_buffer},depth:{enable:!1},count:3,uniforms:{tex:()=>n,wRcp:({viewportWidth:e})=>1/e,hRcp:({viewportHeight:e})=>1/e}})()}initialize_textures(){const{regl:e}=this;this.fbos=this.fbos||{},this.textures=this.textures||{},this.textures.empty_texture=e.texture(Ke(128).map((e=>Ke(128).map((e=>[0,0,0]))))),this.fbos.minicounter=e.framebuffer({width:512,height:512,depth:!1}),this.fbos.lines=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.points=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.ping=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.pong=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.contour=this.fbos.contour||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.colorpicker=this.fbos.colorpicker||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.dummy=this.fbos.dummy||e.framebuffer({width:1,height:1,depth:!1})}get_image_texture(e){const{regl:t}=this;if(this.textures=this.textures||{},this.textures[e])return this.textures[e];const n=new Image;return n.src=e,n.onload=()=>{this.textures[e]=t.texture(n)},this.textures[e]}n_visible(e=-1){let{width:t,height:n}=this;t=Math.floor(t),n=Math.floor(n),this.contour_vals=this.contour_vals||new Uint8Array(4*t*n);const{props:l}=this;let i;return l.only_color=e,this.fbos.contour.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(l),this.regl.read(this.contour_vals),i=function(e,t){let n=0;if(void 0===t)for(let l of e)(l=+l)&&(n+=l);else{let l=-1;for(let i of e)(i=+t(i,++l,e))&&(n+=i)}return n}(this.contour_vals)})),i}color_pick(e,t){const{props:n,height:l}=this;let i;n.color_picker_mode=1,this.fbos.colorpicker.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(n);try{i=this.regl.read({x:e,y:l-t,width:1,height:1})}catch(r){console.warn("Read bad data from",{x:e,y:t,height:l,attempted:l-t}),i=[0,0,0,0]}}));const r=$r(...i)-1,c=Math.round(r),a=this.tileSet.findPoint(c);if(0!==a.length)return a[0]}get fill_buffer(){if(!this._fill_buffer){const{regl:e}=this;this._fill_buffer=e.buffer({data:[-4,-4,4,-4,0,4]})}return this._fill_buffer}draw_contour_buffer(e,t){let{width:n,height:l}=this;n=Math.floor(n),l=Math.floor(l),this.contour_vals=this.contour_vals||new Uint8Array(4*n*l),this.contour_alpha_vals=this.contour_alpha_vals||new Uint16Array(n*l);const{props:i}=this;i.aes.encoding.color={field:e},i.only_color=t,this.fbos.contour.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(i),this.regl.read(this.contour_vals)})),this.blur(this.fbos.contour,this.fbos.ping,3),this.fbos.contour.use((()=>{this.regl.read(this.contour_vals)}));let r=0;for(;r<n*l*4;)this.contour_alpha_vals[r/4]=255*this.contour_vals[r+3],r+=4;return this.contour_alpha_vals}remake_renderer(){const{regl:e}=this,t={depth:{enable:!1},stencil:{enable:!1},blend:{enable:(e,{color_picker_mode:t})=>t<.5,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},primitive:"points",frag:"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fill;\nvarying vec2 letter_pos;\nvarying float point_size;\n\nuniform float u_only_color;\nuniform float u_color_picker_mode;\n//uniform float u_use_glyphset;\n//uniform sampler2D u_glyphset;\n\nfloat delta = 0.0, alpha = 1.0;\n\nbool out_of_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.03) {return true;}\n  return false;\n}\n\nbool out_of_hollow_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.01) {return true;}\n  float distance_from_edge = (1.0 - r_sq) * point_size;\n  if (distance_from_edge > 4.0) {return true;}\n  return false;\n}\n\nbool out_of_triangle(in vec2 coord) {\n  if (coord.y > (2. * abs(coord.x - .5))) {\n    return false;\n  }\n  return true;\n}\n\nvoid main() {\n  if (u_only_color >= -1.5) {\n    gl_FragColor = vec4(0., 0., 0., 1./255.);\n    return;\n  }\n\n  float alpha = fill.a;\n//  if (u_use_glyphset == 0. || point_size < 5.0) {\n    if (out_of_circle(gl_PointCoord)) {\n      discard;\n      return;\n    }\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    #ifdef GL_OES_standard_derivatives\n      delta = fwidth(r);\n      alpha *= (1.0 - smoothstep(1.0 - delta, 1.0 + delta, r));\n    #endif\n/*  } else {\n    vec2 coords = letter_pos + gl_PointCoord/8.;\n//    vec2 coords = vec2(.2, .2);\n    vec4 sprite = texture2D(u_glyphset, coords);\n    alpha *= (sprite.a);  \n//    fill = vec4(1.0, 1.0, 1.0, alpha);  \n    if (alpha <= 0.03) discard;\n  }*/\n  // Pre-blend the alpha channel.\n  if (u_color_picker_mode == 1.) {\n    // no alpha when color picking; we use all four channels for that.\n    gl_FragColor = fill;\n  } else {\n    gl_FragColor = vec4(fill.rgb * alpha, alpha);\n  }\n\n}\n",vert:'precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_zoom_balance;\n\nuniform float u_update_time;\nuniform float u_transition_duration;\n\n// Type of jitter.\nuniform float u_jitter;\nuniform float u_last_jitter;\n\n// Whether to plot only a single category.\nuniform float u_only_color;\nuniform float u_grid_mode;\n\nuniform vec3 u_filter_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter_numeric; // An override for simple numeric operations.\n\nuniform vec3 u_filter2_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter2_numeric; // An override for simple numeric operations.\n\n// Transform from data space to the open window.\nuniform mat3 u_window_scale;\nuniform mat3 u_last_window_scale;\n// Transform from the open window to the d3-zoom.\nuniform mat3 u_zoom;\n\nuniform float u_width;\nuniform float u_height;\nuniform float u_use_glyphset;\nvarying vec2 letter_pos; // store which letter to use.\n\nuniform float u_maxix;           // The maximum index to plot.\nuniform float u_time;            // The current time.\nuniform float u_k;               // The d3-scale factor.\nuniform float u_color_picker_mode;\nuniform float u_base_size;\nuniform float u_current_alpha;\nuniform float u_last_alpha;\n\nuniform sampler2D u_one_d_aesthetic_map;\nuniform sampler2D u_color_aesthetic_map;\n\n// The same set of items for a variety of aesthetics.\n\n// whether to continuously interpolate between\n// x0 and x, y0 and y.\nuniform float u_position_interpolation_mode;\n\n/*\npython code to generate what follows.\ndef autogenerate_code():\n  ks = ["x", "y", "jitter_radius", "jitter_speed", "size", "filter1", "filter2", "x0", "y0"]\n  times = ["", "last_"]\n  print("""\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  """)\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n  uniform float u_{timek}_buffer_num;\n  uniform float u_{timek}_constant;\n  uniform float u_{timek}_transform;\n  uniform vec2 u_{timek}_domain;\n  uniform vec2 u_{timek}_range;\n  u_{timek}_map = u_aesthetic_maps;\n  uniform float u_{timek}_map_position;\n  float a_{timek};\n  bool a_{timek}_is_constant;\n      """)\n  for i in range(0, 16):\n    print(f"attribute float buffer_{i};")\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n    if (u_{timek}_buffer_num > -0.5) {{\n      a_{timek} = get_buffer(u_{timek}_buffer_num);\n      a_{timek}_is_constant = false;\n    }} else {{\n      a_{timek} = u_{timek}_constant;\n      a_{timek}_is_constant = true;\n    }}""")\n  print("""\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  """)\n\nautogenerate_code()\n*/\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  \n\n  uniform float u_x_buffer_num;\n  uniform float u_x_constant;\n  uniform float u_x_transform;\n  uniform vec2 u_x_domain;\n  uniform vec2 u_x_range;\n  uniform float u_x_map_position;\n  float a_x;\n  bool a_x_is_constant;\n      \n\n  uniform float u_last_x_buffer_num;\n  uniform float u_last_x_constant;\n  uniform float u_last_x_transform;\n  uniform vec2 u_last_x_domain;\n  uniform vec2 u_last_x_range;\n  uniform float u_last_x_map_position;\n  float a_last_x;\n  bool a_last_x_is_constant;\n      \n\n  uniform float u_y_buffer_num;\n  uniform float u_y_constant;\n  uniform float u_y_transform;\n  uniform vec2 u_y_domain;\n  uniform vec2 u_y_range;\n  uniform float u_y_map_position;\n  float a_y;\n  bool a_y_is_constant;\n      \n\n  uniform float u_last_y_buffer_num;\n  uniform float u_last_y_constant;\n  uniform float u_last_y_transform;\n  uniform vec2 u_last_y_domain;\n  uniform vec2 u_last_y_range;\n  uniform float u_last_y_map_position;\n  float a_last_y;\n  bool a_last_y_is_constant;\n      \n\n  uniform float u_jitter_radius_buffer_num;\n  uniform float u_jitter_radius_constant;\n  uniform float u_jitter_radius_transform;\n  uniform vec2 u_jitter_radius_domain;\n  uniform vec2 u_jitter_radius_range;\n  uniform float u_jitter_radius_map_position;\n  float a_jitter_radius;\n  bool a_jitter_radius_is_constant;\n      \n\n  uniform float u_last_jitter_radius_buffer_num;\n  uniform float u_last_jitter_radius_constant;\n  uniform float u_last_jitter_radius_transform;\n  uniform vec2 u_last_jitter_radius_domain;\n  uniform vec2 u_last_jitter_radius_range;\n  uniform float u_last_jitter_radius_map_position;\n  float a_last_jitter_radius;\n  bool a_last_jitter_radius_is_constant;\n      \n\n  uniform float u_jitter_speed_buffer_num;\n  uniform float u_jitter_speed_constant;\n  uniform float u_jitter_speed_transform;\n  uniform vec2 u_jitter_speed_domain;\n  uniform vec2 u_jitter_speed_range;\n  uniform float u_jitter_speed_map_position;\n  float a_jitter_speed;\n  bool a_jitter_speed_is_constant;\n      \n\n  uniform float u_last_jitter_speed_buffer_num;\n  uniform float u_last_jitter_speed_constant;\n  uniform float u_last_jitter_speed_transform;\n  uniform vec2 u_last_jitter_speed_domain;\n  uniform vec2 u_last_jitter_speed_range;\n  uniform float u_last_jitter_speed_map_position;\n  float a_last_jitter_speed;\n  bool a_last_jitter_speed_is_constant;\n      \n\n  uniform float u_size_buffer_num;\n  uniform float u_size_constant;\n  uniform float u_size_transform;\n  uniform vec2 u_size_domain;\n  uniform vec2 u_size_range;\n  uniform float u_size_map_position;\n  float a_size;\n  bool a_size_is_constant;\n      \n\n  uniform float u_last_size_buffer_num;\n  uniform float u_last_size_constant;\n  uniform float u_last_size_transform;\n  uniform vec2 u_last_size_domain;\n  uniform vec2 u_last_size_range;\n  uniform float u_last_size_map_position;\n  float a_last_size;\n  bool a_last_size_is_constant;\n      \n\n  uniform float u_filter_buffer_num;\n  uniform float u_filter_map_position;\n  float a_filter1;\n  bool a_filter_is_constant;\n      \n\n  uniform float u_last_filter_buffer_num;\n  uniform float u_last_filter_map_position;\n  float a_last_filter1;\n  bool a_last_filter_is_constant;\n\n  uniform float u_filter2_buffer_num;\n  uniform float u_filter2_map_position;\n  float a_filter2;\n  bool a_filter2_is_constant;\n      \n\n  uniform float u_last_filter2_buffer_num;\n  uniform float u_last_filter2_map_position;\n  float a_last_filter2;\n  bool a_last_filter2_is_constant;\n\n  uniform float u_x0_buffer_num;\n  uniform float u_x0_constant;\n  uniform float u_x0_transform;\n  uniform vec2 u_x0_domain;\n  uniform vec2 u_x0_range;\n  uniform float u_x0_map_position;\n  float a_x0;\n  bool a_x0_is_constant;\n      \n\n  uniform float u_last_x0_buffer_num;\n  uniform float u_last_x0_constant;\n  uniform float u_last_x0_transform;\n  uniform vec2 u_last_x0_domain;\n  uniform vec2 u_last_x0_range;\n  uniform float u_last_x0_map_position;\n  float a_last_x0;\n  bool a_last_x0_is_constant;\n      \n\n  uniform float u_y0_buffer_num;\n  uniform float u_y0_constant;\n  uniform float u_y0_transform;\n  uniform vec2 u_y0_domain;\n  uniform vec2 u_y0_range;\n  uniform float u_y0_map_position;\n  float a_y0;\n  bool a_y0_is_constant;\n      \n\n  uniform float u_last_y0_buffer_num;\n  uniform float u_last_y0_constant;\n  uniform float u_last_y0_transform;\n  uniform vec2 u_last_y0_domain;\n  uniform vec2 u_last_y0_range;\n  uniform float u_last_y0_map_position;\n  float a_last_y0;\n  bool a_last_y0_is_constant;\n      \nattribute float buffer_0;\nattribute float buffer_1;\nattribute float buffer_2;\nattribute float buffer_3;\nattribute float buffer_4;\nattribute float buffer_5;\nattribute float buffer_6;\nattribute float buffer_7;\nattribute float buffer_8;\nattribute float buffer_9;\nattribute float buffer_10;\nattribute float buffer_11;\nattribute float buffer_12;\nattribute float buffer_13;\nattribute float buffer_14;\nattribute float buffer_15;\n\n// END AUTOGENERATED\n  \n\nhighp float ix_to_random(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\n\nfloat a_color;\nfloat a_last_color;\n\nuniform float u_color_buffer_num;\nuniform float u_last_color_buffer_num;\n\nuniform vec3 u_color_constant;\nuniform vec3 u_last_color_constant;\n\nuniform float u_color_transform;\nuniform float u_last_color_transform;\nuniform vec2 u_color_domain;\nuniform vec2 u_last_color_domain;\nuniform float u_last_color_map_position;\nuniform float u_color_map_position;\nuniform vec3 u_constant_color;\nuniform vec3 u_constant_last_color;\n\nbool a_color_is_constant;\nbool a_last_color_is_constant;\n\n// The fill color.\nvarying vec4 fill;\nvarying float point_size;\n\nuniform float u_jitter_radius_lookup;\nuniform float u_jitter_radius_lookup_y_constant;\nuniform vec2 u_jitter_radius_lookup_x_domain;\nuniform vec2 u_jitter_radius_lookup_y_domain;\n\nfloat point_size_adjust;\n\n// A coordinate to throw away a vertex point.\nvec4 discard_me = vec4(100.0, 100.0, 1.0, 1.0);\n\n// Initialized in the main loop\n// mat3 from_coord_to_gl;\n\nconst float e = 1.618282;\n// I\'ve been convinced.\nconst float tau = 2. * 3.14159265359;\n\n// uniform vec4 corners;\n\n/*************** COLOR SCALES *******************************/\n\n// Ha! A gazillion version of this function:\n// https://gist.github.com/kylemcdonald/f8df3bc2f8d38ca2b7cb\n/*vec3 hsv2rgb(in vec3 c) {\n  vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0,\n                   0.0, 1.0);\n  rgb = rgb * rgb * (3.0 - 2.0 * rgb);\n  return c.z * mix(vec3(1.0), rgb, c.y);\n}*/\n\nfloat interpolate_raw(in float x, in float min, in float max) {\n  if (x < min) {return 0.;}\n  if (x > max) {return 1.;}\n  return (x - min)/(max - min);\n}\n\nfloat interpolate(in float x, in float min, in float max) {\n  if (max < min) {\n    return 1. - interpolate_raw(x, max, min);\n  } else {\n    return interpolate_raw(x, min, max);\n  }\n}\n\n/*\n\nThe following glsl code was written in python.\n\nbuffers = [*range(16)]\n\ndef write_buffs(buffs):\n    if len(buffs) == 1:\n        return[f"return buffer_{buffs[0]}"]\n    condition_1 = ["  " + line for line in write_buffs(buffs[:len(buffs)//2])]\n    condition_2 = ["" + line for line in write_buffs(buffs[len(buffs)//2:])]\n\n    args = [\n        f"if (i < {buffs[len(buffs) // 2 - 1]}.5) {{",\n        *condition_1,\n        "}",\n        *condition_2\n    ]\n    return args\n\nprint("\\n".join(write_buffs(buffers)))\n*/\n\nfloat get_buffer(in float i) {\n  //given an index, returns the appropriate buffer.\n  if (i < 7.5) {\n    if (i < 3.5) {\n      if (i < 1.5) {\n        if (i < 0.5) {\n          return buffer_0;\n        }\n        return buffer_1;\n      }\n      if (i < 2.5) {\n        return buffer_2;\n      }\n      return buffer_3;\n    }\n    if (i < 5.5) {\n      if (i < 4.5) {\n        return buffer_4;\n      }\n      return buffer_5;\n    }\n    if (i < 6.5) {\n      return buffer_6;\n    }\n    return buffer_7;\n  }\n  if (i < 11.5) {\n    if (i < 9.5) {\n      if (i < 8.5) {\n        return buffer_8;\n      }\n      return buffer_9;\n    }\n    if (i < 10.5) {\n      return buffer_10;\n    }\n    return buffer_11;\n  }\n  if (i < 13.5) {\n    if (i < 12.5) {\n      return buffer_12;\n    }\n    return buffer_13;\n  }\n  if (i < 14.5) {\n    return buffer_14;\n  }\n  return buffer_15;\n}\n\nfloat linstep(in vec2 range, in float x) {\n  return interpolate(x, range.x, range.y);\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return clamp(from_left / scale_size, 0.0, 1.0);\n}\n\nfloat linscale(in vec2 range, in float x) {\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return from_left / scale_size;\n}\n\nvec2 box_muller(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random(ix, seed);\n  highp float V = ix_to_random(ix, seed + 17.123123);\n  return vec2(sqrt(-2. * log(U)) * cos(tau * V),\n              sqrt(-2. * log(U)) * sin(tau * V));\n}\n\n/*************** END COLOR SCALES *******************************/\n\nfloat domainify(in vec2 domain, in float transform, in float attr, in bool clamped) {\n\n  // Clamp an attribute into a domain, with an option log or sqrt transform.\n  if (transform == 2.) {\n    domain = sqrt(domain);\n    attr = sqrt(attr);\n  }\n  if (transform == 3.) {\n    domain = log(domain);\n    attr = log(attr);\n  }\n  if (clamped) {\n    return linstep(domain, attr);\n  } else {\n    return linscale(domain, attr);\n  }\n}\n\nmat3 pixelspace_to_glspace;\n\nfloat run_numeric_filter (in float a_filter,\n  in float u_filter_op, in float u_filter_param_1,\n  in float u_filter_param_2) {\n  bool truthy;\n  if (u_filter_op < 1.5) {\n    truthy = a_filter < u_filter_param_1;\n  } else if (u_filter_op < 2.5) {\n    truthy = a_filter > u_filter_param_1;\n  } else if (u_filter_op < 3.5) {\n    truthy = a_filter == u_filter_param_1;\n  } else if (u_filter_op < 4.5) {\n    truthy = abs(a_filter - u_filter_param_2) < u_filter_param_1;\n  }\n  if (truthy) {return 1.;} else {return 0.;}\n}\n\nfloat choose_and_run_filter(\n  in vec3 u_filter_numeric,\n  in float a_filter,\n  in float map_location,\n  in bool filter_is_constant\n  ) {\n    if (filter_is_constant) {\n      return 1.;\n    }\n    if (u_filter_numeric.r < 0.5) {\n      // Must be on a dictionary. Unreasonable assumption, maybe?\n      float frac_filter = linstep(vec2(-2047., 2047), a_filter);\n      float map_coords = (map_location - .5) / 32.;\n      return texture2D(u_one_d_aesthetic_map, vec2(map_coords, frac_filter)).a;\n    } else {\n      return run_numeric_filter(a_filter,\n        u_filter_numeric.r, u_filter_numeric.g, u_filter_numeric.b);\n    }\n}\n\nconst float tau_0 = 2. * 3.14159265359;\n\nhighp float ix_to_random_1540259130(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt= dot(co.xy ,vec2(a,b));\n  highp float sn= mod(dt,3.14);\n  return fract(sin(sn) * c);\n}\n\nhighp vec2 box_muller_1540259130(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random_1540259130(ix, seed);\n  highp float V = ix_to_random_1540259130(ix, seed + 17.123123);\n  return vec2(\n    sqrt(-2.*log(U))*cos(tau_0*V),\n    sqrt(-2.*log(U))*sin(tau_0*V)\n  );\n}\n\nvec2 logarithmic_spiral_jitter_1540259130(\n  in float ix, // a random seed.\n  in float a, // offset\n  in float angle_parameter_1540259130, // angle parameter\n  in float randomize_angle_1540259130, // sd radians\n  in float max_r_1540259130, // Maximum radius of spiral.\n  in float randomize_rotation_max_radians_1540259130, // in standard deviations to the log-multiplier.\n  in float randomize_radius_1540259130, // in standard deviation percentage points.\n  in float hole, // donut hole size.\n  in float speed_0, // webgl units per second.\n  in float time_0,// The time, in seconds, to plot at. Generally passed as a uniform or something.\n  in float acceleration,\n  in float n_spirals_1540259130,\n  in float shear,\n  in float aspect_ratio_1540259130\n  ) {\n  // Each point starts at a different place on the spiral.\n  vec2 two_gaussians_1540259130 = box_muller_1540259130(ix, 55.1);\n\n  highp float calculated_angle = angle_parameter_1540259130 + two_gaussians_1540259130.x * randomize_angle_1540259130;\n  float k = 1. / tan(calculated_angle);\n  if (k > 100000.) {\n    k = 0.;\n  }\n\n  // The length of the segment to be traversed.\n  float arc_length =  sqrt((1. + k*k)/k) * (max_r_1540259130 - a);\n  float period = arc_length / speed_0;\n\n  // Every point needs to start at a different place along the curve.\n  float stagger_time = ix_to_random_1540259130(ix, 3.);\n\n  // How long does a circuit take? Add some random noise.\n  float time_period = period * exp(box_muller_1540259130(ix, 0.031).x / 6.);\n\n  // Adjust u_time from the clock to our current spot.\n  float varying_time = time_0 + stagger_time * time_period;\n\n  // Adjust that time by raising to a power to set the speed along the curve.\n  // Not sure if this is the soundest way to parametrize.\n  float relative_time = pow(1. - mod(varying_time, time_period)/time_period, acceleration);\n\n  // Calculate the radius at this time point.\n  float radius = max_r_1540259130 * relative_time + a;\n\n  // The angle implied by that radius.\n  float theta  = 1./k * log(radius / a);\n\n  /* A different way to calculate radius from the theta. Not used\n  float max_theta = 1. / k * log(max_r / a);\n  float theta2 = max_theta * relative_time;\n  vec2 pos_theta_style = vec2(a * exp(k * theta2), theta2);\n  radius = pos_theta_style.x;\n  theta = pos_theta_style.y;\n  */\n\n  // If multiple spirals, the theta needs to be rotated for which spiral we\'re in.\n  // Choose it based on a new random seed.\n  float which_spiral = floor(ix_to_random_1540259130(ix, 13.13) * n_spirals_1540259130);\n  float which_spiral_adjust = which_spiral / n_spirals_1540259130 * tau_0;\n  theta = theta + which_spiral_adjust;\n\n  // Add some gaussian jitter to the polar coordinates.\n  vec2 polar_jitter = box_muller_1540259130(ix, 24.);\n\n  highp float radius_adjust = 1. + polar_jitter.x * randomize_radius_1540259130;\n  highp float theta_adjust = polar_jitter.y * randomize_rotation_max_radians_1540259130;\n\n  vec2 shear_adjust = box_muller_1540259130(ix, 59.1) * shear;\n\n  mat3 shear_mat = mat3(\n    1., shear_adjust.x, 0.,\n    shear_adjust.y, 1., 0.,\n    0., 0., 1.);\n  // into euclidean space.\n  vec3 pos_spiral = vec3(\n   cos(theta + theta_adjust)*(radius * radius_adjust + hole),\n   sin(theta + theta_adjust)*(radius * radius_adjust + hole),\n   0.\n  );\n  mat3 adjust_to_viewport =\n         mat3(\n            1./aspect_ratio_1540259130, 0., 0.,\n            0., 1., 0.,\n            0., 0., 1.);\n\n  pos_spiral = pos_spiral * shear_mat * \n               adjust_to_viewport;\n  return pos_spiral.xy;\n}\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1604150559(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut_0(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\nconst vec4 decoder = vec4(1./256./256./256., 1. / 256. / 256., 1. / 256., 1.);\n\nfloat RGBAtoFloat(in vec4 floater) {\n  //return 0.05;\n  // Scale values up by 256.\n  return dot(floater, decoder);\n}\n\nfloat texture_float_lookup(in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float texture_position,\n                           in float y_attr,// not used\n                           in vec2 y_range) { // not used.\n  if (transform == 4.0) {\n    // Literal transforms aren\'t looked up, just returned as is.\n    return attr;\n  }\n  float inrange = domainify(domain, transform, attr, true);\n  if (texture_position > 0.5) {\n    float y_pos = texture_position / 32. - 0.5 / 32.;\n    vec4 encoded = texture2D(u_one_d_aesthetic_map, vec2(y_pos, inrange));\n    return encoded.a;\n    return RGBAtoFloat(encoded); // unreachable.\n  } else {\n    return mix(range.x, range.y, inrange);\n  }\n}\n\nfloat texture_float_lookup(in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float texture_pos) {\n\n  return texture_float_lookup(domain,\n                              range,\n                              transform,\n                              attr,\n                              texture_pos,\n                              1.,\n                              vec2(0., 2.));\n}\n\nvec2 calculate_position(in vec2 position, in float x_scale_type,\n                        in vec2 x_domain, in vec2 x_range, in float y_scale_type,\n                        in vec2 y_domain, in vec2 y_range, in mat3 window_scale,\n                        in mat3 zoom, in float x_map_position,\n                        in float y_map_position\n                        ) {\n    float x;\n    float y;\n\n    if (x_scale_type < 4.0) {\n      x = texture_float_lookup(x_domain, x_range,\n        x_scale_type,\n        position.x, x_map_position, 1., vec2(0., 2.)\n        );\n    } else {\n      x = position.x;\n    }\n\n    if (x_scale_type < 4.0) {\n      y = texture_float_lookup(y_domain, y_range, y_scale_type,\n        position.y, y_map_position, 1., vec2(0., 2.)\n        );\n    } else {\n      y = position.y;\n    }\n\n    vec3 pos2d = vec3(x, y, 1.0) * window_scale * zoom * pixelspace_to_glspace;\n    return pos2d.xy;\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 1. - 4.0 * pow(1. - t, 3.0);\n}\n\nvec4 ixToRGBA(in float ix)  {\n  float min = fract(ix / 256.);\n  float mid = fract((ix - min) / 256.);\n  float high = fract((ix - min - mid * 256.) / (256.) / 256.);\n  return vec4(min, mid, high, 1.);\n}\n\nvec2 circle_jitter(in float ix, in float aspect_ratio, in float time,\n                   in float radius, in float speed) {\n  vec2 two_gaussians = box_muller(ix, 12.);\n\n  float stagger_time = two_gaussians.y * tau;\n\n  // How long does a circuit take?\n\n  float units_per_period = radius * radius * tau / 2.;\n  float units_per_second = speed / 100.;\n  float seconds_per_period = units_per_period / units_per_second;\n  float time_period = seconds_per_period;\n  if (time_period > 1e4) {\n    return vec2(0., 0.);\n  }\n\n  // Adjust time from the clock to our current spot.\n  float varying_time = time + stagger_time * time_period;\n  // Where are we from 0 to 1 relative to the time period\n\n  float relative_time = 1. - mod(varying_time, time_period) / time_period;\n\n  float theta = relative_time * tau;\n\n  float r_mult = (sqrt(ix_to_random(ix, 7.)));\n  return vec2(cos(theta) * r_mult, aspect_ratio * sin(theta) * r_mult) *\n         radius;\n}\n\nvec2 calculate_jitter(\n  in float jitter_type,\n  in float ix, // distinguishing index\n  in vec2 jitter_radius_domain,\n  in vec2 jitter_radius_range,\n  in float jitter_radius_transform,\n  in float jitter_radius,\n  in float jitter_radius_map_position,\n  in bool jitter_radius_is_constant,\n  in vec2 jitter_speed_domain,\n  in vec2 jitter_speed_range,\n  in float jitter_speed_transform,\n  in float jitter_speed,\n  in float jitter_speed_map_position,\n  in bool jitter_speed_is_constant\n) {\n\n  // Jitter is calculated based on speed, so requires two full maps in.\n\n  if (jitter_type == 0.) {\n    // No jitter\n    return vec2(0., 0.);\n  }\n\n  if (jitter_type == 5.) {\n    // Temporal jitter--should be broken out into a separate channel/channels.\n    float time_period = 60.;\n    float share = 1./4.;\n    float offset = ix_to_random(ix, 12.);\n    float fractional = fract((offset * time_period + u_time)/time_period);\n    if (fractional > share) {\n      return vec2(0., 0.);\n    }\n    float size = 0.5 * (1. - cos(2. * 3.1415926 * min(fractional/share, 1. - fractional/share)));\n    size = clamp(size, 0., 1.);\n    return vec2(size, 0.);\n  }\n  float jitter_r;  \n  if (jitter_radius_is_constant) {\n    jitter_r = jitter_radius;\n  } else {\n    jitter_r = texture_float_lookup(\n    jitter_radius_domain,\n    jitter_radius_range,\n    jitter_radius_transform,\n    jitter_radius,\n    0., 0., vec2(-1., 1.));\n  }\n  if (jitter_type == 3.) {\n    float r = box_muller(ix, 1.).r * jitter_r;\n    r = r / u_k;    \n    float theta = ix_to_random(ix, 15.) * tau;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  if (jitter_type == 2.) {\n    // uniform in the circle.\n    float theta = ix_to_random(ix, 15.) * tau;\n    float r = jitter_r * sqrt(ix_to_random(ix, 115.));\n    r = r / u_k;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  /* Jittering that includes motion) */\n\n  float p_jitter_speed =\n      texture_float_lookup(jitter_speed_domain,\n                          jitter_speed_range,\n                          jitter_speed_transform, jitter_speed,\n                          jitter_speed_map_position,  1., vec2(0., 2.));\n\n  if (jitter_type == 1.) {\n    return logarithmic_spiral_jitter_1540259130(\n                ix,\n                0.005 * jitter_r,                     // a\n                1.3302036,                       // angle parameter\n                0.005,                                 // angle random\n                jitter_r,                             // max radius\n                0.03,                                 // random_rotation\n                0.06,                                 // random radius\n                0.003 * point_size_adjust * jitter_r, // donut.\n                .5 * p_jitter_speed * jitter_r / point_size_adjust, // speed\n                u_time,                                           // time\n                0.8,                                              // acceleration\n                2.0,                                              // n_spirals\n                .09, //shear\n                u_width/u_height         // shear\n            );\n  }\n\n  if (jitter_type == 4.) {\n    // circle\n    return circle_jitter(ix, u_width/u_height, u_time, jitter_r, p_jitter_speed);\n  }\n}\n\nvoid run_color_fill(in float ease) {\n\n  if (u_only_color >= -1.5) {\n    if (u_only_color > -.5 && a_color != u_only_color) {\n      gl_Position = discard_me;\n      return;\n    } else {\n      // -1 is a special value meaning \'plot everything\'.\n      fill = vec4(0., 0., 0., 1. / 255.);\n      gl_PointSize = 1.;\n    }\n  } else {\n    if (a_color_is_constant) {\n      fill = vec4(u_constant_color.rgb, u_current_alpha);\n    } else {\n      float fractional_color = linstep(u_color_domain, a_color);\n      float color_pos = (u_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n      fill = texture2D(u_color_aesthetic_map , vec2(color_pos, fractional_color));\n      fill = vec4(fill.rgb, u_current_alpha);\n    }\n    if (ease < 1.) {\n      vec4 last_fill;\n      if (a_last_color_is_constant) {\n        last_fill = vec4(u_constant_last_color.rgb, u_last_alpha);\n      } else {\n        float last_fractional = linstep(u_last_color_domain, a_last_color);\n        float color_pos = (u_last_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n        last_fill = texture2D(u_color_aesthetic_map, vec2(color_pos, last_fractional));\n        // Alpha channel interpolation already happened.\n        last_fill = vec4(last_fill.rgb, u_last_alpha);\n      }\n      // RGB blending is bad--maybe use https://www.shadertoy.com/view/lsdGzN\n      // instead?\n      fill = mix(last_fill, fill, ease);\n    }\n  }\n}\n\nvoid main() {\n  float debug_mode = 0.;\n  float ix = buffer_0;\n  if (ix > u_maxix && debug_mode < 1.) {\n    // throw away points that are too low.\n    gl_Position = discard_me;\n    return;\n  }\n\n  if (debug_mode > 1.5) {\n    // Debug mode.\n//    fill = vec4(ix_to_random(ix, 15.), ix_to_random(ix, 15.), ix_to_random(ix, 11.), 1.);\n    gl_PointSize = 2.;\n    gl_Position = vec4(box_muller(ix, 2.).xy * .33, 0., 1.);\n    return;\n  }\n\n // Autogenerated below this point\n if (u_x_buffer_num > -0.5) {\n      a_x = get_buffer(u_x_buffer_num);\n      a_x_is_constant = false;\n    } else {\n      a_x = u_x_constant;\n      a_x_is_constant = true;\n    }\n\n    if (u_last_x_buffer_num > -0.5) {\n      a_last_x = get_buffer(u_last_x_buffer_num);\n      a_last_x_is_constant = false;\n    } else {\n      a_last_x = u_last_x_constant;\n      a_last_x_is_constant = true;\n    }\n\n    if (u_y_buffer_num > -0.5) {\n      a_y = get_buffer(u_y_buffer_num);\n      a_y_is_constant = false;\n    } else {\n      a_y = u_y_constant;\n      a_y_is_constant = true;\n    }\n\n    if (u_last_y_buffer_num > -0.5) {\n      a_last_y = get_buffer(u_last_y_buffer_num);\n      a_last_y_is_constant = false;\n    } else {\n      a_last_y = u_last_y_constant;\n      a_last_y_is_constant = true;\n    }\n\n    if (u_jitter_radius_buffer_num > -0.5) {\n      a_jitter_radius = get_buffer(u_jitter_radius_buffer_num);\n      a_jitter_radius_is_constant = false;\n    } else {\n      a_jitter_radius = u_jitter_radius_constant;\n      a_jitter_radius_is_constant = true;\n    }\n\n    if (u_last_jitter_radius_buffer_num > -0.5) {\n      a_last_jitter_radius = get_buffer(u_last_jitter_radius_buffer_num);\n      a_last_jitter_radius_is_constant = false;\n    } else {\n      a_last_jitter_radius = u_last_jitter_radius_constant;\n      a_last_jitter_radius_is_constant = true;\n    }\n\n    if (u_jitter_speed_buffer_num > -0.5) {\n      a_jitter_speed = get_buffer(u_jitter_speed_buffer_num);\n      a_jitter_speed_is_constant = false;\n    } else {\n      a_jitter_speed = u_jitter_speed_constant;\n      a_jitter_speed_is_constant = true;\n    }\n\n    if (u_last_jitter_speed_buffer_num > -0.5) {\n      a_last_jitter_speed = get_buffer(u_last_jitter_speed_buffer_num);\n      a_last_jitter_speed_is_constant = false;\n    } else {\n      a_last_jitter_speed = u_last_jitter_speed_constant;\n      a_last_jitter_speed_is_constant = true;\n    }\n\n    if (u_size_buffer_num > -0.5) {\n      a_size = get_buffer(u_size_buffer_num);\n      a_size_is_constant = false;\n    } else {\n      a_size = u_size_constant;\n      a_size_is_constant = true;\n    }\n\n    if (u_last_size_buffer_num > -0.5) {\n      a_last_size = get_buffer(u_last_size_buffer_num);\n      a_last_size_is_constant = false;\n    } else {\n      a_last_size = u_last_size_constant;\n      a_last_size_is_constant = true;\n    }\n\n    if (u_filter_buffer_num > -0.5) {\n      a_filter1 = get_buffer(u_filter_buffer_num);\n      a_filter_is_constant = false;\n    } else {\n      a_filter1 = 1.;\n      a_filter_is_constant = true;\n    }\n\n    if (u_last_filter_buffer_num > -0.5) {\n      a_last_filter1 = get_buffer(u_last_filter_buffer_num);\n      a_last_filter_is_constant = false;\n    } else {\n      a_last_filter1 = 1.;\n      a_last_filter_is_constant = true;\n    }\n\n    if (u_filter2_buffer_num > -0.5) {\n      a_filter2 = get_buffer(u_filter2_buffer_num);\n      a_filter2_is_constant = false;\n    } else {\n      a_filter2 = 1.;\n      a_filter2_is_constant = true;\n    }\n\n    if (u_last_filter2_buffer_num > -0.5) {\n      a_last_filter2 = get_buffer(u_last_filter2_buffer_num);\n      a_last_filter2_is_constant = false;\n    } else {\n      a_last_filter2 = 1.;\n      a_last_filter2_is_constant = true;\n    }\n\n    /*\n    if (u_x0_buffer_num > -0.5) {\n      a_x0 = get_buffer(u_x0_buffer_num);\n      a_x0_is_constant = false;\n    } else {\n      a_x0 = u_x0_constant;\n      a_x0_is_constant = true;\n    }\n\n    if (u_last_x0_buffer_num > -0.5) {\n      a_last_x0 = get_buffer(u_last_x0_buffer_num);\n      a_last_x0_is_constant = false;\n    } else {\n      a_last_x0 = u_last_x0_constant;\n      a_last_x0_is_constant = true;\n    }\n\n    if (u_y0_buffer_num > -0.5) {\n      a_y0 = get_buffer(u_y0_buffer_num);\n      a_y0_is_constant = false;\n    } else {\n      a_y0 = u_y0_constant;\n      a_y0_is_constant = true;\n    }\n\n    if (u_last_y0_buffer_num > -0.5) {\n      a_last_y0 = get_buffer(u_last_y0_buffer_num);\n      a_last_y0_is_constant = false;\n    } else {\n      a_last_y0 = u_last_y0_constant;\n      a_last_y0_is_constant = true;\n    }\n    */\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  gl_PointSize = 2.;\n  if (debug_mode > 1.5) {\n//    fill = vec4(ix_to_random(ix, 15.), ix_to_random(ix, 15.), ix_to_random(ix, 11.), 1.);\n    gl_PointSize = 2.;\n    gl_Position = vec4(a_x * .1, a_y * .1, 0., 1.);\n  }\n\n  if (u_color_buffer_num > -0.5) {\n    a_color = get_buffer(u_color_buffer_num);\n    a_color_is_constant = false;\n  } else {\n    a_color = ix;\n    a_color_is_constant = true;\n  }\n\n  if (u_last_color_buffer_num > -0.5) {\n    a_last_color = get_buffer(u_last_color_buffer_num);\n    a_last_color_is_constant = false;\n  } else {\n    a_last_color = ix;\n    a_last_color_is_constant = true;\n  }\n\n  pixelspace_to_glspace = mat3(\n      2. / u_width, 0., -1.,\n      0., - 2. / u_height, 1.,\n      0., 0., 1.\n  );\n\n  float interpolation =\n    interpolate(u_update_time, 0., u_transition_duration);\n    \n  float ease = interpolation;\n\n  // I set this sometimes.\n\n  vec2 position = vec2(a_x, a_y);\n  gl_Position = vec4(position, 0., 1.) * .01;\n  vec2 old_position = vec2(a_last_x, a_last_y);\n\n  old_position = calculate_position(old_position, u_last_x_transform,\n     u_last_x_domain, u_last_x_range,\n     u_last_y_transform, u_last_y_domain, u_last_y_range,\n     u_last_window_scale,\n     u_zoom, u_last_x_map_position,      \n     u_last_y_map_position);\n     \n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (plot_actual_position) {\n    position = calculate_position(position, u_x_transform,\n      u_x_domain, u_x_range,\n      u_y_transform, u_y_domain, u_y_range, u_window_scale, u_zoom, \n      u_x_map_position, u_y_map_position);\n\n    float xpos = clamp((1. + position.x) / 2., 0., 1.);\n    float randy = ix_to_random(ix, 13.76);\n    float delay = xpos + randy * .1;\n\n    delay = delay * 3.;\n    // delay = 0.;\n    float frac = interpolate(\n      u_update_time,\n      delay,\n      u_transition_duration + delay\n    );\n\n    if (u_position_interpolation_mode > 0.) {\n      // If it\'s a continuous loop, just choose a random point along that loop.\n      frac = fract(u_update_time/u_transition_duration);\n      frac = fract(frac + randy);\n    }\n\n    frac = sineInOut_0(frac);\n\n    if (frac <= 0.) {\n      position = old_position;\n    } else if (frac < 1.) {\n      // position = mix(old_position, position, u_interpolation);\n      frac = fract(frac);\n      vec2 midpoint = box_muller(ix, 3.) * .05 *\n         dot(old_position - position, old_position - position)\n         + old_position / 2. + position / 2.;\n\n      position = mix(\n        mix(old_position, midpoint, frac),\n        mix(midpoint, position, frac),\n        frac);\n    }\n  } else {\n     position.x = -1. + 2. * linscale(u_x_domain, position.x);\n    //position.y = -1.0;\n    vec2 jitterspec = vec2(\n      (ix_to_random(ix, 3.) * a_jitter_radius ) * 2.,\n      (ix_to_random(ix, 1.5) * a_jitter_speed ) * 2.\n    );\n\n    position = position + jitterspec;\n  }\n\n  /* FILTERING */\n\n  float filter1_status = choose_and_run_filter(\n    u_filter_numeric,\n    a_filter1,\n    u_filter_map_position,\n    a_filter_is_constant\n  );\n\n  float last_filter1_status = choose_and_run_filter(\n    u_last_filter_numeric,\n    a_last_filter1,\n    u_last_filter_map_position,\n    a_last_filter_is_constant\n  );\n\n  float filter2_status = choose_and_run_filter(\n    u_filter2_numeric,\n    a_filter2,\n    u_filter2_map_position,\n    a_filter2_is_constant\n  );\n\n  float last_filter2_status = choose_and_run_filter(\n    u_last_filter2_numeric,\n    a_last_filter2,\n    u_last_filter2_map_position,\n    a_last_filter2_is_constant\n  );\n\n  bool was_filtered = last_filter2_status < .5 || last_filter1_status < .5;\n  bool will_be_filtered = filter2_status < .5 || filter1_status < .5;\n\n  bool filter_status = will_be_filtered;\n\n  if (ease < ix_to_random(ix, 1.)) {\n    filter_status = was_filtered;\n  }\n\n  if (filter_status == true) {\n    gl_Position = discard_me;\n    return;\n  }\n\n  float size_multiplier = texture_float_lookup(\n    u_size_domain, u_size_range,\n    u_size_transform, a_size, u_size_map_position);\n\n  float last_size_multiplier = texture_float_lookup(\n    u_last_size_domain, u_last_size_range, u_last_size_transform, a_last_size,\n    u_last_size_map_position);\n\n  size_multiplier = u_base_size * \n     mix(last_size_multiplier, size_multiplier, ease);\n  \n  float depth_size_adjust = (1.0 - ix / (u_maxix));\n\n  // It\'s ugly on new macs when it jumps straight from one to two for a bunch of points at once.\n  float size_fuzz = exp(ix_to_random(ix, 3.1) * .1);\n  point_size_adjust = exp(log(u_k) * u_zoom_balance) * size_fuzz;\n\n  gl_PointSize = point_size_adjust * size_multiplier;\n\n  vec2 jitter = vec2(0., 0.);\n\n  if (plot_actual_position && (u_jitter > 0. || u_last_jitter > 0.)) {\n    /* JITTER */\n    float jitter_radius_fraction;\n      jitter = calculate_jitter(\n        u_jitter, ix,\n        u_jitter_radius_domain,        u_jitter_radius_range,\n        u_jitter_radius_transform,        a_jitter_radius,\n        u_jitter_radius_map_position,        a_jitter_radius_is_constant,\n        u_jitter_speed_domain,\n        u_jitter_speed_range,\n        u_jitter_speed_transform, a_jitter_speed,\n        u_jitter_speed_map_position, a_jitter_speed_is_constant\n      );\n\n    vec2 last_jitter;\n    if (ease < 1.) {\n      last_jitter = calculate_jitter(\n        u_last_jitter, ix,\n        u_last_jitter_radius_domain,       \n        u_last_jitter_radius_range,\n        u_last_jitter_radius_transform,        \n        a_last_jitter_radius,\n        u_last_jitter_radius_map_position,\n        a_last_jitter_radius_is_constant,\n        u_last_jitter_speed_domain,\n        u_last_jitter_speed_range,\n        u_last_jitter_speed_transform,\n        a_last_jitter_speed,\n        u_last_jitter_speed_map_position,\n        a_last_jitter_speed_is_constant\n      );\n      jitter = mix(last_jitter, jitter, ease);\n    }\n    if (u_jitter == 5.) {\n      gl_PointSize *= jitter.x;\n      jitter = vec2(0., 0.);\n      if (gl_PointSize < 0.05) {\n        gl_Position = discard_me;\n        return;\n      }\n    }\n    gl_Position = vec4(position + jitter, 0., 1.);\n  } else {\n    gl_Position = vec4(position + jitter, 0., 1.);\n  }  \n  if (u_color_picker_mode > 0.) {\n    // Add one so the first element is distinguishable.\n    fill = encode_float_1604150559(ix + 1.);\n  } else {\n    run_color_fill(ease);\n  }\n  point_size = gl_PointSize;\n  if (debug_mode > .5) {\n//    fill = vec4(.7, .7, .3, 1.);\n  }\n  if (u_use_glyphset > 0. && point_size > 5.0) {\n    float random_letter = floor(64. * ix_to_random(ix, 1.3));\n    letter_pos = vec2(\n      // start at a number between 0 and 7.\n      mod(random_letter, 8.) / 8.,\n      floor(random_letter / 8.) / 8.\n    );\n    gl_PointSize *= 3.0;\n  }\n}\n',count:(e,t)=>t.manager.count,attributes:{buffer_0:(e,t)=>t.manager.regl_elements.get("ix")},uniforms:{u_update_time:e.prop("update_time"),u_transition_duration:(e,t)=>t.prefs.duration,u_only_color:(e,t)=>void 0!==t.only_color?t.only_color:-2,u_use_glyphset:(e,{prefs:t})=>t.glyph_set?1:0,u_glyphset:(e,{prefs:t})=>t.glyph_set?this.get_image_texture(t.glyph_set):this.textures.empty_texture,u_color_picker_mode:e.prop("color_picker_mode"),u_position_interpolation_mode(){return this.aes.position_interpolation?1:0},u_grid_mode:(e,{grid_mode:t})=>t,u_colors_as_grid:e.prop("colors_as_grid"),u_constant_color:()=>void 0!==this.aes.dim("color").current.constant?this.aes.dim("color").current.constant:[-1,-1,-1],u_constant_last_color:()=>void 0!==this.aes.dim("color").last.constant?this.aes.dim("color").last.constant:[-1,-1,-1],u_width:({viewportWidth:e})=>e,u_height:({viewportHeight:e})=>e,u_one_d_aesthetic_map:this.aes.aesthetic_map.one_d_texture,u_color_aesthetic_map:this.aes.aesthetic_map.color_texture,u_aspect_ratio:({viewportWidth:e,viewportHeight:t})=>e/t,u_zoom_balance:e.prop("zoom_balance"),u_base_size:(e,{prefs:t})=>t.point_size,u_maxix:(e,t)=>t.max_ix,u_k:(e,t)=>t.transform.k,u_window_scale:e.prop("webgl_scale"),u_last_window_scale:e.prop("last_webgl_scale"),u_time:({time:e})=>e,u_filter_numeric(){return this.aes.dim("filter").current.ops_to_array()},u_last_filter_numeric(){return this.aes.dim("filter").last.ops_to_array()},u_filter2_numeric(){return this.aes.dim("filter").current.ops_to_array()},u_last_filter2_numeric(){return this.aes.dim("filter").last.ops_to_array()},u_current_alpha:()=>this.optimal_alpha,u_last_alpha:()=>this.optimal_alpha,u_jitter:()=>this.aes.dim("jitter_radius").current.jitter_int_format,u_last_jitter:()=>this.aes.dim("jitter_radius").last.jitter_int_format,u_zoom:(e,t)=>t.zoom_matrix}};for(const n of Ke(0,16))t.attributes[`buffer_${n}`]=(e,{manager:t,buffer_num_to_variable:l})=>t.regl_elements.get(l[n])||{constant:0};for(const n of["x","y","color","jitter_radius","jitter_speed","size","filter","filter2","character"])for(const e of["current","last"]){const l="current"===e?"":"last_";t.uniforms[`u_${l}${n}_map`]=()=>{"filter"===n&&console.log({time:e},this.aes.dim(n)[e].constant);return this.aes.dim(n)[e].textures.one_d},t.uniforms[`u_${l}${n}_map_position`]=()=>this.aes.dim(n)[e].map_position,t.uniforms[`u_${l}${n}_buffer_num`]=(t,{aes_to_buffer_num:l})=>{const i=l[`${n}--${e}`];return void 0===i?-1:i},"filter"!==n&&"filter2"!==n&&(t.uniforms[`u_${l}${n}_domain`]=()=>this.aes.dim(n)[e].domain,t.uniforms[`u_${l}${n}_range`]=()=>this.aes.dim(n)[e].range,t.uniforms[`u_${l}${n}_transform`]=()=>{const t=this.aes.dim(n)[e].transform;if("linear"===t)return 1;if("sqrt"===t)return 2;if("log"===t)return 3;if("literal"===t)return 4;throw"Invalid transform"},t.uniforms[`u_${l}${n}_constant`]=()=>this.aes.dim(n)[e].constant)}return this._renderer=e(t),this._renderer}allocate_aesthetic_buffers(){const e=[],t=["x","y","color","size","jitter_radius","jitter_speed","filter","filter2"];for(const c of t)for(const t of["current","last"])try{this.aes.dim(c)[t].field&&e.push({aesthetic:c,time:t,field:this.aes.dim(c)[t].field})}catch(r){throw this.reglframe.cancel(),this.reglframe=void 0,r}e.sort(((e,n)=>e.time<n.time?-1:n.time<e.time?1:t.indexOf(e.aesthetic)-t.indexOf(n.aesthetic)));const n={},l={ix:0};let i=0;for(const{aesthetic:c,time:a,field:u}of e){const e=`${c}--${a}`;void 0===l[u]?i++<16?(n[e]=i,l[u]=i):n[e]=n[`${c}--current`]:n[e]=l[u]}return{aes_to_buffer_num:n,variable_to_buffer_num:l,buffer_num_to_variable:[...Object.keys(l)]}}get discard_share(){return 0}}class $a{constructor(e,t,n){this.tile=t,this.regl=e,this.renderer=n,t._regl_elements=t._regl_elements||new Map,this.regl_elements=t._regl_elements}ready(e,t=!0){const{renderer:n,regl_elements:l}=this,i=new Set;for(let[r,c]of n.aes)for(const e of[c.current,c.last])e.field&&i.add(e.field);for(const r of["ix",...i]){const e=this.regl_elements.get(r);if(null===e)return!1;if(void 0===e){if(!this.tile.ready)return!1;if(l.set(r,null),!t)return n.deferred_functions.push((()=>this.create_regl_buffer(r))),!1;if(void 0===r)continue;this.create_regl_buffer(r)}}return!0}get count(){const{tile:e,regl_elements:t}=this;return t.has("_count")?t.get("_count"):e.ready?(t.set("_count",e.table.length),t.get("_count")):void 0}create_buffer_data(e){const{tile:t}=this;if(!t.ready)throw"Tile table not present.";const n=t.table.getColumn(`${e}_dict_index`)||t.table.getColumn(e);if(!n){throw`Requested ${e} but table has columns ${t.table.schema.fields.map((e=>e.name)).join(", ")}`}if(n.dictionary){const l=new Float32Array(t.table.length);let i=0;for(const r of n.data.values){const n=t.local_dictionary_lookups[e].get(r);l[i]=t.dictionary_lookups[e].get(n),i+=1}return l}if(n.data.values.constructor!==Float32Array){const e=new Float32Array(t.table.length);for(let l=0;l<t.table.length;l++)e[l]=n.data.values[l];return e}return n.data.values}create_regl_buffer(e){const{regl_elements:t}=this,n=this.create_buffer_data(e),l=n.length,i=this.renderer.buffers.allocate_block(l,4);t.set(e,i),i.buffer.subdata(n,i.offset)}}class eu{constructor(e,t){this.regl=e,this.buffer_size=t,this.buffers=[],this.buffer_offsets=[],this.generate_new_buffer()}generate_new_buffer(){this.pointer&&this.buffer_offsets.unshift(this.pointer),this.pointer=0,this.buffers.unshift(this.regl.buffer({type:"float",length:this.buffer_size,usage:"dynamic"}))}allocate_block(e,t){this.pointer+e*t>this.buffer_size&&this.generate_new_buffer();const n={buffer:this.buffers[0],offset:this.pointer,stride:t};return this.pointer+=e*t,n}}var tu,nu,lu,iu,ru,cu,au,uu,ou,du,su,mu,bu,Zu,pu,hu,yu,fu,Xu,Vu,Wu,Gu,Ru,Su,vu,Lu={},Yu={},Ju={exports:{}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
tu=Ju,function(e){var t="object"==typeof on?on:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,n){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,l){return e[t]=n?n(t,l):l}}!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};nu=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function l(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)},lu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iu=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(n[l[i]]=e[l[i]])}return n},ru=function(e,t,n,l){var i,r=arguments.length,c=r<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,l);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,n,c):i(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},cu=function(e,t){return function(n,l){t(n,l,e)}},au=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},uu=function(e,t,n,l){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function c(e){try{u(l.next(e))}catch(t){r(t)}}function a(e){try{u(l.throw(e))}catch(t){r(t)}}function u(e){e.done?n(e.value):i(e.value).then(c,a)}u((l=l.apply(e,t||[])).next())}))},ou=function(e,t){var n,l,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return u([e,t])}}function u(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,l&&(i=2&r[0]?l.return:r[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,r[1])).done)return i;switch(l=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,l=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(a){r=[6,a],l=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},du=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||vu(t,e,n)},vu=Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]},su=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,r=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(a){i={error:a}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return c},bu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mu(arguments[t]));return e},Zu=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var l=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],c=0,a=r.length;c<a;c++,i++)l[i]=r[c];return l},pu=function(e,t,n){if(n||2===arguments.length)for(var l,i=0,r=t.length;i<r;i++)!l&&i in t||(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},hu=function(e){return this instanceof hu?(this.v=e,this):new hu(e)},yu=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(e,t||[]),r=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(e){i[e]&&(l[e]=function(t){return new Promise((function(n,l){r.push([e,t,n,l])>1||a(e,t)}))})}function a(e,t){try{u(i[e](t))}catch(n){s(r[0][3],n)}}function u(e){e.value instanceof hu?Promise.resolve(e.value.v).then(o,d):s(r[0][2],e)}function o(e){a("next",e)}function d(e){a("throw",e)}function s(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}},fu=function(e){var t,n;return t={},l("next"),l("throw",(function(e){throw e})),l("return"),t[Symbol.iterator]=function(){return this},t;function l(l,i){t[l]=e[l]?function(t){return(n=!n)?{value:hu(e[l](t)),done:"return"===l}:i?i(t):t}:i}},Xu=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=su(e),t={},l("next"),l("throw"),l("return"),t[Symbol.asyncIterator]=function(){return this},t);function l(n){t[n]=e[n]&&function(t){return new Promise((function(l,r){i(l,r,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,l){Promise.resolve(l).then((function(t){e({value:t,done:n})}),t)}},Vu=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Wu=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)"default"!==l&&Object.prototype.hasOwnProperty.call(e,l)&&vu(t,e,l);return n(t,e),t},Gu=function(e){return e&&e.__esModule?e:{default:e}},Ru=function(e,t,n,l){if("a"===n&&!l)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!l:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?l:"a"===n?l.call(e):l?l.value:t.get(e)},Su=function(e,t,n,l,i){if("m"===l)throw new TypeError("Private method is not writable");if("a"===l&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===l?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",nu),e("__assign",lu),e("__rest",iu),e("__decorate",ru),e("__param",cu),e("__metadata",au),e("__awaiter",uu),e("__generator",ou),e("__exportStar",du),e("__createBinding",vu),e("__values",su),e("__read",mu),e("__spread",bu),e("__spreadArrays",Zu),e("__spreadArray",pu),e("__await",hu),e("__asyncGenerator",yu),e("__asyncDelegator",fu),e("__asyncValues",Xu),e("__makeTemplateObject",Vu),e("__importStar",Wu),e("__importDefault",Gu),e("__classPrivateFieldGet",Ru),e("__classPrivateFieldSet",Su)}(n(t,n(tu.exports)))}();var xu={},gu={};gu.Offset,gu.Table,gu.SIZEOF_SHORT=2,gu.SIZEOF_INT=4,gu.FILE_IDENTIFIER_LENGTH=4,gu.SIZE_PREFIX_LENGTH=4,gu.Encoding={UTF8_BYTES:1,UTF16_STRING:2},gu.int32=new Int32Array(2),gu.float32=new Float32Array(gu.int32.buffer),gu.float64=new Float64Array(gu.int32.buffer),gu.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],gu.Long=function(e,t){this.low=0|e,this.high=0|t},gu.Long.create=function(e,t){return 0==e&&0==t?gu.Long.ZERO:new gu.Long(e,t)},gu.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},gu.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},gu.Long.ZERO=new gu.Long(0,0),gu.Builder=function(e){if(e)t=e;else var t=1024;this.bb=gu.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},gu.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},gu.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},gu.Builder.prototype.dataBuffer=function(){return this.bb},gu.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},gu.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var l=this.bb.capacity();this.bb=gu.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-l}this.pad(n)},gu.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},gu.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},gu.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},gu.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},gu.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},gu.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},gu.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},gu.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},gu.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},gu.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},gu.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},gu.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},gu.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},gu.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},gu.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},gu.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},gu.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},gu.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},gu.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},gu.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},gu.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},gu.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},gu.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},gu.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},gu.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},gu.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,l=gu.ByteBuffer.allocate(n);return l.setPosition(n-t),l.bytes().set(e.bytes(),n-t),l},gu.Builder.prototype.addOffset=function(e){this.prep(gu.SIZEOF_INT,0),this.writeInt32(this.offset()-e+gu.SIZEOF_INT)},gu.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},gu.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var l=(n+2)*gu.SIZEOF_SHORT;this.addInt16(l);var i=0,r=this.space;e:for(t=0;t<this.vtables.length;t++){var c=this.bb.capacity()-this.vtables[t];if(l==this.bb.readInt16(c)){for(var a=gu.SIZEOF_SHORT;a<l;a+=gu.SIZEOF_SHORT)if(this.bb.readInt16(r+a)!=this.bb.readInt16(c+a))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},gu.Builder.prototype.finish=function(e,t,n){var l=n?gu.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,gu.SIZEOF_INT+gu.FILE_IDENTIFIER_LENGTH+l),i.length!=gu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+gu.FILE_IDENTIFIER_LENGTH);for(var r=gu.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(i.charCodeAt(r))}this.prep(this.minalign,gu.SIZEOF_INT+l),this.addOffset(e),l&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},gu.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},gu.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,l=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(l+t)))throw new Error("FlatBuffers: field "+t+" must be set")},gu.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(gu.SIZEOF_INT,e*t),this.prep(n,e*t)},gu.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},gu.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var l,i=e.charCodeAt(n++);if(i<55296||i>=56320)l=i;else l=(i<<10)+e.charCodeAt(n++)+-56613888;l<128?t.push(l):(l<2048?t.push(l>>6&31|192):(l<65536?t.push(l>>12&15|224):t.push(l>>18&7|240,l>>12&63|128),t.push(l>>6&63|128)),t.push(63&l|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);n=0;for(var r=this.space,c=this.bb.bytes();n<t.length;n++)c[r++]=t[n];return this.endVector()},gu.Builder.prototype.createLong=function(e,t){return gu.Long.create(e,t)},gu.ByteBuffer=function(e){this.bytes_=e,this.position_=0},gu.ByteBuffer.allocate=function(e){return new gu.ByteBuffer(new Uint8Array(e))},gu.ByteBuffer.prototype.clear=function(){this.position_=0},gu.ByteBuffer.prototype.bytes=function(){return this.bytes_},gu.ByteBuffer.prototype.position=function(){return this.position_},gu.ByteBuffer.prototype.setPosition=function(e){this.position_=e},gu.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},gu.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},gu.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},gu.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},gu.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},gu.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},gu.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},gu.ByteBuffer.prototype.readInt64=function(e){return new gu.Long(this.readInt32(e),this.readInt32(e+4))},gu.ByteBuffer.prototype.readUint64=function(e){return new gu.Long(this.readUint32(e),this.readUint32(e+4))},gu.ByteBuffer.prototype.readFloat32=function(e){return gu.int32[0]=this.readInt32(e),gu.float32[0]},gu.ByteBuffer.prototype.readFloat64=function(e){return gu.int32[gu.isLittleEndian?0:1]=this.readInt32(e),gu.int32[gu.isLittleEndian?1:0]=this.readInt32(e+4),gu.float64[0]},gu.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},gu.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},gu.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},gu.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},gu.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},gu.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},gu.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},gu.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},gu.ByteBuffer.prototype.writeFloat32=function(e,t){gu.float32[0]=t,this.writeInt32(e,gu.int32[0])},gu.ByteBuffer.prototype.writeFloat64=function(e,t){gu.float64[0]=t,this.writeInt32(e,gu.int32[gu.isLittleEndian?0:1]),this.writeInt32(e+4,gu.int32[gu.isLittleEndian?1:0])},gu.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+gu.SIZEOF_INT+gu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<gu.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+gu.SIZEOF_INT+t));return e},gu.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},gu.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},gu.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),l="",i=0;if(e+=gu.SIZEOF_INT,t===gu.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var r,c=this.readUint8(e+i++);if(c<192)r=c;else{var a=this.readUint8(e+i++);if(c<224)r=(31&c)<<6|63&a;else{var u=this.readUint8(e+i++);if(c<240)r=(15&c)<<12|(63&a)<<6|63&u;else r=(7&c)<<18|(63&a)<<12|(63&u)<<6|63&this.readUint8(e+i++)}}r<65536?l+=String.fromCharCode(r):(r-=65536,l+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return l},gu.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},gu.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+gu.SIZEOF_INT},gu.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},gu.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=gu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+gu.FILE_IDENTIFIER_LENGTH);for(var t=0;t<gu.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+gu.SIZEOF_INT+t))return!1;return!0},gu.ByteBuffer.prototype.createLong=function(e,t){return gu.Long.create(e,t)};var Hu=dn(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",flatbuffers:gu})),Iu={};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.encodeUtf8=Iu.decodeUtf8=void 0;var Uu=new TextDecoder("utf-8");Iu.decodeUtf8=function(e){return Uu.decode(e)};var Ku=new TextEncoder;Iu.encodeUtf8=function(e){return Ku.encode(e)};var Nu={},ku={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=e.ReadableInterop=e.ArrowJSON=e.ITERATOR_DONE=void 0;var t=Ju.exports,n=Yu;e.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var l=function(){function e(e){this._json=e}return Object.defineProperty(e.prototype,"schema",{get:function(){return this._json.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"batches",{get:function(){return this._json.batches||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dictionaries",{get:function(){return this._json.dictionaries||[]},enumerable:!1,configurable:!0}),e}();e.ArrowJSON=l;var i=function(){function e(){}return e.prototype.tee=function(){return this._getDOMStream().tee()},e.prototype.pipe=function(e,t){return this._getNodeStream().pipe(e,t)},e.prototype.pipeTo=function(e,t){return this._getDOMStream().pipeTo(e,t)},e.prototype.pipeThrough=function(e,t){return this._getDOMStream().pipeThrough(e,t)},e.prototype._getDOMStream=function(){return this._DOMStream||(this._DOMStream=this.toDOMStream())},e.prototype._getNodeStream=function(){return this._nodeStream||(this._nodeStream=this.toNodeStream())},e}();e.ReadableInterop=i;var r=function(l){function i(){var e=l.call(this)||this;return e._values=[],e.resolvers=[],e._closedPromise=new Promise((function(t){return e._closedPromiseResolve=t})),e}return t.__extends(i,l),Object.defineProperty(i.prototype,"closed",{get:function(){return this._closedPromise},enumerable:!1,configurable:!0}),i.prototype.cancel=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.return(e)];case 1:return t.sent(),[2]}}))}))},i.prototype.write=function(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))},i.prototype.abort=function(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))},i.prototype.close=function(){if(this._closedPromiseResolve){for(var t=this.resolvers;t.length>0;)t.shift().resolve(e.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}},i.prototype[Symbol.asyncIterator]=function(){return this},i.prototype.toDOMStream=function(e){return n.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)},i.prototype.toNodeStream=function(e){return n.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)},i.prototype.throw=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.abort(n)];case 1:return t.sent(),[2,e.ITERATOR_DONE]}}))}))},i.prototype.return=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,e.ITERATOR_DONE]}}))}))},i.prototype.read=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"read")];case 1:return[2,t.sent().value]}}))}))},i.prototype.peek=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"peek")];case 1:return[2,t.sent().value]}}))}))},i.prototype.next=function(){for(var t=this,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((function(e,n){t.resolvers.push({resolve:e,reject:n})})):Promise.resolve(e.ITERATOR_DONE)},i.prototype._ensureOpen=function(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")},i}(i);e.AsyncQueue=r}(ku),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableNodeStream=e.isWritableNodeStream=e.isReadableDOMStream=e.isWritableDOMStream=e.isFetchResponse=e.isFSReadStream=e.isFileHandle=e.isUnderlyingSink=e.isIteratorResult=e.isArrayLike=e.isArrowJSON=e.isAsyncIterable=e.isIterable=e.isObservable=e.isPromise=e.isObject=e.BigUint64ArrayAvailable=e.BigUint64Array=e.BigInt64ArrayAvailable=e.BigInt64Array=e.BigIntAvailable=e.BigInt=void 0;var t=Ju.exports,n=ku,l=t.__read(function(){var e=function(){throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=function(){throw e()},t.asUintN=function(){throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]}(),2),i=l[0],r=l[1];e.BigInt=i,e.BigIntAvailable=r;var c,a,u=t.__read((c=function(){throw new Error("BigInt64Array is not available in this environment")},a=function(){function e(){throw c()}return Object.defineProperty(e,"BYTES_PER_ELEMENT",{get:function(){return 8},enumerable:!1,configurable:!0}),e.of=function(){throw c()},e.from=function(){throw c()},e}(),"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[a,!1]),2),o=u[0],d=u[1];e.BigInt64Array=o,e.BigInt64ArrayAvailable=d;var s,m,b=t.__read((s=function(){throw new Error("BigUint64Array is not available in this environment")},m=function(){function e(){throw s()}return Object.defineProperty(e,"BYTES_PER_ELEMENT",{get:function(){return 8},enumerable:!1,configurable:!0}),e.of=function(){throw s()},e.from=function(){throw s()},e}(),"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[m,!1]),2),Z=b[0],p=b[1];e.BigUint64Array=Z,e.BigUint64ArrayAvailable=p;var h=function(e){return"number"==typeof e},y=function(e){return"boolean"==typeof e},f=function(e){return"function"==typeof e};e.isObject=function(e){return null!=e&&Object(e)===e},e.isPromise=function(t){return e.isObject(t)&&f(t.then)},e.isObservable=function(t){return e.isObject(t)&&f(t.subscribe)},e.isIterable=function(t){return e.isObject(t)&&f(t[Symbol.iterator])},e.isAsyncIterable=function(t){return e.isObject(t)&&f(t[Symbol.asyncIterator])},e.isArrowJSON=function(t){return e.isObject(t)&&e.isObject(t.schema)},e.isArrayLike=function(t){return e.isObject(t)&&h(t.length)},e.isIteratorResult=function(t){return e.isObject(t)&&"done"in t&&"value"in t},e.isUnderlyingSink=function(t){return e.isObject(t)&&f(t.abort)&&f(t.close)&&f(t.start)&&f(t.write)},e.isFileHandle=function(t){return e.isObject(t)&&f(t.stat)&&h(t.fd)},e.isFSReadStream=function(t){return e.isReadableNodeStream(t)&&h(t.bytesRead)},e.isFetchResponse=function(t){return e.isObject(t)&&e.isReadableDOMStream(t.body)},e.isWritableDOMStream=function(t){return e.isObject(t)&&f(t.abort)&&f(t.getWriter)&&!(t instanceof n.ReadableInterop)},e.isReadableDOMStream=function(t){return e.isObject(t)&&f(t.cancel)&&f(t.getReader)&&!(t instanceof n.ReadableInterop)},e.isWritableNodeStream=function(t){return e.isObject(t)&&f(t.end)&&f(t.write)&&y(t.writable)&&!(t instanceof n.ReadableInterop)},e.isReadableNodeStream=function(t){return e.isObject(t)&&f(t.read)&&f(t.pipe)&&y(t.readable)&&!(t instanceof n.ReadableInterop)}}(Nu),Object.defineProperty(xu,"__esModule",{value:!0}),xu.compareArrayLike=xu.rebaseValueOffsets=xu.toUint8ClampedArrayAsyncIterator=xu.toFloat64ArrayAsyncIterator=xu.toFloat32ArrayAsyncIterator=xu.toUint32ArrayAsyncIterator=xu.toUint16ArrayAsyncIterator=xu.toUint8ArrayAsyncIterator=xu.toInt32ArrayAsyncIterator=xu.toInt16ArrayAsyncIterator=xu.toInt8ArrayAsyncIterator=xu.toArrayBufferViewAsyncIterator=xu.toUint8ClampedArrayIterator=xu.toFloat64ArrayIterator=xu.toFloat32ArrayIterator=xu.toUint32ArrayIterator=xu.toUint16ArrayIterator=xu.toUint8ArrayIterator=xu.toInt32ArrayIterator=xu.toInt16ArrayIterator=xu.toInt8ArrayIterator=xu.toArrayBufferViewIterator=xu.toUint8ClampedArray=xu.toFloat64Array=xu.toFloat32Array=xu.toBigUint64Array=xu.toUint32Array=xu.toUint16Array=xu.toUint8Array=xu.toBigInt64Array=xu.toInt32Array=xu.toInt16Array=xu.toInt8Array=xu.toArrayBufferView=xu.joinUint8Arrays=xu.memcpy=void 0;var Bu=Ju.exports,Tu=Iu,Fu=Hu.flatbuffers.ByteBuffer,_u=Nu,wu="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Cu(e,t,n,l){void 0===n&&(n=0),void 0===l&&(l=t.byteLength);var i=e.byteLength,r=new Uint8Array(e.buffer,e.byteOffset,i),c=new Uint8Array(t.buffer,t.byteOffset,Math.min(l,i));return r.set(c,n),e}function ju(e,t){var n=_u.isIteratorResult(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?("string"==typeof n&&(n=Tu.encodeUtf8(n)),n instanceof ArrayBuffer||n instanceof wu?new e(n):n instanceof Fu?ju(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}xu.memcpy=Cu,xu.joinUint8Arrays=function(e,t){for(var n,l,i,r=function(e){for(var t,n,l,i,r=e[0]?[e[0]]:[],c=void 0,a=void 0,u=0,o=0,d=e.length;++u<d;)c=r[o],a=e[u],!c||!a||c.buffer!==a.buffer||a.byteOffset<c.byteOffset?a&&(r[++o]=a):(t=c.byteOffset,l=c.byteLength,n=a.byteOffset,i=a.byteLength,t+l<n||n+i<t?a&&(r[++o]=a):r[o]=new Uint8Array(c.buffer,t,n-t+i));return r}(e),c=r.reduce((function(e,t){return e+t.byteLength}),0),a=0,u=-1,o=Math.min(t||1/0,c),d=r.length;++u<d;){if(o<=a+(l=(n=r[u]).subarray(0,Math.min(n.length,o-a))).length){l.length<n.length?r[u]=n.subarray(l.length):l.length===n.length&&u++,i?Cu(i,l,a):i=l;break}Cu(i||(i=new Uint8Array(o)),l,a),a+=l.length}return[i||new Uint8Array(0),r.slice(u),c-(i?i.byteLength:0)]},xu.toArrayBufferView=ju,xu.toInt8Array=function(e){return ju(Int8Array,e)},xu.toInt16Array=function(e){return ju(Int16Array,e)},xu.toInt32Array=function(e){return ju(Int32Array,e)},xu.toBigInt64Array=function(e){return ju(_u.BigInt64Array,e)},xu.toUint8Array=function(e){return ju(Uint8Array,e)},xu.toUint16Array=function(e){return ju(Uint16Array,e)},xu.toUint32Array=function(e){return ju(Uint32Array,e)},xu.toBigUint64Array=function(e){return ju(_u.BigUint64Array,e)},xu.toFloat32Array=function(e){return ju(Float32Array,e)},xu.toFloat64Array=function(e){return ju(Float64Array,e)},xu.toUint8ClampedArray=function(e){return ju(Uint8ClampedArray,e)};var zu=function(e){return e.next(),e};function Mu(e,t){var n,l;return Bu.__generator(this,(function(i){switch(i.label){case 0:return n=function(e){return Bu.__generator(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[2]}}))},l="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof wu?n(t):_u.isIterable(t)?t:n(t),[5,Bu.__values(zu(function(t){var n,l,i;return Bu.__generator(this,(function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return i=(l=t).next,[4,ju(e,n)];case 2:n=i.apply(l,[r.sent()]),r.label=3;case 3:if(!n.done)return[3,1];r.label=4;case 4:return[2]}}))}(l[Symbol.iterator]())))];case 1:return i.sent(),[2,new e]}}))}function Qu(e,t){return Bu.__asyncGenerator(this,arguments,(function(){var n,l,i,r,c;return Bu.__generator(this,(function(a){switch(a.label){case 0:return _u.isPromise(t)?(n=Qu,l=[e],[4,Bu.__await(t)]):[3,5];case 1:return[5,Bu.__values(Bu.__asyncDelegator.apply(void 0,[Bu.__asyncValues.apply(void 0,[n.apply(void 0,l.concat([a.sent()]))])]))];case 2:case 3:case 6:return[4,Bu.__await.apply(void 0,[a.sent()])];case 4:case 8:return[2,a.sent()];case 5:return i=function(e){return Bu.__asyncGenerator(this,arguments,(function(){return Bu.__generator(this,(function(t){switch(t.label){case 0:return[4,Bu.__await(e)];case 1:return[4,Bu.__await.apply(void 0,[t.sent()])];case 2:return[4,t.sent()];case 3:return t.sent(),[2]}}))}))},r=function(e){return Bu.__asyncGenerator(this,arguments,(function(){return Bu.__generator(this,(function(t){switch(t.label){case 0:return[5,Bu.__values(Bu.__asyncDelegator(Bu.__asyncValues(zu(function(e){var t,n,l;return Bu.__generator(this,(function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return l=(n=e).next,[4,null==t?void 0:t.value];case 2:t=l.apply(n,[i.sent()]),i.label=3;case 3:if(!t.done)return[3,1];i.label=4;case 4:return[2]}}))}(e[Symbol.iterator]())))))];case 1:return[4,Bu.__await.apply(void 0,[t.sent()])];case 2:return t.sent(),[2]}}))}))},c="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof wu?i(t):_u.isIterable(t)?r(t):_u.isAsyncIterable(t)?t:i(t),[5,Bu.__values(Bu.__asyncDelegator(Bu.__asyncValues(zu(function(t){return Bu.__asyncGenerator(this,arguments,(function(){var n,l,i;return Bu.__generator(this,(function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return i=(l=t).next,[4,Bu.__await(ju(e,n))];case 2:return[4,r.sent()];case 3:return[4,Bu.__await.apply(void 0,[i.apply(l,[r.sent()])])];case 4:n=r.sent(),r.label=5;case 5:if(!n.done)return[3,1];r.label=6;case 6:return[2]}}))}))}(c[Symbol.asyncIterator]())))))];case 7:return a.sent(),[4,Bu.__await(new e)]}}))}))}xu.toArrayBufferViewIterator=Mu,xu.toInt8ArrayIterator=function(e){return Mu(Int8Array,e)},xu.toInt16ArrayIterator=function(e){return Mu(Int16Array,e)},xu.toInt32ArrayIterator=function(e){return Mu(Int32Array,e)},xu.toUint8ArrayIterator=function(e){return Mu(Uint8Array,e)},xu.toUint16ArrayIterator=function(e){return Mu(Uint16Array,e)},xu.toUint32ArrayIterator=function(e){return Mu(Uint32Array,e)},xu.toFloat32ArrayIterator=function(e){return Mu(Float32Array,e)},xu.toFloat64ArrayIterator=function(e){return Mu(Float64Array,e)},xu.toUint8ClampedArrayIterator=function(e){return Mu(Uint8ClampedArray,e)},xu.toArrayBufferViewAsyncIterator=Qu,xu.toInt8ArrayAsyncIterator=function(e){return Qu(Int8Array,e)},xu.toInt16ArrayAsyncIterator=function(e){return Qu(Int16Array,e)},xu.toInt32ArrayAsyncIterator=function(e){return Qu(Int32Array,e)},xu.toUint8ArrayAsyncIterator=function(e){return Qu(Uint8Array,e)},xu.toUint16ArrayAsyncIterator=function(e){return Qu(Uint16Array,e)},xu.toUint32ArrayAsyncIterator=function(e){return Qu(Uint32Array,e)},xu.toFloat32ArrayAsyncIterator=function(e){return Qu(Float32Array,e)},xu.toFloat64ArrayAsyncIterator=function(e){return Qu(Float64Array,e)},xu.toUint8ClampedArrayAsyncIterator=function(e){return Qu(Uint8ClampedArray,e)},xu.rebaseValueOffsets=function(e,t,n){if(0!==e){n=n.slice(0,t+1);for(var l=-1;++l<=t;)n[l]+=e}return n},xu.compareArrayLike=function(e,t){var n=0,l=e.length;if(l!==t.length)return!1;if(l>0)do{if(e[n]!==t[n])return!1}while(++n<l);return!0},Object.defineProperty(Yu,"__esModule",{value:!0});var Pu=Ju.exports,Eu=xu;Yu.default={fromIterable:function(e){return Ou(function(e){function t(){var e;return"peek"===c?Eu.joinUint8Arrays(i,a)[0]:(e=Pu.__read(Eu.joinUint8Arrays(i,a),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,c,a,u,o,d,s,m,b;return Pu.__generator(this,(function(Z){switch(Z.label){case 0:return l=!1,i=[],u=0,[4,null];case 1:s=Z.sent(),c=s.cmd,a=s.size,o=Eu.toUint8ArrayIterator(e)[Symbol.iterator](),Z.label=2;case 2:Z.trys.push([2,9,10,11]),Z.label=3;case 3:if(m=isNaN(a-u)?o.next(void 0):o.next(a-u),n=m.done,r=m.value,!n&&r.byteLength>0&&(i.push(r),u+=r.byteLength),!(n||a<=u))return[3,7];Z.label=4;case 4:return[4,t()];case 5:b=Z.sent(),c=b.cmd,a=b.size,Z.label=6;case 6:if(a<u)return[3,4];Z.label=7;case 7:if(!n)return[3,3];Z.label=8;case 8:return[3,11];case 9:return d=Z.sent(),(l=!0)&&"function"==typeof o.throw&&o.throw(d),[3,11];case 10:return!1===l&&"function"==typeof o.return&&o.return(null),[7];case 11:return[2,null]}}))}(e))},fromAsyncIterable:function(e){return Ou(function(e){return Pu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===c?Eu.joinUint8Arrays(i,a)[0]:(e=Pu.__read(Eu.joinUint8Arrays(i,a),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,c,a,u,o,d,s,m,b,Z;return Pu.__generator(this,(function(p){switch(p.label){case 0:return l=!1,i=[],u=0,[4,Pu.__await(null)];case 1:return[4,p.sent()];case 2:m=p.sent(),c=m.cmd,a=m.size,o=Eu.toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator](),p.label=3;case 3:p.trys.push([3,15,18,21]),p.label=4;case 4:return isNaN(a-u)?[4,Pu.__await(o.next(void 0))]:[3,6];case 5:return d=p.sent(),[3,8];case 6:return[4,Pu.__await(o.next(a-u))];case 7:d=p.sent(),p.label=8;case 8:if(n=(b=d).done,r=b.value,!n&&r.byteLength>0&&(i.push(r),u+=r.byteLength),!(n||a<=u))return[3,13];p.label=9;case 9:return[4,Pu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),c=Z.cmd,a=Z.size,p.label=12;case 12:if(a<u)return[3,9];p.label=13;case 13:if(!n)return[3,4];p.label=14;case 14:return[3,21];case 15:return s=p.sent(),(l=!0)&&"function"==typeof o.throw?[4,Pu.__await(o.throw(s))]:[3,17];case 16:p.sent(),p.label=17;case 17:return[3,21];case 18:return!1===l&&"function"==typeof o.return?[4,Pu.__await(o.return(new Uint8Array(0)))]:[3,20];case 19:p.sent(),p.label=20;case 20:return[7];case 21:return[4,Pu.__await(null)];case 22:return[2,p.sent()]}}))}))}(e))},fromDOMStream:function(e){return Ou(function(e){return Pu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===c?Eu.joinUint8Arrays(i,a)[0]:(e=Pu.__read(Eu.joinUint8Arrays(i,a),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,c,a,u,o,d,s,m,b,Z;return Pu.__generator(this,(function(p){switch(p.label){case 0:return n=!1,l=!1,i=[],u=0,[4,Pu.__await(null)];case 1:return[4,p.sent()];case 2:m=p.sent(),c=m.cmd,a=m.size,o=new Du(e),p.label=3;case 3:p.trys.push([3,15,18,22]),p.label=4;case 4:return isNaN(a-u)?[4,Pu.__await(o.read(void 0))]:[3,6];case 5:return d=p.sent(),[3,8];case 6:return[4,Pu.__await(o.read(a-u))];case 7:d=p.sent(),p.label=8;case 8:if(n=(b=d).done,r=b.value,!n&&r.byteLength>0&&(i.push(Eu.toUint8Array(r)),u+=r.byteLength),!(n||a<=u))return[3,13];p.label=9;case 9:return[4,Pu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),c=Z.cmd,a=Z.size,p.label=12;case 12:if(a<u)return[3,9];p.label=13;case 13:if(!n)return[3,4];p.label=14;case 14:return[3,22];case 15:return s=p.sent(),(l=!0)?[4,Pu.__await(o.cancel(s))]:[3,17];case 16:p.sent(),p.label=17;case 17:return[3,22];case 18:return!1!==l?[3,20]:[4,Pu.__await(o.cancel())];case 19:return p.sent(),[3,21];case 20:e.locked&&o.releaseLock(),p.label=21;case 21:return[7];case 22:return[4,Pu.__await(null)];case 23:return[2,p.sent()]}}))}))}(e))},fromNodeStream:function(e){return Ou(function(e){return Pu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===a?Eu.joinUint8Arrays(d,u)[0]:(e=Pu.__read(Eu.joinUint8Arrays(d,u),3),s=e[0],d=e[1],o=e[2],s)}function n(t,n){return s=d=null,new Promise((function(l,i){var r,c;try{for(var a=Pu.__values(t),u=a.next();!u.done;u=a.next()){var o=Pu.__read(u.value,2),d=o[0],s=o[1];e.off(d,s)}}catch(b){r={error:b}}finally{try{u&&!u.done&&(c=a.return)&&c.call(a)}finally{if(r)throw r.error}}try{var m=e.destroy;m&&m.call(e,n),n=void 0}catch(Z){n=Z||n}finally{null!=n?i(n):l()}}))}var l,i,r,c,a,u,o,d,s,m,b,Z;return Pu.__generator(this,(function(p){switch(p.label){case 0:return l=[],i="error",r=!1,c=null,o=0,d=[],[4,Pu.__await(null)];case 1:return[4,p.sent()];case 2:return m=p.sent(),a=m.cmd,u=m.size,e.isTTY?[4,Pu.__await(new Uint8Array(0))]:[3,6];case 3:return[4,p.sent()];case 4:return p.sent(),[4,Pu.__await(null)];case 5:return[2,p.sent()];case 6:p.trys.push([6,,15,17]),l[0]=qu(e,"end"),l[1]=qu(e,"error"),p.label=7;case 7:return l[2]=qu(e,"readable"),[4,Pu.__await(Promise.race(l.map((function(e){return e[2]}))))];case 8:if(b=Pu.__read.apply(void 0,[p.sent(),2]),i=b[0],c=b[1],"error"===i)return[3,14];if((r="end"===i)||(isFinite(u-o)?(s=Eu.toUint8Array(e.read(u-o))).byteLength<u-o&&(s=Eu.toUint8Array(e.read(void 0))):s=Eu.toUint8Array(e.read(void 0)),s.byteLength>0&&(d.push(s),o+=s.byteLength)),!(r||u<=o))return[3,13];p.label=9;case 9:return[4,Pu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),a=Z.cmd,u=Z.size,p.label=12;case 12:if(u<o)return[3,9];p.label=13;case 13:if(!r)return[3,7];p.label=14;case 14:return[3,17];case 15:return[4,Pu.__await(n(l,"error"===i?c:null))];case 16:return p.sent(),[7];case 17:return[4,Pu.__await(null)];case 18:return[2,p.sent()]}}))}))}(e))},toDOMStream:function(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream:function(e,t){throw new Error('"toNodeStream" not available in this environment')}};var Ou=function(e){return e.next(),e};var Du=function(){function e(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(t){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.reader?this.reader.closed.catch((function(){})):Promise.resolve()},enumerable:!1,configurable:!0}),e.prototype.releaseLock=function(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null},e.prototype.cancel=function(e){return Pu.__awaiter(this,void 0,void 0,(function(){var t,n,l;return Pu.__generator(this,(function(i){switch(i.label){case 0:return n=(t=this).reader,l=t.source,n?[4,n.cancel(e).catch((function(){}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return l&&l.locked&&this.releaseLock(),[2]}}))}))},e.prototype.read=function(e){return Pu.__awaiter(this,void 0,void 0,(function(){var t,n;return Pu.__generator(this,(function(l){switch(l.label){case 0:return 0===e?[2,{done:null==this.reader,value:new Uint8Array(0)}]:this.supportsBYOB&&"number"==typeof e?[3,2]:[4,this.getDefaultReader().read()];case 1:return n=l.sent(),[3,4];case 2:return[4,this.readFromBYOBReader(e)];case 3:n=l.sent(),l.label=4;case 4:return!(t=n).done&&(t.value=Eu.toUint8Array(t)),[2,t]}}))}))},e.prototype.getDefaultReader=function(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((function(){}))),this.reader=this.defaultReader},e.prototype.getBYOBReader=function(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((function(){}))),this.reader=this.byobReader},e.prototype.readFromBYOBReader=function(e){return Pu.__awaiter(this,void 0,void 0,(function(){return Pu.__generator(this,(function(t){switch(t.label){case 0:return[4,Au(this.getBYOBReader(),new ArrayBuffer(e),0,e)];case 1:return[2,t.sent()]}}))}))},e}();function Au(e,t,n,l){return Pu.__awaiter(this,void 0,void 0,(function(){var i,r,c;return Pu.__generator(this,(function(a){switch(a.label){case 0:return n>=l?[2,{done:!1,value:new Uint8Array(t,0,l)}]:[4,e.read(new Uint8Array(t,n,l-n))];case 1:return i=a.sent(),r=i.done,c=i.value,(n+=c.byteLength)<l&&!r?[4,Au(e,c.buffer,n,l)]:[3,3];case 2:return[2,a.sent()];case 3:return[2,{done:r,value:new Uint8Array(c.buffer,0,n)}]}}))}))}var qu=function(e,t){var n,l=function(e){return n([t,e])};return[t,l,new Promise((function(i){return(n=i)&&e.once(t,l)}))]};var $u={},eo={},to={};Object.defineProperty(to,"__esModule",{value:!0}),to.Vector=to.AbstractVector=void 0;var no=function(){};to.AbstractVector=no,to.Vector=no,no.prototype.data=null;var lo={},io={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=e.Buffer=e.Field=e.DictionaryEncoding=e.KeyValue=e.Duration=e.Interval=e.Timestamp=e.Time=e.Date=e.Decimal=e.Bool=e.FixedSizeBinary=e.LargeBinary=e.LargeUtf8=e.Binary=e.Utf8=e.FloatingPoint=e.Int=e.Union=e.Map=e.FixedSizeList=e.LargeList=e.List=e.Struct_=e.Null=e.Endianness=e.DictionaryKind=e.Type=e.IntervalUnit=e.TimeUnit=e.DateUnit=e.Precision=e.UnionMode=e.Feature=e.MetadataVersion=void 0;var t,n,l,i,r,c,a,u,o,d,s,m,b,Z,p,h,y,f,X=Hu;(t=e.MetadataVersion||(e.MetadataVersion={}))[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5",(n=e.Feature||(e.Feature={}))[n.UNUSED=0]="UNUSED",n[n.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",n[n.COMPRESSED_BODY=2]="COMPRESSED_BODY",(i=l=e.UnionMode||(e.UnionMode={}))[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense",(c=r=e.Precision||(e.Precision={}))[c.HALF=0]="HALF",c[c.SINGLE=1]="SINGLE",c[c.DOUBLE=2]="DOUBLE",(u=a=e.DateUnit||(e.DateUnit={}))[u.DAY=0]="DAY",u[u.MILLISECOND=1]="MILLISECOND",(d=o=e.TimeUnit||(e.TimeUnit={}))[d.SECOND=0]="SECOND",d[d.MILLISECOND=1]="MILLISECOND",d[d.MICROSECOND=2]="MICROSECOND",d[d.NANOSECOND=3]="NANOSECOND",(m=s=e.IntervalUnit||(e.IntervalUnit={}))[m.YEAR_MONTH=0]="YEAR_MONTH",m[m.DAY_TIME=1]="DAY_TIME",(Z=b=e.Type||(e.Type={}))[Z.NONE=0]="NONE",Z[Z.Null=1]="Null",Z[Z.Int=2]="Int",Z[Z.FloatingPoint=3]="FloatingPoint",Z[Z.Binary=4]="Binary",Z[Z.Utf8=5]="Utf8",Z[Z.Bool=6]="Bool",Z[Z.Decimal=7]="Decimal",Z[Z.Date=8]="Date",Z[Z.Time=9]="Time",Z[Z.Timestamp=10]="Timestamp",Z[Z.Interval=11]="Interval",Z[Z.List=12]="List",Z[Z.Struct_=13]="Struct_",Z[Z.Union=14]="Union",Z[Z.FixedSizeBinary=15]="FixedSizeBinary",Z[Z.FixedSizeList=16]="FixedSizeList",Z[Z.Map=17]="Map",Z[Z.Duration=18]="Duration",Z[Z.LargeBinary=19]="LargeBinary",Z[Z.LargeUtf8=20]="LargeUtf8",Z[Z.LargeList=21]="LargeList",(h=p=e.DictionaryKind||(e.DictionaryKind={}))[h.DenseArray=0]="DenseArray",(f=y=e.Endianness||(e.Endianness={}))[f.Little=0]="Little",f[f.Big=1]="Big";var V=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsNull=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsNull=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startNull=function(e){e.startObject(0)},e.endNull=function(e){return e.endObject()},e.createNull=function(t){return e.startNull(t),e.endNull(t)},e}();e.Null=V;var W=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsStruct_=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsStruct_=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startStruct_=function(e){e.startObject(0)},e.endStruct_=function(e){return e.endObject()},e.createStruct_=function(t){return e.startStruct_(t),e.endStruct_(t)},e}();e.Struct_=W;var G=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsList=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startList=function(e){e.startObject(0)},e.endList=function(e){return e.endObject()},e.createList=function(t){return e.startList(t),e.endList(t)},e}();e.List=G;var R=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeList=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeList=function(e){e.startObject(0)},e.endLargeList=function(e){return e.endObject()},e.createLargeList=function(t){return e.startLargeList(t),e.endLargeList(t)},e}();e.LargeList=R;var S=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFixedSizeList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFixedSizeList=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.listSize=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.startFixedSizeList=function(e){e.startObject(1)},e.addListSize=function(e,t){e.addFieldInt32(0,t,0)},e.endFixedSizeList=function(e){return e.endObject()},e.createFixedSizeList=function(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)},e}();e.FixedSizeList=S;var v=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMap=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMap=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.keysSorted=function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startMap=function(e){e.startObject(1)},e.addKeysSorted=function(e,t){e.addFieldInt8(0,+t,0)},e.endMap=function(e){return e.endObject()},e.createMap=function(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)},e}();e.Map=v;var L=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsUnion=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsUnion=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.mode=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):l.Sparse},e.prototype.typeIds=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},e.prototype.typeIdsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.typeIdsArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.startUnion=function(e){e.startObject(2)},e.addMode=function(e,t){e.addFieldInt16(0,t,l.Sparse)},e.addTypeIds=function(e,t){e.addFieldOffset(1,t,0)},e.createTypeIdsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()},e.startTypeIdsVector=function(e,t){e.startVector(4,t,4)},e.endUnion=function(e){return e.endObject()},e.createUnion=function(t,n,l){return e.startUnion(t),e.addMode(t,n),e.addTypeIds(t,l),e.endUnion(t)},e}();e.Union=L;var Y=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsInt=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsInt=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.isSigned=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startInt=function(e){e.startObject(2)},e.addBitWidth=function(e,t){e.addFieldInt32(0,t,0)},e.addIsSigned=function(e,t){e.addFieldInt8(1,+t,0)},e.endInt=function(e){return e.endObject()},e.createInt=function(t,n,l){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,l),e.endInt(t)},e}();e.Int=Y;var J=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFloatingPoint=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFloatingPoint=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.precision=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.HALF},e.startFloatingPoint=function(e){e.startObject(1)},e.addPrecision=function(e,t){e.addFieldInt16(0,t,r.HALF)},e.endFloatingPoint=function(e){return e.endObject()},e.createFloatingPoint=function(t,n){return e.startFloatingPoint(t),e.addPrecision(t,n),e.endFloatingPoint(t)},e}();e.FloatingPoint=J;var x=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsUtf8=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsUtf8=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startUtf8=function(e){e.startObject(0)},e.endUtf8=function(e){return e.endObject()},e.createUtf8=function(t){return e.startUtf8(t),e.endUtf8(t)},e}();e.Utf8=x;var g=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBinary=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startBinary=function(e){e.startObject(0)},e.endBinary=function(e){return e.endObject()},e.createBinary=function(t){return e.startBinary(t),e.endBinary(t)},e}();e.Binary=g;var H=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeUtf8=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeUtf8=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeUtf8=function(e){e.startObject(0)},e.endLargeUtf8=function(e){return e.endObject()},e.createLargeUtf8=function(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)},e}();e.LargeUtf8=H;var I=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeBinary=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeBinary=function(e){e.startObject(0)},e.endLargeBinary=function(e){return e.endObject()},e.createLargeBinary=function(t){return e.startLargeBinary(t),e.endLargeBinary(t)},e}();e.LargeBinary=I;var U=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFixedSizeBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFixedSizeBinary=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.byteWidth=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.startFixedSizeBinary=function(e){e.startObject(1)},e.addByteWidth=function(e,t){e.addFieldInt32(0,t,0)},e.endFixedSizeBinary=function(e){return e.endObject()},e.createFixedSizeBinary=function(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)},e}();e.FixedSizeBinary=U;var K=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBool=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBool=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startBool=function(e){e.startObject(0)},e.endBool=function(e){return e.endObject()},e.createBool=function(t){return e.startBool(t),e.endBool(t)},e}();e.Bool=K;var N=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDecimal=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDecimal=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.precision=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.scale=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128},e.startDecimal=function(e){e.startObject(3)},e.addPrecision=function(e,t){e.addFieldInt32(0,t,0)},e.addScale=function(e,t){e.addFieldInt32(1,t,0)},e.addBitWidth=function(e,t){e.addFieldInt32(2,t,128)},e.endDecimal=function(e){return e.endObject()},e.createDecimal=function(t,n,l,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,l),e.addBitWidth(t,i),e.endDecimal(t)},e}();e.Decimal=N;var k=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDate=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDate=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):a.MILLISECOND},e.startDate=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,a.MILLISECOND)},e.endDate=function(e){return e.endObject()},e.createDate=function(t,n){return e.startDate(t),e.addUnit(t,n),e.endDate(t)},e}();e.Date=k;var B=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsTime=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTime=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.MILLISECOND},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32},e.startTime=function(e){e.startObject(2)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.MILLISECOND)},e.addBitWidth=function(e,t){e.addFieldInt32(1,t,32)},e.endTime=function(e){return e.endObject()},e.createTime=function(t,n,l){return e.startTime(t),e.addUnit(t,n),e.addBitWidth(t,l),e.endTime(t)},e}();e.Time=B;var T=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsTimestamp=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTimestamp=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.SECOND},e.prototype.timezone=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.startTimestamp=function(e){e.startObject(2)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.SECOND)},e.addTimezone=function(e,t){e.addFieldOffset(1,t,0)},e.endTimestamp=function(e){return e.endObject()},e.createTimestamp=function(t,n,l){return e.startTimestamp(t),e.addUnit(t,n),e.addTimezone(t,l),e.endTimestamp(t)},e}();e.Timestamp=T;var F=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsInterval=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsInterval=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.YEAR_MONTH},e.startInterval=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,s.YEAR_MONTH)},e.endInterval=function(e){return e.endObject()},e.createInterval=function(t,n){return e.startInterval(t),e.addUnit(t,n),e.endInterval(t)},e}();e.Interval=F;var _=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDuration=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDuration=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.MILLISECOND},e.startDuration=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.MILLISECOND)},e.endDuration=function(e){return e.endObject()},e.createDuration=function(t,n){return e.startDuration(t),e.addUnit(t,n),e.endDuration(t)},e}();e.Duration=_;var w=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsKeyValue=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsKeyValue=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.key=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.startKeyValue=function(e){e.startObject(2)},e.addKey=function(e,t){e.addFieldOffset(0,t,0)},e.addValue=function(e,t){e.addFieldOffset(1,t,0)},e.endKeyValue=function(e){return e.endObject()},e.createKeyValue=function(t,n,l){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,l),e.endKeyValue(t)},e}();e.KeyValue=w;var C=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDictionaryEncoding=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDictionaryEncoding=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.indexType=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Y).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.isOrdered=function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.dictionaryKind=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):p.DenseArray},e.startDictionaryEncoding=function(e){e.startObject(4)},e.addId=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addIndexType=function(e,t){e.addFieldOffset(1,t,0)},e.addIsOrdered=function(e,t){e.addFieldInt8(2,+t,0)},e.addDictionaryKind=function(e,t){e.addFieldInt16(3,t,p.DenseArray)},e.endDictionaryEncoding=function(e){return e.endObject()},e.createDictionaryEncoding=function(t,n,l,i,r){return e.startDictionaryEncoding(t),e.addId(t,n),e.addIndexType(t,l),e.addIsOrdered(t,i),e.addDictionaryKind(t,r),e.endDictionaryEncoding(t)},e}();e.DictionaryEncoding=C;var j=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsField=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsField=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.nullable=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.typeType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):b.NONE},e.prototype.type=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null},e.prototype.dictionary=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?(e||new C).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.children=function(t,n){var l=this.bb.__offset(this.bb_pos,14);return l?(n||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+4*t),this.bb):null},e.prototype.childrenLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new w).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startField=function(e){e.startObject(7)},e.addName=function(e,t){e.addFieldOffset(0,t,0)},e.addNullable=function(e,t){e.addFieldInt8(1,+t,0)},e.addTypeType=function(e,t){e.addFieldInt8(2,t,b.NONE)},e.addType=function(e,t){e.addFieldOffset(3,t,0)},e.addDictionary=function(e,t){e.addFieldOffset(4,t,0)},e.addChildren=function(e,t){e.addFieldOffset(5,t,0)},e.createChildrenVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startChildrenVector=function(e,t){e.startVector(4,t,4)},e.addCustomMetadata=function(e,t){e.addFieldOffset(6,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endField=function(e){return e.endObject()},e.createField=function(t,n,l,i,r,c,a,u){return e.startField(t),e.addName(t,n),e.addNullable(t,l),e.addTypeType(t,i),e.addType(t,r),e.addDictionary(t,c),e.addChildren(t,a),e.addCustomMetadata(t,u),e.endField(t)},e}();e.Field=j;var z=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.offset=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.length=function(){return this.bb.readInt64(this.bb_pos+8)},e.createBuffer=function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()},e}();e.Buffer=z;var M=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsSchema=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSchema=function(t,n){return t.setPosition(t.position()+X.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.endianness=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):y.Little},e.prototype.fields=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new j).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.fieldsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new w).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.features=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)},e.prototype.featuresLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startSchema=function(e){e.startObject(4)},e.addEndianness=function(e,t){e.addFieldInt16(0,t,y.Little)},e.addFields=function(e,t){e.addFieldOffset(1,t,0)},e.createFieldsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startFieldsVector=function(e,t){e.startVector(4,t,4)},e.addCustomMetadata=function(e,t){e.addFieldOffset(2,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.addFeatures=function(e,t){e.addFieldOffset(3,t,0)},e.createFeaturesVector=function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()},e.startFeaturesVector=function(e,t){e.startVector(8,t,8)},e.endSchema=function(e){return e.endObject()},e.finishSchemaBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedSchemaBuffer=function(e,t){e.finish(t,void 0,!0)},e.createSchema=function(t,n,l,i,r){return e.startSchema(t),e.addEndianness(t,n),e.addFields(t,l),e.addCustomMetadata(t,i),e.addFeatures(t,r),e.endSchema(t)},e}();e.Schema=M}(io);var ro={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.DictionaryBatch=e.RecordBatch=e.BodyCompression=e.FieldNode=e.MessageHeader=e.BodyCompressionMethod=e.CompressionType=void 0;var t,n,l,i,r,c,a=Hu,u=io;(n=t=e.CompressionType||(e.CompressionType={}))[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD",(i=l=e.BodyCompressionMethod||(e.BodyCompressionMethod={}))[i.BUFFER=0]="BUFFER",(c=r=e.MessageHeader||(e.MessageHeader={}))[c.NONE=0]="NONE",c[c.Schema=1]="Schema",c[c.DictionaryBatch=2]="DictionaryBatch",c[c.RecordBatch=3]="RecordBatch",c[c.Tensor=4]="Tensor",c[c.SparseTensor=5]="SparseTensor";var o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.length=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.nullCount=function(){return this.bb.readInt64(this.bb_pos+8)},e.createFieldNode=function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()},e}();e.FieldNode=o;var d=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBodyCompression=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBodyCompression=function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.codec=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.LZ4_FRAME},e.prototype.method=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):l.BUFFER},e.startBodyCompression=function(e){e.startObject(2)},e.addCodec=function(e,n){e.addFieldInt8(0,n,t.LZ4_FRAME)},e.addMethod=function(e,t){e.addFieldInt8(1,t,l.BUFFER)},e.endBodyCompression=function(e){return e.endObject()},e.createBodyCompression=function(t,n,l){return e.startBodyCompression(t),e.addCodec(t,n),e.addMethod(t,l),e.endBodyCompression(t)},e}();e.BodyCompression=d;var s=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsRecordBatch=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsRecordBatch=function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.nodes=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new o).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null},e.prototype.nodesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.buffers=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new u.Buffer).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null},e.prototype.buffersLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.compression=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?(e||new d).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.startRecordBatch=function(e){e.startObject(4)},e.addLength=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addNodes=function(e,t){e.addFieldOffset(1,t,0)},e.startNodesVector=function(e,t){e.startVector(16,t,8)},e.addBuffers=function(e,t){e.addFieldOffset(2,t,0)},e.startBuffersVector=function(e,t){e.startVector(16,t,8)},e.addCompression=function(e,t){e.addFieldOffset(3,t,0)},e.endRecordBatch=function(e){return e.endObject()},e.createRecordBatch=function(t,n,l,i,r){return e.startRecordBatch(t),e.addLength(t,n),e.addNodes(t,l),e.addBuffers(t,i),e.addCompression(t,r),e.endRecordBatch(t)},e}();e.RecordBatch=s;var m=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDictionaryBatch=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDictionaryBatch=function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new s).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.isDelta=function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startDictionaryBatch=function(e){e.startObject(3)},e.addId=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addData=function(e,t){e.addFieldOffset(1,t,0)},e.addIsDelta=function(e,t){e.addFieldInt8(2,+t,0)},e.endDictionaryBatch=function(e){return e.endObject()},e.createDictionaryBatch=function(t,n,l,i){return e.startDictionaryBatch(t),e.addId(t,n),e.addData(t,l),e.addIsDelta(t,i),e.endDictionaryBatch(t)},e}();e.DictionaryBatch=m;var b=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMessage=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMessage=function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):u.MetadataVersion.V1},e.prototype.headerType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):r.NONE},e.prototype.header=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null},e.prototype.bodyLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new u.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startMessage=function(e){e.startObject(5)},e.addVersion=function(e,t){e.addFieldInt16(0,t,u.MetadataVersion.V1)},e.addHeaderType=function(e,t){e.addFieldInt8(1,t,r.NONE)},e.addHeader=function(e,t){e.addFieldOffset(2,t,0)},e.addBodyLength=function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))},e.addCustomMetadata=function(e,t){e.addFieldOffset(4,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endMessage=function(e){return e.endObject()},e.finishMessageBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedMessageBuffer=function(e,t){e.finish(t,void 0,!0)},e.createMessage=function(t,n,l,i,r,c){return e.startMessage(t),e.addVersion(t,n),e.addHeaderType(t,l),e.addHeader(t,i),e.addBodyLength(t,r),e.addCustomMetadata(t,c),e.endMessage(t)},e}();e.Message=b}(ro),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=io;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var n,l,i=ro;Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return i.MessageHeader}}),(n=e.Type||(e.Type={}))[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth",(l=e.BufferType||(e.BufferType={}))[l.OFFSET=0]="OFFSET",l[l.DATA=1]="DATA",l[l.VALIDITY=2]="VALIDITY",l[l.TYPE=3]="TYPE"}(lo);var co={},ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.popcnt_uint32=ao.popcnt_array=ao.popcnt_bit_range=ao.BitIterator=ao.packBools=ao.truncateBitmap=ao.setBool=ao.getBit=ao.getBool=void 0;var uo=Ju.exports;function oo(e,t,n,l){return 0!=(n&1<<l)}function so(e,t,n,l){return(n&1<<l)>>l}function mo(e){var t,n,l=[],i=0,r=0,c=0;try{for(var a=uo.__values(e),u=a.next();!u.done;u=a.next()){u.value&&(c|=1<<r),8==++r&&(l[i++]=c,c=r=0)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}(0===i||r>0)&&(l[i++]=c);var o=new Uint8Array(l.length+7&-8);return o.set(l),o}ao.getBool=oo,ao.getBit=so,ao.setBool=function(e,t,n){return n?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1},ao.truncateBitmap=function(e,t,n){var l=n.byteLength+7&-8;if(e>0||n.byteLength<l){var i=new Uint8Array(l);return i.set(e%8==0?n.subarray(e>>3):mo(new bo(n,e,t,null,oo)).subarray(0,l)),i}return n},ao.packBools=mo;var bo=function(){function e(e,t,n,l,i){this.bytes=e,this.length=n,this.context=l,this.get=i,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}return e.prototype.next=function(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}();function Zo(e,t,n){for(var l=0,i=0|t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),c=void 0===n?e.byteLength:i+n;c-i>=4;)l+=po(r.getUint32(i)),i+=4;for(;c-i>=2;)l+=po(r.getUint16(i)),i+=2;for(;c-i>=1;)l+=po(r.getUint8(i)),i+=1;return l}function po(e){var t=0|e;return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}ao.BitIterator=bo,ao.popcnt_bit_range=function e(t,n,l){var i,r;if(l-n<=0)return 0;if(l-n<8){var c=0;try{for(var a=uo.__values(new bo(t,n,l-n,t,so)),u=a.next();!u.done;u=a.next()){c+=u.value}}catch(s){i={error:s}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return c}var o=l>>3<<3,d=n+(n%8==0?0:8-n%8);return e(t,n,d)+e(t,o,l)+Zo(t,d>>3,o-d>>3)},ao.popcnt_array=Zo,ao.popcnt_uint32=po;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.strideForType=ho.Dictionary=ho.Map_=ho.FixedSizeList=ho.FixedSizeBinary=ho.SparseUnion=ho.DenseUnion=ho.Union=ho.Struct=ho.List=ho.IntervalYearMonth=ho.IntervalDayTime=ho.Interval=ho.TimestampNanosecond=ho.TimestampMicrosecond=ho.TimestampMillisecond=ho.TimestampSecond=ho.Timestamp=ho.TimeNanosecond=ho.TimeMicrosecond=ho.TimeMillisecond=ho.TimeSecond=ho.Time=ho.DateMillisecond=ho.DateDay=ho.Date_=ho.Decimal=ho.Bool=ho.Utf8=ho.Binary=ho.Float64=ho.Float32=ho.Float16=ho.Float=ho.Uint64=ho.Uint32=ho.Uint16=ho.Uint8=ho.Int64=ho.Int32=ho.Int16=ho.Int8=ho.Int=ho.Null=ho.DataType=void 0;var yo=Ju.exports,fo=lo,Xo=function(){function e(){}var t;return e.isNull=function(e){return(null==e?void 0:e.typeId)===fo.Type.Null},e.isInt=function(e){return(null==e?void 0:e.typeId)===fo.Type.Int},e.isFloat=function(e){return(null==e?void 0:e.typeId)===fo.Type.Float},e.isBinary=function(e){return(null==e?void 0:e.typeId)===fo.Type.Binary},e.isUtf8=function(e){return(null==e?void 0:e.typeId)===fo.Type.Utf8},e.isBool=function(e){return(null==e?void 0:e.typeId)===fo.Type.Bool},e.isDecimal=function(e){return(null==e?void 0:e.typeId)===fo.Type.Decimal},e.isDate=function(e){return(null==e?void 0:e.typeId)===fo.Type.Date},e.isTime=function(e){return(null==e?void 0:e.typeId)===fo.Type.Time},e.isTimestamp=function(e){return(null==e?void 0:e.typeId)===fo.Type.Timestamp},e.isInterval=function(e){return(null==e?void 0:e.typeId)===fo.Type.Interval},e.isList=function(e){return(null==e?void 0:e.typeId)===fo.Type.List},e.isStruct=function(e){return(null==e?void 0:e.typeId)===fo.Type.Struct},e.isUnion=function(e){return(null==e?void 0:e.typeId)===fo.Type.Union},e.isFixedSizeBinary=function(e){return(null==e?void 0:e.typeId)===fo.Type.FixedSizeBinary},e.isFixedSizeList=function(e){return(null==e?void 0:e.typeId)===fo.Type.FixedSizeList},e.isMap=function(e){return(null==e?void 0:e.typeId)===fo.Type.Map},e.isDictionary=function(e){return(null==e?void 0:e.typeId)===fo.Type.Dictionary},Object.defineProperty(e.prototype,"typeId",{get:function(){return fo.Type.NONE},enumerable:!1,configurable:!0}),e[Symbol.toStringTag]=((t=e.prototype).children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"),e}();ho.DataType=Xo;var Vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yo.__extends(t,e),t.prototype.toString=function(){return"Null"},Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Null},enumerable:!1,configurable:!0}),t[Symbol.toStringTag]=t.prototype[Symbol.toStringTag]="Null",t}(Xo);ho.Null=Vo;var Wo=function(e){function t(t,n){var l=e.call(this)||this;return l.isSigned=t,l.bitWidth=n,l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Int},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error("Unrecognized "+this[Symbol.toStringTag]+" type")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return(this.isSigned?"I":"Ui")+"nt"+this.bitWidth},t[Symbol.toStringTag]=((n=t.prototype).isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"),t}(Xo);ho.Int=Wo;var Go=function(e){function t(){return e.call(this,!0,8)||this}return yo.__extends(t,e),t}(Wo);ho.Int8=Go;var Ro=function(e){function t(){return e.call(this,!0,16)||this}return yo.__extends(t,e),t}(Wo);ho.Int16=Ro;var So=function(e){function t(){return e.call(this,!0,32)||this}return yo.__extends(t,e),t}(Wo);ho.Int32=So;var vo=function(e){function t(){return e.call(this,!0,64)||this}return yo.__extends(t,e),t}(Wo);ho.Int64=vo;var Lo=function(e){function t(){return e.call(this,!1,8)||this}return yo.__extends(t,e),t}(Wo);ho.Uint8=Lo;var Yo=function(e){function t(){return e.call(this,!1,16)||this}return yo.__extends(t,e),t}(Wo);ho.Uint16=Yo;var Jo=function(e){function t(){return e.call(this,!1,32)||this}return yo.__extends(t,e),t}(Wo);ho.Uint32=Jo;var xo=function(e){function t(){return e.call(this,!1,64)||this}return yo.__extends(t,e),t}(Wo);ho.Uint64=xo,Object.defineProperty(Go.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(Ro.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(So.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(vo.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(Lo.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(Yo.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(Jo.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(xo.prototype,"ArrayType",{value:Uint32Array});var go=function(e){function t(t){var n=e.call(this)||this;return n.precision=t,n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Float},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){switch(this.precision){case fo.Precision.HALF:return Uint16Array;case fo.Precision.SINGLE:return Float32Array;case fo.Precision.DOUBLE:return Float64Array}throw new Error("Unrecognized "+this[Symbol.toStringTag]+" type")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Float"+(this.precision<<5||16)},t[Symbol.toStringTag]=((n=t.prototype).precision=null,n[Symbol.toStringTag]="Float"),t}(Xo);ho.Float=go;var Ho=function(e){function t(){return e.call(this,fo.Precision.HALF)||this}return yo.__extends(t,e),t}(go);ho.Float16=Ho;var Io=function(e){function t(){return e.call(this,fo.Precision.SINGLE)||this}return yo.__extends(t,e),t}(go);ho.Float32=Io;var Uo=function(e){function t(){return e.call(this,fo.Precision.DOUBLE)||this}return yo.__extends(t,e),t}(go);ho.Float64=Uo,Object.defineProperty(Ho.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(Io.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(Uo.prototype,"ArrayType",{value:Float64Array});var Ko=function(e){function t(){return e.call(this)||this}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Binary},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Binary"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"),t}(Xo);ho.Binary=Ko;var No=function(e){function t(){return e.call(this)||this}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Utf8},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Utf8"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"),t}(Xo);ho.Utf8=No;var ko=function(e){function t(){return e.call(this)||this}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Bool},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Bool"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"),t}(Xo);ho.Bool=ko;var Bo=function(e){function t(t,n){var l=e.call(this)||this;return l.scale=t,l.precision=n,l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Decimal},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Decimal["+this.precision+"e"+(this.scale>0?"+":"")+this.scale+"]"},t[Symbol.toStringTag]=((n=t.prototype).scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"),t}(Xo);ho.Decimal=Bo;var To=function(e){function t(t){var n=e.call(this)||this;return n.unit=t,n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Date},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Date"+32*(this.unit+1)+"<"+fo.DateUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"),t}(Xo);ho.Date_=To;var Fo=function(e){function t(){return e.call(this,fo.DateUnit.DAY)||this}return yo.__extends(t,e),t}(To);ho.DateDay=Fo;var _o=function(e){function t(){return e.call(this,fo.DateUnit.MILLISECOND)||this}return yo.__extends(t,e),t}(To);ho.DateMillisecond=_o;var wo=function(e){function t(t,n){var l=e.call(this)||this;return l.unit=t,l.bitWidth=n,l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Time},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Time"+this.bitWidth+"<"+fo.TimeUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.bitWidth=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Time"),t}(Xo);ho.Time=wo;var Co=function(e){function t(){return e.call(this,fo.TimeUnit.SECOND,32)||this}return yo.__extends(t,e),t}(wo);ho.TimeSecond=Co;var jo=function(e){function t(){return e.call(this,fo.TimeUnit.MILLISECOND,32)||this}return yo.__extends(t,e),t}(wo);ho.TimeMillisecond=jo;var zo=function(e){function t(){return e.call(this,fo.TimeUnit.MICROSECOND,64)||this}return yo.__extends(t,e),t}(wo);ho.TimeMicrosecond=zo;var Mo=function(e){function t(){return e.call(this,fo.TimeUnit.NANOSECOND,64)||this}return yo.__extends(t,e),t}(wo);ho.TimeNanosecond=Mo;var Qo=function(e){function t(t,n){var l=e.call(this)||this;return l.unit=t,l.timezone=n,l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Timestamp},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Timestamp<"+fo.TimeUnit[this.unit]+(this.timezone?", "+this.timezone:"")+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"),t}(Xo);ho.Timestamp=Qo;var Po=function(e){function t(t){return e.call(this,fo.TimeUnit.SECOND,t)||this}return yo.__extends(t,e),t}(Qo);ho.TimestampSecond=Po;var Eo=function(e){function t(t){return e.call(this,fo.TimeUnit.MILLISECOND,t)||this}return yo.__extends(t,e),t}(Qo);ho.TimestampMillisecond=Eo;var Oo=function(e){function t(t){return e.call(this,fo.TimeUnit.MICROSECOND,t)||this}return yo.__extends(t,e),t}(Qo);ho.TimestampMicrosecond=Oo;var Do=function(e){function t(t){return e.call(this,fo.TimeUnit.NANOSECOND,t)||this}return yo.__extends(t,e),t}(Qo);ho.TimestampNanosecond=Do;var Ao=function(e){function t(t){var n=e.call(this)||this;return n.unit=t,n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Interval},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Interval<"+fo.IntervalUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"),t}(Xo);ho.Interval=Ao;var qo=function(e){function t(){return e.call(this,fo.IntervalUnit.DAY_TIME)||this}return yo.__extends(t,e),t}(Ao);ho.IntervalDayTime=qo;var $o=function(e){function t(){return e.call(this,fo.IntervalUnit.YEAR_MONTH)||this}return yo.__extends(t,e),t}(Ao);ho.IntervalYearMonth=$o;var ed=function(e){function t(t){var n=e.call(this)||this;return n.children=[t],n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.List},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"List<"+this.valueType+">"},Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this.children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.valueType.ArrayType},enumerable:!1,configurable:!0}),t[Symbol.toStringTag]=((n=t.prototype).children=null,n[Symbol.toStringTag]="List"),t}(Xo);ho.List=ed;var td=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Struct},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Struct<{"+this.children.map((function(e){return e.name+":"+e.type})).join(", ")+"}>"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n[Symbol.toStringTag]="Struct"),t}(Xo);ho.Struct=td;var nd=function(e){function t(t,n,l){var i=e.call(this)||this;return i.mode=t,i.children=l,i.typeIds=n=Int32Array.from(n),i.typeIdToChildIndex=n.reduce((function(e,t,n){return(e[t]=n)&&e||e}),Object.create(null)),i}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Union},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this[Symbol.toStringTag]+"<"+this.children.map((function(e){return""+e.type})).join(" | ")+">"},t[Symbol.toStringTag]=((n=t.prototype).mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"),t}(Xo);ho.Union=nd;var ld=function(e){function t(t,n){return e.call(this,fo.UnionMode.Dense,t,n)||this}return yo.__extends(t,e),t}(nd);ho.DenseUnion=ld;var id=function(e){function t(t,n){return e.call(this,fo.UnionMode.Sparse,t,n)||this}return yo.__extends(t,e),t}(nd);ho.SparseUnion=id;var rd=function(e){function t(t){var n=e.call(this)||this;return n.byteWidth=t,n}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.FixedSizeBinary},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"FixedSizeBinary["+this.byteWidth+"]"},t[Symbol.toStringTag]=((n=t.prototype).byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"),t}(Xo);ho.FixedSizeBinary=rd;var cd=function(e){function t(t,n){var l=e.call(this)||this;return l.listSize=t,l.children=[n],l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.FixedSizeList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this.children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.valueType.ArrayType},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"FixedSizeList["+this.listSize+"]<"+this.valueType+">"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"),t}(Xo);ho.FixedSizeList=cd;var ad=function(e){function t(t,n){void 0===n&&(n=!1);var l=e.call(this)||this;return l.children=[t],l.keysSorted=n,l}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Map},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyType",{get:function(){return this.children[0].type.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type.children[1].type},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Map<{"+this.children[0].type.children.map((function(e){return e.name+":"+e.type})).join(", ")+"}>"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"),t}(Xo);ho.Map_=ad;var ud,od=(ud=-1,function(){return++ud}),dd=function(e){function t(t,n,l,i){var r=e.call(this)||this;return r.indices=n,r.dictionary=t,r.isOrdered=i||!1,r.id=null==l?od():"number"==typeof l?l:l.low,r}var n;return yo.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return fo.Type.Dictionary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.dictionary.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.dictionary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.dictionary.ArrayType},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Dictionary<"+this.indices+", "+this.dictionary+">"},t[Symbol.toStringTag]=((n=t.prototype).id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"),t}(Xo);ho.Dictionary=dd,ho.strideForType=function(e){var t=e;switch(e.typeId){case fo.Type.Decimal:return 4;case fo.Type.Timestamp:return 2;case fo.Type.Date:case fo.Type.Interval:return 1+t.unit;case fo.Type.Int:case fo.Type.Time:return+(t.bitWidth>32)+1;case fo.Type.FixedSizeList:return t.listSize;case fo.Type.FixedSizeBinary:return t.byteWidth;default:return 1}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.kUnknownNullCount=void 0;var t=ao,n=ao,l=lo,i=ho,r=xu;e.kUnknownNullCount=-1;var c=function(){function c(e,t,n,l,r,a,u){var o;this.type=e,this.dictionary=u,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(l||0,-1)),this.childData=(a||[]).map((function(e){return e instanceof c?e:e.data})),r instanceof c?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=i.strideForType(e),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o)))}return Object.defineProperty(c.prototype,"typeId",{get:function(){return this.type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"buffers",{get:function(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"byteLength",{get:function(){var e=0,t=this,n=t.valueOffsets,l=t.values,i=t.nullBitmap,r=t.typeIds;return n&&(e+=n.byteLength),l&&(e+=l.byteLength),i&&(e+=i.byteLength),r&&(e+=r.byteLength),this.childData.reduce((function(e,t){return e+t.byteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"nullCount",{get:function(){var t,l=this._nullCount;return l<=e.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=l=this.length-n.popcnt_bit_range(t,this.offset,this.offset+this.length)),l},enumerable:!1,configurable:!0}),c.prototype.clone=function(e,t,n,l,i,r){return void 0===t&&(t=this.offset),void 0===n&&(n=this.length),void 0===l&&(l=this._nullCount),void 0===i&&(i=this),void 0===r&&(r=this.childData),new c(e,t,n,l,i,r,this.dictionary)},c.prototype.slice=function(e,t){var n=this,l=n.stride,i=n.typeId,r=n.childData,c=+(0===this._nullCount)-1,a=16===i?l:1,u=this._sliceBuffers(e,t,l,i);return this.clone(this.type,this.offset+e,t,c,u,!r.length||this.valueOffsets?r:this._sliceChildren(r,a*e,a*t))},c.prototype._changeLengthAndBackfillNullBitmap=function(e){if(this.typeId===l.Type.Null)return this.clone(this.type,0,e,0);var n=this.length,i=this.nullCount,r=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);r[n>>3]=(1<<n-(-8&n))-1,i>0&&r.set(t.truncateBitmap(this.offset,n,this.nullBitmap),0);var c=this.buffers;return c[l.BufferType.VALIDITY]=r,this.clone(this.type,0,e,i+(e-n),c)},c.prototype._sliceBuffers=function(e,t,n,i){var r,c=this.buffers;return(r=c[l.BufferType.TYPE])&&(c[l.BufferType.TYPE]=r.subarray(e,e+t)),(r=c[l.BufferType.OFFSET])&&(c[l.BufferType.OFFSET]=r.subarray(e,e+t+1))||(r=c[l.BufferType.DATA])&&(c[l.BufferType.DATA]=6===i?r:r.subarray(n*e,n*(e+t))),c},c.prototype._sliceChildren=function(e,t,n){return e.map((function(e){return e.slice(t,n)}))},c.new=function(e,t,n,i,r,a,u){switch(r instanceof c?r=r.buffers:r||(r=[]),e.typeId){case l.Type.Null:return c.Null(e,t,n);case l.Type.Int:return c.Int(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Dictionary:return c.Dictionary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[],u);case l.Type.Float:return c.Float(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Bool:return c.Bool(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Decimal:return c.Decimal(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Date:return c.Date(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Time:return c.Time(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Timestamp:return c.Timestamp(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Interval:return c.Interval(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.FixedSizeBinary:return c.FixedSizeBinary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Binary:return c.Binary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],r[l.BufferType.DATA]||[]);case l.Type.Utf8:return c.Utf8(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],r[l.BufferType.DATA]||[]);case l.Type.List:return c.List(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],(a||[])[0]);case l.Type.FixedSizeList:return c.FixedSizeList(e,t,n,i||0,r[l.BufferType.VALIDITY],(a||[])[0]);case l.Type.Struct:return c.Struct(e,t,n,i||0,r[l.BufferType.VALIDITY],a||[]);case l.Type.Map:return c.Map(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],(a||[])[0]);case l.Type.Union:return c.Union(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.TYPE]||[],r[l.BufferType.OFFSET]||a,a)}throw new Error("Unrecognized typeId "+e.typeId)},c.Null=function(e,t,n){return new c(e,t,n,0)},c.Int=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Dictionary=function(e,t,n,l,i,a,u){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.indices.ArrayType,a),r.toUint8Array(i)],[],u)},c.Float=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Bool=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Decimal=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Date=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Time=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Timestamp=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Interval=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.FixedSizeBinary=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,a),r.toUint8Array(i)])},c.Binary=function(e,t,n,l,i,a,u){return new c(e,t,n,l,[r.toInt32Array(a),r.toUint8Array(u),r.toUint8Array(i)])},c.Utf8=function(e,t,n,l,i,a,u){return new c(e,t,n,l,[r.toInt32Array(a),r.toUint8Array(u),r.toUint8Array(i)])},c.List=function(e,t,n,l,i,a,u){return new c(e,t,n,l,[r.toInt32Array(a),void 0,r.toUint8Array(i)],u?[u]:[])},c.FixedSizeList=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,void 0,r.toUint8Array(i)],a?[a]:[])},c.Struct=function(e,t,n,l,i,a){return new c(e,t,n,l,[void 0,void 0,r.toUint8Array(i)],a)},c.Map=function(e,t,n,l,i,a,u){return new c(e,t,n,l,[r.toInt32Array(a),void 0,r.toUint8Array(i)],u?[u]:[])},c.Union=function(e,t,n,i,a,u,o,d){var s=[void 0,void 0,r.toUint8Array(a),r.toArrayBufferView(e.ArrayType,u)];return e.mode===l.UnionMode.Sparse?new c(e,t,n,i,s,o):(s[l.BufferType.OFFSET]=r.toInt32Array(o),new c(e,t,n,i,s,d))},c}();e.Data=c,c.prototype.childData=Object.freeze([])}(co);var sd={},md={};Object.defineProperty(md,"__esModule",{value:!0}),md.valueToString=void 0;md.valueToString=function(e){if(null===e)return"null";if(undefined===e)return"undefined";switch(typeof e){case"number":case"bigint":return""+e;case"string":return'"'+e+'"'}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?"["+e+"]":JSON.stringify(e)},Object.defineProperty(sd,"__esModule",{value:!0}),sd.createIsValidFunction=void 0;var bd=md,Zd=Nu;sd.createIsValidFunction=function(e){if(!e||e.length<=0)return function(e){return!0};var t="",n=e.filter((function(e){return e==e}));return n.length>0&&(t="\n    switch (x) {"+n.map((function(e){return"\n        case "+function(e){if("bigint"!=typeof e)return bd.valueToString(e);if(Zd.BigIntAvailable)return bd.valueToString(e)+"n";return'"'+bd.valueToString(e)+'"'}(e)+":"})).join("")+"\n            return false;\n    }"),e.length!==n.length&&(t="if (x !== x) return false;\n"+t),new Function("x",t+"\nreturn true;")};var pd={};Object.defineProperty(pd,"__esModule",{value:!0}),pd.WideBufferBuilder=pd.OffsetsBufferBuilder=pd.BitmapBufferBuilder=pd.DataBufferBuilder=pd.BufferBuilder=void 0;var hd=Ju.exports,yd=xu,fd=Nu,Xd=function(e,t){return(e*t+63&-64||64)/t},Vd=function(){function e(e,t){void 0===t&&(t=1),this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}return Object.defineProperty(e.prototype,"byteLength",{get:function(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedLength",{get:function(){return this.buffer.length/this.stride},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedByteLength",{get:function(){return this.buffer.byteLength},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){return this},e.prototype.append=function(e){return this.set(this.length,e)},e.prototype.reserve=function(e){if(e>0){this.length+=e;var t=this.stride,n=this.length*t,l=this.buffer.length;n>=l&&this._resize(Xd(0===l?1*n:2*n,this.BYTES_PER_ELEMENT))}return this},e.prototype.flush=function(e){void 0===e&&(e=this.length),e=Xd(e*this.stride,this.BYTES_PER_ELEMENT);var t,n,l=(t=this.buffer,void 0===(n=e)&&(n=0),t.length>=n?t.subarray(0,n):yd.memcpy(new t.constructor(n),t,0));return this.clear(),l},e.prototype.clear=function(){return this.length=0,this._resize(0),this},e.prototype._resize=function(e){return this.buffer=yd.memcpy(new this.ArrayType(e),this.buffer)},e}();pd.BufferBuilder=Vd,Vd.prototype.offset=0;var Wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hd.__extends(t,e),t.prototype.last=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.buffer[e]},t.prototype.set=function(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this},t}(Vd);pd.DataBufferBuilder=Wd;var Gd=function(e){function t(t){void 0===t&&(t=new Uint8Array(0));var n=e.call(this,t,1/8)||this;return n.numValid=0,n}return hd.__extends(t,e),Object.defineProperty(t.prototype,"numInvalid",{get:function(){return this.length-this.numValid},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this.buffer[e>>3]>>e%8&1},t.prototype.set=function(e,t){var n=this.reserve(e-this.length+1).buffer,l=e>>3,i=e%8,r=n[l]>>i&1;return t?0===r&&(n[l]|=1<<i,++this.numValid):1===r&&(n[l]&=~(1<<i),--this.numValid),this},t.prototype.clear=function(){return this.numValid=0,e.prototype.clear.call(this)},t}(Wd);pd.BitmapBufferBuilder=Gd;var Rd=function(e){function t(t){return void 0===t&&(t=new Int32Array(1)),e.call(this,t,1)||this}return hd.__extends(t,e),t.prototype.append=function(e){return this.set(this.length-1,e)},t.prototype.set=function(e,t){var n=this.length-1,l=this.reserve(e-n+1).buffer;return n<e++&&l.fill(l[n],n,e),l[e]=l[e-1]+t,this},t.prototype.flush=function(t){return void 0===t&&(t=this.length-1),t>this.length&&this.set(t-1,0),e.prototype.flush.call(this,t+1)},t}(Wd);pd.OffsetsBufferBuilder=Rd;var Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hd.__extends(t,e),Object.defineProperty(t.prototype,"ArrayType64",{get:function(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?fd.BigInt64Array:fd.BigUint64Array)},enumerable:!1,configurable:!0}),t.prototype.set=function(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this},t.prototype._resize=function(t){var n=e.prototype._resize.call(this,t),l=n.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return fd.BigIntAvailable&&(this.buffer64=new this.ArrayType64(n.buffer,n.byteOffset,l)),n},t}(Vd);pd.WideBufferBuilder=Sd,Object.defineProperty(eo,"__esModule",{value:!0}),eo.VariableWidthBuilder=eo.FixedWidthBuilder=eo.Builder=void 0;var vd=Ju.exports,Ld=to,Yd=lo,Jd=co,xd=sd,gd=pd,Hd=ho,Id=function(){function e(e){var t=e.type,n=e.nullValues;this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Hd.strideForType(t),this._nulls=new gd.BitmapBufferBuilder,n&&n.length>0&&(this._isValid=xd.createIsValidFunction(n))}return e.new=function(e){},e.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},e.throughDOM=function(e){throw new Error('"throughDOM" not available in this environment')},e.throughIterable=function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,l=e.highWaterMark,i=void 0===l?"bytes"!==n?1e3:Math.pow(2,14):l,r="bytes"!==n?"length":"byteLength";return function(t){var n,l,c,a,u,o,d,s;return vd.__generator(this,(function(m){switch(m.label){case 0:n=0,l=Id.new(e),m.label=1;case 1:m.trys.push([1,7,8,9]),c=vd.__values(t),a=c.next(),m.label=2;case 2:return a.done?[3,6]:(u=a.value,l.append(u)[r]>=i?++n?[4,l.toVector()]:[3,4]:[3,5]);case 3:m.sent(),m.label=4;case 4:m.label=5;case 5:return a=c.next(),[3,2];case 6:return[3,9];case 7:return o=m.sent(),d={error:o},[3,9];case 8:try{a&&!a.done&&(s=c.return)&&s.call(c)}finally{if(d)throw d.error}return[7];case 9:return l.finish().length>0||0===n?[4,l.toVector()]:[3,11];case 10:m.sent(),m.label=11;case 11:return[2]}}))}}(e)},e.throughAsyncIterable=function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,l=e.highWaterMark,i=void 0===l?"bytes"!==n?1e3:Math.pow(2,14):l,r="bytes"!==n?"length":"byteLength";return function(t){return vd.__asyncGenerator(this,arguments,(function(){var n,l,c,a,u,o,d,s;return vd.__generator(this,(function(m){switch(m.label){case 0:n=0,l=Id.new(e),m.label=1;case 1:m.trys.push([1,9,10,15]),c=vd.__asyncValues(t),m.label=2;case 2:return[4,vd.__await(c.next())];case 3:return(a=m.sent()).done?[3,8]:(u=a.value,l.append(u)[r]>=i?++n?[4,vd.__await(l.toVector())]:[3,6]:[3,7]);case 4:return[4,m.sent()];case 5:m.sent(),m.label=6;case 6:m.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return o=m.sent(),d={error:o},[3,15];case 10:return m.trys.push([10,,13,14]),a&&!a.done&&(s=c.return)?[4,vd.__await(s.call(c))]:[3,12];case 11:m.sent(),m.label=12;case 12:return[3,14];case 13:if(d)throw d.error;return[7];case 14:return[7];case 15:return l.finish().length>0||0===n?[4,vd.__await(l.toVector())]:[3,18];case 16:return[4,m.sent()];case 17:m.sent(),m.label=18;case 18:return[2]}}))}))}}(e)},e.prototype.toVector=function(){return Ld.Vector.new(this.flush())},Object.defineProperty(e.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nullCount",{get:function(){return this._nulls.numInvalid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"byteLength",{get:function(){var e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((function(e,t){return e+t.byteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedLength",{get:function(){return this._nulls.reservedLength},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedByteLength",{get:function(){var e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((function(e,t){return e+t.reservedByteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueOffsets",{get:function(){return this._offsets?this._offsets.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values?this._values.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nullBitmap",{get:function(){return this._nulls?this._nulls.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeIds",{get:function(){return this._typeIds?this._typeIds.buffer:null},enumerable:!1,configurable:!0}),e.prototype.append=function(e){return this.set(this.length,e)},e.prototype.isValid=function(e){return this._isValid(e)},e.prototype.set=function(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this},e.prototype.setValue=function(e,t){this._setValue(this,e,t)},e.prototype.setValid=function(e,t){return this.length=this._nulls.set(e,+t).length,t},e.prototype.addChild=function(e,t){throw void 0===t&&(t=""+this.numChildren),new Error('Cannot append children to non-nested type "'+this.type+'"')},e.prototype.getChildAt=function(e){return this.children[e]||null},e.prototype.flush=function(){var e=[],t=this._values,n=this._offsets,l=this._typeIds,i=this.length,r=this.nullCount;l?(e[Yd.BufferType.TYPE]=l.flush(i),n&&(e[Yd.BufferType.OFFSET]=n.flush(i))):n?(t&&(e[Yd.BufferType.DATA]=t.flush(n.last())),e[Yd.BufferType.OFFSET]=n.flush(i)):t&&(e[Yd.BufferType.DATA]=t.flush(i)),r>0&&(e[Yd.BufferType.VALIDITY]=this._nulls.flush(i));var c=Jd.Data.new(this.type,0,i,r,e,this.children.map((function(e){return e.flush()})));return this.clear(),c},e.prototype.finish=function(){return this.finished=!0,this.children.forEach((function(e){return e.finish()})),this},e.prototype.clear=function(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((function(e){return e.clear()})),this},e}();eo.Builder=Id,Id.prototype.length=1,Id.prototype.stride=1,Id.prototype.children=null,Id.prototype.finished=!1,Id.prototype.nullValues=null,Id.prototype._isValid=function(){return!0};var Ud=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new gd.DataBufferBuilder(new n.ArrayType(0),n.stride),n}return vd.__extends(t,e),t.prototype.setValue=function(t,n){var l=this._values;return l.reserve(t-l.length+1),e.prototype.setValue.call(this,t,n)},t}(Id);eo.FixedWidthBuilder=Ud;var Kd=function(e){function t(t){var n=e.call(this,t)||this;return n._pendingLength=0,n._offsets=new gd.OffsetsBufferBuilder,n}return vd.__extends(t,e),t.prototype.setValue=function(e,t){var n=this._pending||(this._pending=new Map),l=n.get(e);l&&(this._pendingLength-=l.length),this._pendingLength+=t.length,n.set(e,t)},t.prototype.setValid=function(t,n){return!!e.prototype.setValid.call(this,t,n)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)},t.prototype.clear=function(){return this._pendingLength=0,this._pending=void 0,e.prototype.clear.call(this)},t.prototype.flush=function(){return this._flush(),e.prototype.flush.call(this)},t.prototype.finish=function(){return this._flush(),e.prototype.finish.call(this)},t.prototype._flush=function(){var e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this},t}(Id);eo.VariableWidthBuilder=Kd;var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.BoolBuilder=void 0;var kd=Ju.exports,Bd=pd,Td=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new Bd.BitmapBufferBuilder,n}return kd.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,+t)},t}(eo.Builder);Nd.BoolBuilder=Td;var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.NullBuilder=void 0;var _d=Ju.exports,wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _d.__extends(t,e),t.prototype.setValue=function(e,t){},t.prototype.setValid=function(e,t){return this.length=Math.max(e+1,this.length),t},t}(eo.Builder);Fd.NullBuilder=wd;var Cd={};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.DateMillisecondBuilder=Cd.DateDayBuilder=Cd.DateBuilder=void 0;var jd=Ju.exports,zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jd.__extends(t,e),t}(eo.FixedWidthBuilder);Cd.DateBuilder=zd;var Md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jd.__extends(t,e),t}(zd);Cd.DateDayBuilder=Md;var Qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jd.__extends(t,e),t}(zd);Cd.DateMillisecondBuilder=Qd;var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.DecimalBuilder=void 0;var Ed=Ju.exports,Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed.__extends(t,e),t}(eo.FixedWidthBuilder);Pd.DecimalBuilder=Od;var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.DictionaryBuilder=void 0;var Ad=Ju.exports,qd=ho,$d=eo,es=function(e){function t(t){var n=t.type,l=t.nullValues,i=t.dictionaryHashFunction,r=e.call(this,{type:new qd.Dictionary(n.dictionary,n.indices,n.id,n.isOrdered)})||this;return r._nulls=null,r._dictionaryOffset=0,r._keysToIndices=Object.create(null),r.indices=$d.Builder.new({type:r.type.indices,nullValues:l}),r.dictionary=$d.Builder.new({type:r.type.dictionary,nullValues:null}),"function"==typeof i&&(r.valueToKey=i),r}return Ad.__extends(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.indices.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){return this.indices.nullCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullBitmap",{get:function(){return this.indices.nullBitmap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.indices.byteLength+this.dictionary.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reservedLength",{get:function(){return this.indices.reservedLength+this.dictionary.reservedLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reservedByteLength",{get:function(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength},enumerable:!1,configurable:!0}),t.prototype.isValid=function(e){return this.indices.isValid(e)},t.prototype.setValid=function(e,t){var n=this.indices;return t=n.setValid(e,t),this.length=n.length,t},t.prototype.setValue=function(e,t){var n=this._keysToIndices,l=this.valueToKey(t),i=n[l];return void 0===i&&(n[l]=i=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,i)},t.prototype.flush=function(){var e=this.type,t=this._dictionary,n=this.dictionary.toVector(),l=this.indices.flush().clone(e);return l.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=l.dictionary,this.clear(),l},t.prototype.finish=function(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),e.prototype.finish.call(this)},t.prototype.clear=function(){return this.indices.clear(),this.dictionary.clear(),e.prototype.clear.call(this)},t.prototype.valueToKey=function(e){return"string"==typeof e?e:""+e},t}($d.Builder);Dd.DictionaryBuilder=es;var ts={};Object.defineProperty(ts,"__esModule",{value:!0}),ts.FixedSizeBinaryBuilder=void 0;var ns=Ju.exports,ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ns.__extends(t,e),t}(eo.FixedWidthBuilder);ts.FixedSizeBinaryBuilder=ls;var is={},rs={};Object.defineProperty(rs,"__esModule",{value:!0}),rs.float64ToUint16=rs.uint16ToFloat64=void 0;var cs=new Float64Array(1),as=new Uint32Array(cs.buffer);rs.uint16ToFloat64=function(e){var t=(31744&e)>>10,n=(1023&e)/1024,l=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return l*(n?NaN:1/0);case 0:return l*(n?6103515625e-14*n:0)}return l*Math.pow(2,t-15)*(1+n)},rs.float64ToUint16=function(e){if(e!=e)return 32256;cs[0]=e;var t=(2147483648&as[1])>>16&65535,n=2146435072&as[1],l=0;return n>=1089470464?as[0]>0?n=31744:(n=(2080374784&n)>>16,l=(1048575&as[1])>>10):n<=1056964608?(l=1048576+((l=1048576+(1048575&as[1]))<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,l=512+(1048575&as[1])>>10),t|n|65535&l},Object.defineProperty(is,"__esModule",{value:!0}),is.Float64Builder=is.Float32Builder=is.Float16Builder=is.FloatBuilder=void 0;var us=Ju.exports,os=rs,ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return us.__extends(t,e),t}(eo.FixedWidthBuilder);is.FloatBuilder=ds;var ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return us.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,os.float64ToUint16(t))},t}(ds);is.Float16Builder=ss;var ms=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return us.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(ds);is.Float32Builder=ms;var bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return us.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(ds);is.Float64Builder=bs;var Zs={},ps={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BN=e.bignumToBigInt=e.bignumToString=e.isArrowBigNumSymbol=void 0;var t=Ju.exports,n=xu,l=Nu;function i(e){for(var l,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return 0===i.length?Object.setPrototypeOf(n.toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new((l=this.TypedArray).bind.apply(l,t.__spread([void 0,e],i))),this.constructor.prototype)}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function u(e){for(var t,n,l=e.buffer,i=e.byteOffset,r=e.length,c=e.signed,a=new Int32Array(l,i,r),u=0,o=0,d=a.length;o<d;)n=a[o++],t=a[o++],c||(t>>>=0),u+=(n>>>0)+t*Math.pow(o,32);return u}function o(e){var t="",n=new Uint32Array(2),l=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((l=new Uint16Array(l).reverse()).buffer),r=-1,c=l.length-1;do{for(n[0]=l[r=0];r<c;)l[r++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+l[r];l[r]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t=""+n[0]+t}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}e.isArrowBigNumSymbol=Symbol.for("isArrowBigNum"),i.prototype[e.isArrowBigNumSymbol]=!0,i.prototype.toJSON=function(){return'"'+e.bignumToString(this)+'"'},i.prototype.valueOf=function(){return u(this)},i.prototype.toString=function(){return e.bignumToString(this)},i.prototype[Symbol.toPrimitive]=function(t){switch(void 0===t&&(t="default"),t){case"number":return u(this);case"string":return e.bignumToString(this);case"default":return e.bignumToBigInt(this)}return e.bignumToString(this)},Object.setPrototypeOf(r.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(c.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(a.prototype,Object.create(Uint32Array.prototype)),Object.assign(r.prototype,i.prototype,{constructor:r,signed:!0,TypedArray:Int32Array,BigIntArray:l.BigInt64Array}),Object.assign(c.prototype,i.prototype,{constructor:c,signed:!1,TypedArray:Uint32Array,BigIntArray:l.BigUint64Array}),Object.assign(a.prototype,i.prototype,{constructor:a,signed:!0,TypedArray:Uint32Array,BigIntArray:l.BigUint64Array}),l.BigIntAvailable?(e.bignumToBigInt=function(e){return 8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:o(e)},e.bignumToString=function(e){return 8===e.byteLength?""+new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:o(e)}):(e.bignumToString=o,e.bignumToBigInt=e.bignumToString);var d=function(){function e(t,n){return e.new(t,n)}return e.new=function(e,t){switch(t){case!0:return new r(e);case!1:return new c(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case l.BigInt64Array:return new r(e)}return 16===e.byteLength?new a(e):new c(e)},e.signed=function(e){return new r(e)},e.unsigned=function(e){return new c(e)},e.decimal=function(e){return new a(e)},e}();e.BN=d}(ps),Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.Uint64Builder=Zs.Uint32Builder=Zs.Uint16Builder=Zs.Uint8Builder=Zs.Int64Builder=Zs.Int32Builder=Zs.Int16Builder=Zs.Int8Builder=Zs.IntBuilder=void 0;var hs=Ju.exports,ys=ps,fs=pd,Xs=Nu,Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(eo.FixedWidthBuilder);Zs.IntBuilder=Vs;var Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Int8Builder=Ws;var Gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Int16Builder=Gs;var Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Int32Builder=Rs;var Ss=function(e){function t(t){var n=this;return t.nullValues&&(t.nullValues=t.nullValues.map(gs)),(n=e.call(this,t)||this)._values=new fs.WideBufferBuilder(new Int32Array(0),2),n}return hs.__extends(t,e),Object.defineProperty(t.prototype,"values64",{get:function(){return this._values.buffer64},enumerable:!1,configurable:!0}),t.prototype.isValid=function(t){return e.prototype.isValid.call(this,gs(t))},t}(Vs);Zs.Int64Builder=Ss;var vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Uint8Builder=vs;var Ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Uint16Builder=Ls;var Ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hs.__extends(t,e),t}(Vs);Zs.Uint32Builder=Ys;var Js=function(e){function t(t){var n=this;return t.nullValues&&(t.nullValues=t.nullValues.map(gs)),(n=e.call(this,t)||this)._values=new fs.WideBufferBuilder(new Uint32Array(0),2),n}return hs.__extends(t,e),Object.defineProperty(t.prototype,"values64",{get:function(){return this._values.buffer64},enumerable:!1,configurable:!0}),t.prototype.isValid=function(t){return e.prototype.isValid.call(this,gs(t))},t}(Vs);Zs.Uint64Builder=Js;var xs,gs=(xs={BigIntArray:Xs.BigInt64Array},function(e){return ArrayBuffer.isView(e)&&(xs.buffer=e.buffer,xs.byteOffset=e.byteOffset,xs.byteLength=e.byteLength,e=ys.bignumToBigInt(xs),xs.buffer=null),e}),Hs={};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.TimeNanosecondBuilder=Hs.TimeMicrosecondBuilder=Hs.TimeMillisecondBuilder=Hs.TimeSecondBuilder=Hs.TimeBuilder=void 0;var Is=Ju.exports,Us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is.__extends(t,e),t}(eo.FixedWidthBuilder);Hs.TimeBuilder=Us;var Ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is.__extends(t,e),t}(Us);Hs.TimeSecondBuilder=Ks;var Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is.__extends(t,e),t}(Us);Hs.TimeMillisecondBuilder=Ns;var ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is.__extends(t,e),t}(Us);Hs.TimeMicrosecondBuilder=ks;var Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is.__extends(t,e),t}(Us);Hs.TimeNanosecondBuilder=Bs;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.TimestampNanosecondBuilder=Ts.TimestampMicrosecondBuilder=Ts.TimestampMillisecondBuilder=Ts.TimestampSecondBuilder=Ts.TimestampBuilder=void 0;var Fs=Ju.exports,_s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs.__extends(t,e),t}(eo.FixedWidthBuilder);Ts.TimestampBuilder=_s;var ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs.__extends(t,e),t}(_s);Ts.TimestampSecondBuilder=ws;var Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs.__extends(t,e),t}(_s);Ts.TimestampMillisecondBuilder=Cs;var js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs.__extends(t,e),t}(_s);Ts.TimestampMicrosecondBuilder=js;var zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs.__extends(t,e),t}(_s);Ts.TimestampNanosecondBuilder=zs;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.IntervalYearMonthBuilder=Ms.IntervalDayTimeBuilder=Ms.IntervalBuilder=void 0;var Qs=Ju.exports,Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qs.__extends(t,e),t}(eo.FixedWidthBuilder);Ms.IntervalBuilder=Ps;var Es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qs.__extends(t,e),t}(Ps);Ms.IntervalDayTimeBuilder=Es;var Os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qs.__extends(t,e),t}(Ps);Ms.IntervalYearMonthBuilder=Os;var Ds={},As={};Object.defineProperty(As,"__esModule",{value:!0}),As.BinaryBuilder=void 0;var qs=Ju.exports,$s=xu,em=pd,tm=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new em.BufferBuilder(new Uint8Array(0)),n}return qs.__extends(t,e),Object.defineProperty(t.prototype,"byteLength",{get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,$s.toUint8Array(n))},t.prototype._flushPending=function(e,t){var n,l,i,r,c=this._offsets,a=this._values.reserve(t).buffer,u=0,o=0,d=0;try{for(var s=qs.__values(e),m=s.next();!m.done;m=s.next())u=(i=qs.__read(m.value,2))[0],void 0===(r=i[1])?c.set(u,0):(o=r.length,a.set(r,d),c.set(u,o),d+=o)}catch(b){n={error:b}}finally{try{m&&!m.done&&(l=s.return)&&l.call(s)}finally{if(n)throw n.error}}},t}(eo.VariableWidthBuilder);As.BinaryBuilder=tm,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Utf8Builder=void 0;var nm=Ju.exports,lm=Iu,im=As,rm=pd,cm=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new rm.BufferBuilder(new Uint8Array(0)),n}return nm.__extends(t,e),Object.defineProperty(t.prototype,"byteLength",{get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,lm.encodeUtf8(n))},t.prototype._flushPending=function(e,t){},t}(eo.VariableWidthBuilder);Ds.Utf8Builder=cm,cm.prototype._flushPending=im.BinaryBuilder.prototype._flushPending;var am={},um={};Object.defineProperty(um,"__esModule",{value:!0}),um.Run=void 0;var om=to,dm=function(){function e(){}return Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._values[e]},e.prototype.clear=function(){return this._values=null,this},e.prototype.bind=function(e){return e instanceof om.Vector?e:(this._values=e,this)},e}();um.Run=dm;var sm={};Object.defineProperty(sm,"__esModule",{value:!0}),sm.Field=sm.Schema=void 0;var mm=Ju.exports,bm=ho,Zm=function(){function e(e,t,n){void 0===e&&(e=[]),this.fields=e||[],this.metadata=t||new Map,n||(n=ym(e)),this.dictionaries=n}return Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Schema"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Schema<{ "+this.fields.map((function(e,t){return t+": "+e})).join(", ")+" }>"},e.prototype.select=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=t.reduce((function(e,t){return(e[t]=!0)&&e}),Object.create(null));return new e(this.fields.filter((function(e){return l[e.name]})),this.metadata)},e.prototype.selectAt=function(){for(var t=this,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return new e(n.map((function(e){return t.fields[e]})).filter(Boolean),this.metadata)},e.prototype.assign=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=t[0]instanceof e?t[0]:Array.isArray(t[0])?new e(t[0]):new e(t),i=mm.__spread(this.fields),r=hm(hm(new Map,this.metadata),l.metadata),c=l.fields.filter((function(e){var t=i.findIndex((function(t){return t.name===e.name}));return!~t||(i[t]=e.clone({metadata:hm(hm(new Map,i[t].metadata),e.metadata)}))&&!1})),a=ym(c,new Map);return new e(mm.__spread(i,c),r,new Map(mm.__spread(this.dictionaries,a)))},e}();sm.Schema=Zm;var pm=function(){function e(e,t,n,l){void 0===n&&(n=!1),this.name=e,this.type=t,this.nullable=n,this.metadata=l||new Map}return e.new=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=mm.__read(t,4),i=l[0],r=l[1],c=l[2],a=l[3];return t[0]&&"object"==typeof t[0]&&(i=t[0].name,void 0===r&&(r=t[0].type),void 0===c&&(c=t[0].nullable),void 0===a&&(a=t[0].metadata)),new e(""+i,r,c,a)},Object.defineProperty(e.prototype,"typeId",{get:function(){return this.type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Field"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.type},e.prototype.clone=function(){for(var t,n,l,i,r,c,a,u,o,d,s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];var b=mm.__read(s,4),Z=b[0],p=b[1],h=b[2],y=b[3];return s[0]&&"object"==typeof s[0]?(Z=void 0===(a=(c=s[0]).name)?this.name:a,p=void 0===(u=c.type)?this.type:u,h=void 0===(o=c.nullable)?this.nullable:o,y=void 0===(d=c.metadata)?this.metadata:d):(Z=void 0===(n=(t=mm.__read(s,4))[0])?this.name:n,p=void 0===(l=t[1])?this.type:l,h=void 0===(i=t[2])?this.nullable:i,y=void 0===(r=t[3])?this.metadata:r),e.new(Z,p,h,y)},e}();function hm(e,t){return new Map(mm.__spread(e||new Map,t||new Map))}function ym(e,t){void 0===t&&(t=new Map);for(var n=-1,l=e.length;++n<l;){var i=e[n].type;if(bm.DataType.isDictionary(i))if(t.has(i.id)){if(t.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(i.id,i.dictionary);i.children&&i.children.length>0&&ym(i.children,t)}return t}sm.Field=pm,Zm.prototype.fields=null,Zm.prototype.metadata=null,Zm.prototype.dictionaries=null,pm.prototype.type=null,pm.prototype.name=null,pm.prototype.nullable=null,pm.prototype.metadata=null,Object.defineProperty(am,"__esModule",{value:!0}),am.ListBuilder=void 0;var fm=Ju.exports,Xm=um,Vm=sm,Wm=ho,Gm=pd,Rm=function(e){function t(t){var n=e.call(this,t)||this;return n._run=new Xm.Run,n._offsets=new Gm.OffsetsBufferBuilder,n}return fm.__extends(t,e),t.prototype.addChild=function(e,t){if(void 0===t&&(t="0"),this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new Wm.List(new Vm.Field(t,e.type,!0)),this.numChildren-1},t.prototype.clear=function(){return this._run.clear(),e.prototype.clear.call(this)},t.prototype._flushPending=function(e){var t,n,l,i,r=this._run,c=this._offsets,a=this._setValue,u=0;try{for(var o=fm.__values(e),d=o.next();!d.done;d=o.next())u=(l=fm.__read(d.value,2))[0],void 0===(i=l[1])?c.set(u,0):(c.set(u,i.length),a(this,u,r.bind(i)))}catch(s){t={error:s}}finally{try{d&&!d.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t}(eo.VariableWidthBuilder);am.ListBuilder=Rm;var Sm={};Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.FixedSizeListBuilder=void 0;var vm=Ju.exports,Lm=um,Ym=sm,Jm=ho,xm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._run=new Lm.Run,t}return vm.__extends(t,e),t.prototype.setValue=function(t,n){e.prototype.setValue.call(this,t,this._run.bind(n))},t.prototype.addChild=function(e,t){if(void 0===t&&(t="0"),this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");var n=this.children.push(e);return this.type=new Jm.FixedSizeList(this.type.listSize,new Ym.Field(t,e.type,!0)),n},t.prototype.clear=function(){return this._run.clear(),e.prototype.clear.call(this)},t}(eo.Builder);Sm.FixedSizeListBuilder=xm;var gm={};Object.defineProperty(gm,"__esModule",{value:!0}),gm.MapBuilder=void 0;var Hm=Ju.exports,Im=sm,Um=ho,Km=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hm.__extends(t,e),t.prototype.set=function(t,n){return e.prototype.set.call(this,t,n)},t.prototype.setValue=function(e,t){t=t instanceof Map?t:new Map(Object.entries(t));var n=this._pending||(this._pending=new Map),l=n.get(e);l&&(this._pendingLength-=l.size),this._pendingLength+=t.size,n.set(e,t)},t.prototype.addChild=function(e,t){if(void 0===t&&(t=""+this.numChildren),this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new Um.Map_(new Im.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1},t.prototype._flushPending=function(e){var t=this,n=this._offsets,l=this._setValue;e.forEach((function(e,i){void 0===e?n.set(i,0):(n.set(i,e.size),l(t,i,e))}))},t}(eo.VariableWidthBuilder);gm.MapBuilder=Km;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.StructBuilder=void 0;var km=Ju.exports,Bm=sm,Tm=ho,Fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km.__extends(t,e),t.prototype.addChild=function(e,t){void 0===t&&(t=""+this.numChildren);var n=this.children.push(e);return this.type=new Tm.Struct(km.__spread(this.type.children,[new Bm.Field(t,e.type,!0)])),n},t}(eo.Builder);Nm.StructBuilder=Fm;var _m={};Object.defineProperty(_m,"__esModule",{value:!0}),_m.DenseUnionBuilder=_m.SparseUnionBuilder=_m.UnionBuilder=void 0;var wm=Ju.exports,Cm=sm,jm=pd,zm=ho,Mm=function(e){function t(t){var n=e.call(this,t)||this;return n._typeIds=new jm.DataBufferBuilder(new Int8Array(0),1),"function"==typeof t.valueToChildTypeId&&(n._valueToChildTypeId=t.valueToChildTypeId),n}return wm.__extends(t,e),Object.defineProperty(t.prototype,"typeIdToChildIndex",{get:function(){return this.type.typeIdToChildIndex},enumerable:!1,configurable:!0}),t.prototype.append=function(e,t){return this.set(this.length,e,t)},t.prototype.set=function(e,t,n){return void 0===n&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this},t.prototype.setValue=function(t,n,l){this._typeIds.set(t,l),e.prototype.setValue.call(this,t,n)},t.prototype.addChild=function(e,t){void 0===t&&(t=""+this.children.length);var n=this.children.push(e),l=this.type,i=l.children,r=l.mode,c=l.typeIds,a=wm.__spread(i,[new Cm.Field(t,e.type)]);return this.type=new zm.Union(r,wm.__spread(c,[n]),a),n},t.prototype._valueToChildTypeId=function(e,t,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")},t}(eo.Builder);_m.UnionBuilder=Mm;var Qm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wm.__extends(t,e),t}(Mm);_m.SparseUnionBuilder=Qm;var Pm=function(e){function t(t){var n=e.call(this,t)||this;return n._offsets=new jm.DataBufferBuilder(new Int32Array(0)),n}return wm.__extends(t,e),t.prototype.setValue=function(t,n,l){var i=this.type.typeIdToChildIndex[l];return this._offsets.set(t,this.getChildAt(i).length),e.prototype.setValue.call(this,t,n,l)},t}(Mm);_m.DenseUnionBuilder=Pm;var Em={},Om={};Object.defineProperty(Om,"__esModule",{value:!0}),Om.Visitor=void 0;var Dm=Ju.exports,Am=co,qm=to,$m=lo,eb=ho,tb=function(){function e(){}return e.prototype.visitMany=function(e){for(var t=this,n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];return e.map((function(e,l){return t.visit.apply(t,Dm.__spread([e],n.map((function(e){return e[l]}))))}))},e.prototype.visit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.getVisitFn(e[0],!1).apply(this,e)},e.prototype.getVisitFn=function(e,t){return void 0===t&&(t=!0),function(e,t,n){void 0===n&&(n=!0);var l=null,i=$m.Type.NONE;t instanceof Am.Data||t instanceof qm.Vector?i=nb(t.type):t instanceof eb.DataType?i=nb(t):"number"!=typeof(i=t)&&(i=$m.Type[t]);switch(i){case $m.Type.Null:l=e.visitNull;break;case $m.Type.Bool:l=e.visitBool;break;case $m.Type.Int:l=e.visitInt;break;case $m.Type.Int8:l=e.visitInt8||e.visitInt;break;case $m.Type.Int16:l=e.visitInt16||e.visitInt;break;case $m.Type.Int32:l=e.visitInt32||e.visitInt;break;case $m.Type.Int64:l=e.visitInt64||e.visitInt;break;case $m.Type.Uint8:l=e.visitUint8||e.visitInt;break;case $m.Type.Uint16:l=e.visitUint16||e.visitInt;break;case $m.Type.Uint32:l=e.visitUint32||e.visitInt;break;case $m.Type.Uint64:l=e.visitUint64||e.visitInt;break;case $m.Type.Float:l=e.visitFloat;break;case $m.Type.Float16:l=e.visitFloat16||e.visitFloat;break;case $m.Type.Float32:l=e.visitFloat32||e.visitFloat;break;case $m.Type.Float64:l=e.visitFloat64||e.visitFloat;break;case $m.Type.Utf8:l=e.visitUtf8;break;case $m.Type.Binary:l=e.visitBinary;break;case $m.Type.FixedSizeBinary:l=e.visitFixedSizeBinary;break;case $m.Type.Date:l=e.visitDate;break;case $m.Type.DateDay:l=e.visitDateDay||e.visitDate;break;case $m.Type.DateMillisecond:l=e.visitDateMillisecond||e.visitDate;break;case $m.Type.Timestamp:l=e.visitTimestamp;break;case $m.Type.TimestampSecond:l=e.visitTimestampSecond||e.visitTimestamp;break;case $m.Type.TimestampMillisecond:l=e.visitTimestampMillisecond||e.visitTimestamp;break;case $m.Type.TimestampMicrosecond:l=e.visitTimestampMicrosecond||e.visitTimestamp;break;case $m.Type.TimestampNanosecond:l=e.visitTimestampNanosecond||e.visitTimestamp;break;case $m.Type.Time:l=e.visitTime;break;case $m.Type.TimeSecond:l=e.visitTimeSecond||e.visitTime;break;case $m.Type.TimeMillisecond:l=e.visitTimeMillisecond||e.visitTime;break;case $m.Type.TimeMicrosecond:l=e.visitTimeMicrosecond||e.visitTime;break;case $m.Type.TimeNanosecond:l=e.visitTimeNanosecond||e.visitTime;break;case $m.Type.Decimal:l=e.visitDecimal;break;case $m.Type.List:l=e.visitList;break;case $m.Type.Struct:l=e.visitStruct;break;case $m.Type.Union:l=e.visitUnion;break;case $m.Type.DenseUnion:l=e.visitDenseUnion||e.visitUnion;break;case $m.Type.SparseUnion:l=e.visitSparseUnion||e.visitUnion;break;case $m.Type.Dictionary:l=e.visitDictionary;break;case $m.Type.Interval:l=e.visitInterval;break;case $m.Type.IntervalDayTime:l=e.visitIntervalDayTime||e.visitInterval;break;case $m.Type.IntervalYearMonth:l=e.visitIntervalYearMonth||e.visitInterval;break;case $m.Type.FixedSizeList:l=e.visitFixedSizeList;break;case $m.Type.Map:l=e.visitMap}if("function"==typeof l)return l;if(!n)return function(){return null};throw new Error("Unrecognized type '"+$m.Type[i]+"'")}(this,e,t)},e.prototype.visitNull=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitBool=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitInt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFloat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitUtf8=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitBinary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFixedSizeBinary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDate=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitTimestamp=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitTime=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDecimal=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitList=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitStruct=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitUnion=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDictionary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitInterval=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFixedSizeList=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitMap=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e}();function nb(e){switch(e.typeId){case $m.Type.Null:return $m.Type.Null;case $m.Type.Int:var t=e,n=t.bitWidth,l=t.isSigned;switch(n){case 8:return l?$m.Type.Int8:$m.Type.Uint8;case 16:return l?$m.Type.Int16:$m.Type.Uint16;case 32:return l?$m.Type.Int32:$m.Type.Uint32;case 64:return l?$m.Type.Int64:$m.Type.Uint64}return $m.Type.Int;case $m.Type.Float:switch(e.precision){case $m.Precision.HALF:return $m.Type.Float16;case $m.Precision.SINGLE:return $m.Type.Float32;case $m.Precision.DOUBLE:return $m.Type.Float64}return $m.Type.Float;case $m.Type.Binary:return $m.Type.Binary;case $m.Type.Utf8:return $m.Type.Utf8;case $m.Type.Bool:return $m.Type.Bool;case $m.Type.Decimal:return $m.Type.Decimal;case $m.Type.Time:switch(e.unit){case $m.TimeUnit.SECOND:return $m.Type.TimeSecond;case $m.TimeUnit.MILLISECOND:return $m.Type.TimeMillisecond;case $m.TimeUnit.MICROSECOND:return $m.Type.TimeMicrosecond;case $m.TimeUnit.NANOSECOND:return $m.Type.TimeNanosecond}return $m.Type.Time;case $m.Type.Timestamp:switch(e.unit){case $m.TimeUnit.SECOND:return $m.Type.TimestampSecond;case $m.TimeUnit.MILLISECOND:return $m.Type.TimestampMillisecond;case $m.TimeUnit.MICROSECOND:return $m.Type.TimestampMicrosecond;case $m.TimeUnit.NANOSECOND:return $m.Type.TimestampNanosecond}return $m.Type.Timestamp;case $m.Type.Date:switch(e.unit){case $m.DateUnit.DAY:return $m.Type.DateDay;case $m.DateUnit.MILLISECOND:return $m.Type.DateMillisecond}return $m.Type.Date;case $m.Type.Interval:switch(e.unit){case $m.IntervalUnit.DAY_TIME:return $m.Type.IntervalDayTime;case $m.IntervalUnit.YEAR_MONTH:return $m.Type.IntervalYearMonth}return $m.Type.Interval;case $m.Type.Map:return $m.Type.Map;case $m.Type.List:return $m.Type.List;case $m.Type.Struct:return $m.Type.Struct;case $m.Type.Union:switch(e.mode){case $m.UnionMode.Dense:return $m.Type.DenseUnion;case $m.UnionMode.Sparse:return $m.Type.SparseUnion}return $m.Type.Union;case $m.Type.FixedSizeBinary:return $m.Type.FixedSizeBinary;case $m.Type.FixedSizeList:return $m.Type.FixedSizeList;case $m.Type.Dictionary:return $m.Type.Dictionary}throw new Error("Unrecognized type '"+$m.Type[e.typeId]+"'")}Om.Visitor=tb,tb.prototype.visitInt8=null,tb.prototype.visitInt16=null,tb.prototype.visitInt32=null,tb.prototype.visitInt64=null,tb.prototype.visitUint8=null,tb.prototype.visitUint16=null,tb.prototype.visitUint32=null,tb.prototype.visitUint64=null,tb.prototype.visitFloat16=null,tb.prototype.visitFloat32=null,tb.prototype.visitFloat64=null,tb.prototype.visitDateDay=null,tb.prototype.visitDateMillisecond=null,tb.prototype.visitTimestampSecond=null,tb.prototype.visitTimestampMillisecond=null,tb.prototype.visitTimestampMicrosecond=null,tb.prototype.visitTimestampNanosecond=null,tb.prototype.visitTimeSecond=null,tb.prototype.visitTimeMillisecond=null,tb.prototype.visitTimeMicrosecond=null,tb.prototype.visitTimeNanosecond=null,tb.prototype.visitDenseUnion=null,tb.prototype.visitSparseUnion=null,tb.prototype.visitIntervalDayTime=null,tb.prototype.visitIntervalYearMonth=null,Object.defineProperty(Em,"__esModule",{value:!0}),Em.instance=Em.SetVisitor=void 0;var lb=Ju.exports,ib=to,rb=Iu,cb=rs,ab=xu,ub=lo,ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lb.__extends(t,e),t}(Om.Visitor);Em.SetVisitor=ob;var db=function(e,t,n){e[t]=n%4294967296|0,e[t+1]=n/4294967296|0},sb=function(e,t,n,l){var i=t,r=i[n],c=i[n+1];null!=r&&null!=c&&e.set(l.subarray(0,c-r),r)},mb=function(e,t,n){!function(e,t,n){e[t]=n/864e5|0}(e.values,t,n.valueOf())},bb=function(e,t,n){var l=e.values;db(l,2*t,n.valueOf())},Zb=function(e,t,n){var l=e.stride;e.values[l*t]=n},pb=function(e,t,n){var l=e.stride;e.values[l*t]=cb.float64ToUint16(n)},hb=function(e,t,n){switch(typeof n){case"bigint":e.values64[t]=n;break;case"number":e.values[t*e.stride]=n;break;default:var l=n,i=e.stride,r=e.ArrayType,c=ab.toArrayBufferView(r,l);e.values.set(c.subarray(0,i),i*t)}},yb=function(e,t,n){var l=e.values;return db(l,2*t,n/1e3)},fb=function(e,t,n){var l=e.values;return db(l,2*t,n)},Xb=function(e,t,n){return function(e,t,n){e[t]=1e3*n%4294967296|0,e[t+1]=1e3*n/4294967296|0}(e.values,2*t,n)},Vb=function(e,t,n){return function(e,t,n){e[t]=1e6*n%4294967296|0,e[t+1]=1e6*n/4294967296|0}(e.values,2*t,n)},Wb=function(e,t,n){e.values[e.stride*t]=n},Gb=function(e,t,n){e.values[e.stride*t]=n},Rb=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},Sb=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},vb=function(e,t,n){var l=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(l);i&&i.set(e.valueOffsets[t],n)},Lb=function(e,t,n){var l=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(l);i&&i.set(t,n)},Yb=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},Jb=function(e,t,n){e.values[t]=12*n[0]+n[1]%12};ob.prototype.visitBool=function(e,t,n){var l=e.offset,i=e.values,r=l+t;n?i[r>>3]|=1<<r%8:i[r>>3]&=~(1<<r%8)},ob.prototype.visitInt=function(e,t,n){e.type.bitWidth<64?Zb(e,t,n):hb(e,t,n)},ob.prototype.visitInt8=Zb,ob.prototype.visitInt16=Zb,ob.prototype.visitInt32=Zb,ob.prototype.visitInt64=hb,ob.prototype.visitUint8=Zb,ob.prototype.visitUint16=Zb,ob.prototype.visitUint32=Zb,ob.prototype.visitUint64=hb,ob.prototype.visitFloat=function(e,t,n){e.type.precision!==ub.Precision.HALF?Zb(e,t,n):pb(e,t,n)},ob.prototype.visitFloat16=pb,ob.prototype.visitFloat32=Zb,ob.prototype.visitFloat64=Zb,ob.prototype.visitUtf8=function(e,t,n){var l=e.values,i=e.valueOffsets;sb(l,i,t,rb.encodeUtf8(n))},ob.prototype.visitBinary=function(e,t,n){var l=e.values,i=e.valueOffsets;return sb(l,i,t,n)},ob.prototype.visitFixedSizeBinary=function(e,t,n){var l=e.stride;e.values.set(n.subarray(0,l),l*t)},ob.prototype.visitDate=function(e,t,n){e.type.unit===ub.DateUnit.DAY?mb(e,t,n):bb(e,t,n)},ob.prototype.visitDateDay=mb,ob.prototype.visitDateMillisecond=bb,ob.prototype.visitTimestamp=function(e,t,n){switch(e.type.unit){case ub.TimeUnit.SECOND:return yb(e,t,n);case ub.TimeUnit.MILLISECOND:return fb(e,t,n);case ub.TimeUnit.MICROSECOND:return Xb(e,t,n);case ub.TimeUnit.NANOSECOND:return Vb(e,t,n)}},ob.prototype.visitTimestampSecond=yb,ob.prototype.visitTimestampMillisecond=fb,ob.prototype.visitTimestampMicrosecond=Xb,ob.prototype.visitTimestampNanosecond=Vb,ob.prototype.visitTime=function(e,t,n){switch(e.type.unit){case ub.TimeUnit.SECOND:return Wb(e,t,n);case ub.TimeUnit.MILLISECOND:return Gb(e,t,n);case ub.TimeUnit.MICROSECOND:return Rb(e,t,n);case ub.TimeUnit.NANOSECOND:return Sb(e,t,n)}},ob.prototype.visitTimeSecond=Wb,ob.prototype.visitTimeMillisecond=Gb,ob.prototype.visitTimeMicrosecond=Rb,ob.prototype.visitTimeNanosecond=Sb,ob.prototype.visitDecimal=function(e,t,n){e.values.set(n.subarray(0,4),4*t)},ob.prototype.visitList=function(e,t,n){for(var l=e.getChildAt(0),i=e.valueOffsets,r=-1,c=i[t],a=i[t+1];c<a;)l.set(c++,n.get(++r))},ob.prototype.visitStruct=function(e,t,n){var l,i,r=n instanceof Map?(l=t,i=n,function(e,t,n){return null==e?void 0:e.set(l,i.get(t.name))}):n instanceof ib.Vector?function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t.get(i))}}(t,n):Array.isArray(n)?function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t[i])}}(t,n):function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t[l.name])}}(t,n);e.type.children.forEach((function(t,n){return r(e.getChildAt(n),t,n)}))},ob.prototype.visitUnion=function(e,t,n){e.type.mode===ub.UnionMode.Dense?vb(e,t,n):Lb(e,t,n)},ob.prototype.visitDenseUnion=vb,ob.prototype.visitSparseUnion=Lb,ob.prototype.visitDictionary=function(e,t,n){var l=e.getKey(t);null!==l&&e.setValue(l,n)},ob.prototype.visitInterval=function(e,t,n){e.type.unit===ub.IntervalUnit.DAY_TIME?Yb(e,t,n):Jb(e,t,n)},ob.prototype.visitIntervalDayTime=Yb,ob.prototype.visitIntervalYearMonth=Jb,ob.prototype.visitFixedSizeList=function(e,t,n){for(var l=e.getChildAt(0),i=e.stride,r=-1,c=t*i;++r<i;)l.set(c+r,n.get(r))},ob.prototype.visitMap=function(e,t,n){for(var l=e.getChildAt(0),i=e.valueOffsets,r=n instanceof Map?lb.__spread(n):Object.entries(n),c=-1,a=i[t],u=i[t+1];a<u;)l.set(a++,r[++c])},Em.instance=new ob;var xb={};Object.defineProperty(xb,"__esModule",{value:!0}),xb.instance=xb.GetBuilderCtor=void 0;var gb=Ju.exports,Hb=As,Ib=Nd,Ub=Cd,Kb=Pd,Nb=Dd,kb=ts,Bb=Sm,Tb=is,Fb=Ms,_b=Zs,wb=am,Cb=gm,jb=Fd,zb=Nm,Mb=Ts,Qb=Hs,Pb=_m,Eb=Ds,Ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gb.__extends(t,e),t.prototype.visitNull=function(){return jb.NullBuilder},t.prototype.visitBool=function(){return Ib.BoolBuilder},t.prototype.visitInt=function(){return _b.IntBuilder},t.prototype.visitInt8=function(){return _b.Int8Builder},t.prototype.visitInt16=function(){return _b.Int16Builder},t.prototype.visitInt32=function(){return _b.Int32Builder},t.prototype.visitInt64=function(){return _b.Int64Builder},t.prototype.visitUint8=function(){return _b.Uint8Builder},t.prototype.visitUint16=function(){return _b.Uint16Builder},t.prototype.visitUint32=function(){return _b.Uint32Builder},t.prototype.visitUint64=function(){return _b.Uint64Builder},t.prototype.visitFloat=function(){return Tb.FloatBuilder},t.prototype.visitFloat16=function(){return Tb.Float16Builder},t.prototype.visitFloat32=function(){return Tb.Float32Builder},t.prototype.visitFloat64=function(){return Tb.Float64Builder},t.prototype.visitUtf8=function(){return Eb.Utf8Builder},t.prototype.visitBinary=function(){return Hb.BinaryBuilder},t.prototype.visitFixedSizeBinary=function(){return kb.FixedSizeBinaryBuilder},t.prototype.visitDate=function(){return Ub.DateBuilder},t.prototype.visitDateDay=function(){return Ub.DateDayBuilder},t.prototype.visitDateMillisecond=function(){return Ub.DateMillisecondBuilder},t.prototype.visitTimestamp=function(){return Mb.TimestampBuilder},t.prototype.visitTimestampSecond=function(){return Mb.TimestampSecondBuilder},t.prototype.visitTimestampMillisecond=function(){return Mb.TimestampMillisecondBuilder},t.prototype.visitTimestampMicrosecond=function(){return Mb.TimestampMicrosecondBuilder},t.prototype.visitTimestampNanosecond=function(){return Mb.TimestampNanosecondBuilder},t.prototype.visitTime=function(){return Qb.TimeBuilder},t.prototype.visitTimeSecond=function(){return Qb.TimeSecondBuilder},t.prototype.visitTimeMillisecond=function(){return Qb.TimeMillisecondBuilder},t.prototype.visitTimeMicrosecond=function(){return Qb.TimeMicrosecondBuilder},t.prototype.visitTimeNanosecond=function(){return Qb.TimeNanosecondBuilder},t.prototype.visitDecimal=function(){return Kb.DecimalBuilder},t.prototype.visitList=function(){return wb.ListBuilder},t.prototype.visitStruct=function(){return zb.StructBuilder},t.prototype.visitUnion=function(){return Pb.UnionBuilder},t.prototype.visitDenseUnion=function(){return Pb.DenseUnionBuilder},t.prototype.visitSparseUnion=function(){return Pb.SparseUnionBuilder},t.prototype.visitDictionary=function(){return Nb.DictionaryBuilder},t.prototype.visitInterval=function(){return Fb.IntervalBuilder},t.prototype.visitIntervalDayTime=function(){return Fb.IntervalDayTimeBuilder},t.prototype.visitIntervalYearMonth=function(){return Fb.IntervalYearMonthBuilder},t.prototype.visitFixedSizeList=function(){return Bb.FixedSizeListBuilder},t.prototype.visitMap=function(){return Cb.MapBuilder},t}(Om.Visitor);xb.GetBuilderCtor=Ob,xb.instance=new Ob,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=e.StructBuilder=e.MapBuilder=e.FixedSizeListBuilder=e.ListBuilder=e.BinaryBuilder=e.Utf8Builder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.NullBuilder=e.BoolBuilder=e.Builder=void 0;var t=Ju.exports,n=eo;Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return n.Builder}});var l=Nd;Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return l.BoolBuilder}});var i=Fd;Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return i.NullBuilder}});var r=Cd;Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return r.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return r.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return r.DateMillisecondBuilder}});var c=Pd;Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return c.DecimalBuilder}});var a=Dd;Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return a.DictionaryBuilder}});var u=ts;Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return u.FixedSizeBinaryBuilder}});var o=is;Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return o.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return o.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return o.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return o.Float64Builder}});var d=Zs;Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return d.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return d.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return d.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return d.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return d.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return d.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return d.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return d.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return d.Uint64Builder}});var s=Hs;Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return s.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return s.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return s.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return s.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return s.TimeNanosecondBuilder}});var m=Ts;Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return m.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return m.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return m.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return m.TimestampNanosecondBuilder}});var b=Ms;Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return b.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return b.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return b.IntervalYearMonthBuilder}});var Z=Ds;Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return Z.Utf8Builder}});var p=As;Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return p.BinaryBuilder}});var h=am;Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return h.ListBuilder}});var y=Sm;Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return y.FixedSizeListBuilder}});var f=gm;Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return f.MapBuilder}});var X=Nm;Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return X.StructBuilder}});var V=_m;Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return V.UnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return V.SparseUnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return V.DenseUnionBuilder}});var W=lo,G=Ds,R=Em,S=xb;eo.Builder.new=function e(n){var l=n.type,i=new(S.instance.getVisitFn(l)())(n);if(l.children&&l.children.length>0){var r=n.children||[],c={nullValues:n.nullValues},a=Array.isArray(r)?function(e,t){return r[t]||c}:function(e){var t=e.name;return r[t]||c};l.children.forEach((function(n,l){var r=n.type,c=a(n,l);i.children.push(e(t.__assign(t.__assign({},c),{type:r})))}))}return i},Object.keys(W.Type).map((function(e){return W.Type[e]})).filter((function(e){return"number"==typeof e&&e!==W.Type.NONE})).forEach((function(e){S.instance.visit(e).prototype._setValue=R.instance.getVisitFn(e)})),G.Utf8Builder.prototype._setValue=R.instance.visitBinary}($u);var Db={},Ab={},qb={};Object.defineProperty(qb,"__esModule",{value:!0}),qb.Block=qb.Footer=void 0;var $b=Hu,eZ=io,tZ=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFooter=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFooter=function(t,n){return t.setPosition(t.position()+$b.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eZ.MetadataVersion.V1},e.prototype.schema=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new eZ.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.dictionaries=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new nZ).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null},e.prototype.dictionariesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.recordBatches=function(e,t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new nZ).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null},e.prototype.recordBatchesLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new eZ.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startFooter=function(e){e.startObject(5)},e.addVersion=function(e,t){e.addFieldInt16(0,t,eZ.MetadataVersion.V1)},e.addSchema=function(e,t){e.addFieldOffset(1,t,0)},e.addDictionaries=function(e,t){e.addFieldOffset(2,t,0)},e.startDictionariesVector=function(e,t){e.startVector(24,t,8)},e.addRecordBatches=function(e,t){e.addFieldOffset(3,t,0)},e.startRecordBatchesVector=function(e,t){e.startVector(24,t,8)},e.addCustomMetadata=function(e,t){e.addFieldOffset(4,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endFooter=function(e){return e.endObject()},e.finishFooterBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedFooterBuffer=function(e,t){e.finish(t,void 0,!0)},e.createFooter=function(t,n,l,i,r,c){return e.startFooter(t),e.addVersion(t,n),e.addSchema(t,l),e.addDictionaries(t,i),e.addRecordBatches(t,r),e.addCustomMetadata(t,c),e.endFooter(t)},e}();qb.Footer=tZ;var nZ=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.offset=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.metaDataLength=function(){return this.bb.readInt32(this.bb_pos+8)},e.prototype.bodyLength=function(){return this.bb.readInt64(this.bb_pos+16)},e.createBlock=function(e,t,n,l){return e.prep(8,24),e.writeInt64(l),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()},e}();qb.Block=nZ,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.FileBlock=Ab.Footer=void 0;var lZ=Ju.exports,iZ=qb,rZ=Hu,cZ=rZ.flatbuffers.Long,aZ=rZ.flatbuffers.Builder,uZ=rZ.flatbuffers.ByteBuffer,oZ=sm,dZ=lo,sZ=xu,mZ=function(){function e(e,t,n,l){void 0===t&&(t=dZ.MetadataVersion.V4),this.schema=e,this.version=t,n&&(this._recordBatches=n),l&&(this._dictionaryBatches=l)}return e.decode=function(e){e=new uZ(sZ.toUint8Array(e));var t=iZ.Footer.getRootAsFooter(e),n=oZ.Schema.decode(t.schema());return new bZ(n,t)},e.encode=function(e){var t=new aZ,n=oZ.Schema.encode(t,e.schema);iZ.Footer.startRecordBatchesVector(t,e.numRecordBatches),lZ.__spread(e.recordBatches()).slice().reverse().forEach((function(e){return ZZ.encode(t,e)}));var l=t.endVector();iZ.Footer.startDictionariesVector(t,e.numDictionaries),lZ.__spread(e.dictionaryBatches()).slice().reverse().forEach((function(e){return ZZ.encode(t,e)}));var i=t.endVector();return iZ.Footer.startFooter(t),iZ.Footer.addSchema(t,n),iZ.Footer.addVersion(t,dZ.MetadataVersion.V4),iZ.Footer.addRecordBatches(t,l),iZ.Footer.addDictionaries(t,i),iZ.Footer.finishFooterBuffer(t,iZ.Footer.endFooter(t)),t.asUint8Array()},Object.defineProperty(e.prototype,"numRecordBatches",{get:function(){return this._recordBatches.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numDictionaries",{get:function(){return this._dictionaryBatches.length},enumerable:!1,configurable:!0}),e.prototype.recordBatches=function(){var e,t,n;return lZ.__generator(this,(function(l){switch(l.label){case 0:e=void 0,t=-1,n=this.numRecordBatches,l.label=1;case 1:return++t<n?(e=this.getRecordBatch(t))?[4,e]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return[3,1];case 4:return[2]}}))},e.prototype.dictionaryBatches=function(){var e,t,n;return lZ.__generator(this,(function(l){switch(l.label){case 0:e=void 0,t=-1,n=this.numDictionaries,l.label=1;case 1:return++t<n?(e=this.getDictionaryBatch(t))?[4,e]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return[3,1];case 4:return[2]}}))},e.prototype.getRecordBatch=function(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null},e.prototype.getDictionaryBatch=function(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null},e}();Ab.Footer=mZ;var bZ=function(e){function t(t,n){var l=e.call(this,t,n.version())||this;return l._footer=n,l}return lZ.__extends(t,e),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer.recordBatchesLength()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer.dictionariesLength()},enumerable:!1,configurable:!0}),t.prototype.getRecordBatch=function(e){if(e>=0&&e<this.numRecordBatches){var t=this._footer.recordBatches(e);if(t)return ZZ.decode(t)}return null},t.prototype.getDictionaryBatch=function(e){if(e>=0&&e<this.numDictionaries){var t=this._footer.dictionaries(e);if(t)return ZZ.decode(t)}return null},t}(mZ),ZZ=function(){function e(e,t,n){this.metaDataLength=e,this.offset="number"==typeof n?n:n.low,this.bodyLength="number"==typeof t?t:t.low}return e.decode=function(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())},e.encode=function(e,t){var n=t.metaDataLength,l=new cZ(t.offset,0),i=new cZ(t.bodyLength,0);return iZ.Block.createBlock(e,l,n,i)},e}();Ab.FileBlock=ZZ;var pZ={};Object.defineProperty(pZ,"__esModule",{value:!0}),pZ.AsyncByteStream=pZ.ByteStream=pZ.AsyncByteQueue=void 0;var hZ=Ju.exports,yZ=Yu,fZ=Iu,XZ=ku,VZ=xu,WZ=Nu,GZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hZ.__extends(t,e),t.prototype.write=function(t){if((t=VZ.toUint8Array(t)).byteLength>0)return e.prototype.write.call(this,t)},t.prototype.toString=function(e){return void 0===e&&(e=!1),e?fZ.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(fZ.decodeUtf8)},t.prototype.toUint8Array=function(e){var t=this;return void 0===e&&(e=!1),e?VZ.joinUint8Arrays(this._values)[0]:hZ.__awaiter(t,void 0,void 0,(function(){var e,t,n,l,i,r,c,a;return hZ.__generator(this,(function(u){switch(u.label){case 0:e=[],t=0,u.label=1;case 1:u.trys.push([1,6,7,12]),n=hZ.__asyncValues(this),u.label=2;case 2:return[4,n.next()];case 3:if((l=u.sent()).done)return[3,5];i=l.value,e.push(i),t+=i.byteLength,u.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return r=u.sent(),c={error:r},[3,12];case 7:return u.trys.push([7,,10,11]),l&&!l.done&&(a=n.return)?[4,a.call(n)]:[3,9];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(c)throw c.error;return[7];case 11:return[7];case 12:return[2,VZ.joinUint8Arrays(e,t)[0]]}}))}))},t}(XZ.AsyncQueue);pZ.AsyncByteQueue=GZ;var RZ=function(){function e(e){e&&(this.source=new vZ(yZ.default.fromIterable(e)))}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(e){return this.source.next(e)},e.prototype.throw=function(e){return this.source.throw(e)},e.prototype.return=function(e){return this.source.return(e)},e.prototype.peek=function(e){return this.source.peek(e)},e.prototype.read=function(e){return this.source.read(e)},e}();pZ.ByteStream=RZ;var SZ=function(){function e(t){t instanceof e?this.source=t.source:t instanceof GZ?this.source=new LZ(yZ.default.fromAsyncIterable(t)):WZ.isReadableNodeStream(t)?this.source=new LZ(yZ.default.fromNodeStream(t)):WZ.isReadableDOMStream(t)?this.source=new LZ(yZ.default.fromDOMStream(t)):WZ.isFetchResponse(t)?this.source=new LZ(yZ.default.fromDOMStream(t.body)):WZ.isIterable(t)?this.source=new LZ(yZ.default.fromIterable(t)):(WZ.isPromise(t)||WZ.isAsyncIterable(t))&&(this.source=new LZ(yZ.default.fromAsyncIterable(t)))}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(e){return this.source.next(e)},e.prototype.throw=function(e){return this.source.throw(e)},e.prototype.return=function(e){return this.source.return(e)},Object.defineProperty(e.prototype,"closed",{get:function(){return this.source.closed},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return this.source.cancel(e)},e.prototype.peek=function(e){return this.source.peek(e)},e.prototype.read=function(e){return this.source.read(e)},e}();pZ.AsyncByteStream=SZ;var vZ=function(){function e(e){this.source=e}return e.prototype.cancel=function(e){this.return(e)},e.prototype.peek=function(e){return this.next(e,"peek").value},e.prototype.read=function(e){return this.next(e,"read").value},e.prototype.next=function(e,t){return void 0===t&&(t="read"),this.source.next({cmd:t,size:e})},e.prototype.throw=function(e){return Object.create(this.source.throw&&this.source.throw(e)||XZ.ITERATOR_DONE)},e.prototype.return=function(e){return Object.create(this.source.return&&this.source.return(e)||XZ.ITERATOR_DONE)},e}(),LZ=function(){function e(e){var t=this;this.source=e,this._closedPromise=new Promise((function(e){return t._closedPromiseResolve=e}))}return e.prototype.cancel=function(e){return hZ.__awaiter(this,void 0,void 0,(function(){return hZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.return(e)];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"closed",{get:function(){return this._closedPromise},enumerable:!1,configurable:!0}),e.prototype.read=function(e){return hZ.__awaiter(this,void 0,void 0,(function(){return hZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"read")];case 1:return[2,t.sent().value]}}))}))},e.prototype.peek=function(e){return hZ.__awaiter(this,void 0,void 0,(function(){return hZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"peek")];case 1:return[2,t.sent().value]}}))}))},e.prototype.next=function(e,t){return void 0===t&&(t="read"),hZ.__awaiter(this,void 0,void 0,(function(){return hZ.__generator(this,(function(n){switch(n.label){case 0:return[4,this.source.next({cmd:t,size:e})];case 1:return[2,n.sent()]}}))}))},e.prototype.throw=function(e){return hZ.__awaiter(this,void 0,void 0,(function(){var t,n;return hZ.__generator(this,(function(l){switch(l.label){case 0:return(n=this.source.throw)?[4,this.source.throw(e)]:[3,2];case 1:n=l.sent(),l.label=2;case 2:return t=n||XZ.ITERATOR_DONE,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,[2,Object.create(t)]}}))}))},e.prototype.return=function(e){return hZ.__awaiter(this,void 0,void 0,(function(){var t,n;return hZ.__generator(this,(function(l){switch(l.label){case 0:return(n=this.source.return)?[4,this.source.return(e)]:[3,2];case 1:n=l.sent(),l.label=2;case 2:return t=n||XZ.ITERATOR_DONE,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,[2,Object.create(t)]}}))}))},e}(),YZ={};Object.defineProperty(YZ,"__esModule",{value:!0}),YZ.AsyncRandomAccessFile=YZ.RandomAccessFile=void 0;var JZ=Ju.exports,xZ=pZ,gZ=xu,HZ=function(e){function t(t,n){var l=e.call(this)||this;return l.position=0,l.buffer=gZ.toUint8Array(t),l.size=void 0===n?l.buffer.byteLength:n,l}return JZ.__extends(t,e),t.prototype.readInt32=function(e){var t=this.readAt(e,4),n=t.buffer,l=t.byteOffset;return new DataView(n,l).getInt32(0,!0)},t.prototype.seek=function(e){return this.position=Math.min(e,this.size),e<this.size},t.prototype.read=function(e){var t=this,n=t.buffer,l=t.size,i=t.position;return n&&i<l?("number"!=typeof e&&(e=1/0),this.position=Math.min(l,i+Math.min(l-i,e)),n.subarray(i,this.position)):null},t.prototype.readAt=function(e,t){var n=this.buffer,l=Math.min(this.size,e+t);return n?n.subarray(e,l):new Uint8Array(t)},t.prototype.close=function(){this.buffer&&(this.buffer=null)},t.prototype.throw=function(e){return this.close(),{done:!0,value:e}},t.prototype.return=function(e){return this.close(),{done:!0,value:e}},t}(xZ.ByteStream);YZ.RandomAccessFile=HZ;var IZ=function(e){function t(t,n){var l=e.call(this)||this;return l.position=0,l._handle=t,"number"==typeof n?l.size=n:l._pending=JZ.__awaiter(l,void 0,void 0,(function(){var e;return JZ.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,t.stat()];case 1:return e.size=n.sent().size,delete this._pending,[2]}}))})),l}return JZ.__extends(t,e),t.prototype.readInt32=function(e){return JZ.__awaiter(this,void 0,void 0,(function(){var t,n,l;return JZ.__generator(this,(function(i){switch(i.label){case 0:return[4,this.readAt(e,4)];case 1:return t=i.sent(),n=t.buffer,l=t.byteOffset,[2,new DataView(n,l).getInt32(0,!0)]}}))}))},t.prototype.seek=function(e){return JZ.__awaiter(this,void 0,void 0,(function(){return JZ.__generator(this,(function(t){switch(t.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.position=Math.min(e,this.size),[2,e<this.size]}}))}))},t.prototype.read=function(e){return JZ.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r,c,a,u,o;return JZ.__generator(this,(function(d){switch(d.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:d.sent(),d.label=2;case 2:if(n=(t=this)._handle,l=t.size,i=t.position,!(n&&i<l))return[3,6];"number"!=typeof e&&(e=1/0),r=i,c=0,a=0,u=Math.min(l,r+Math.min(l-r,e)),o=new Uint8Array(Math.max(0,(this.position=u)-r)),d.label=3;case 3:return(r+=a)<u&&(c+=a)<o.byteLength?[4,n.read(o,c,o.byteLength-c,r)]:[3,5];case 4:return a=d.sent().bytesRead,[3,3];case 5:return[2,o];case 6:return[2,null]}}))}))},t.prototype.readAt=function(e,t){return JZ.__awaiter(this,void 0,void 0,(function(){var n,l,i,r,c;return JZ.__generator(this,(function(a){switch(a.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:a.sent(),a.label=2;case 2:return l=(n=this)._handle,i=n.size,l&&e+t<i?(r=Math.min(i,e+t),c=new Uint8Array(r-e),[4,l.read(c,0,t,e)]):[3,4];case 3:return[2,a.sent().buffer];case 4:return[2,new Uint8Array(t)]}}))}))},t.prototype.close=function(){return JZ.__awaiter(this,void 0,void 0,(function(){var e;return JZ.__generator(this,(function(t){switch(t.label){case 0:return e=this._handle,this._handle=null,e?[4,e.close()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.throw=function(e){return JZ.__awaiter(this,void 0,void 0,(function(){return JZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,{done:!0,value:e}]}}))}))},t.prototype.return=function(e){return JZ.__awaiter(this,void 0,void 0,(function(){return JZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,{done:!0,value:e}]}}))}))},t}(xZ.AsyncByteStream);YZ.AsyncRandomAccessFile=IZ;var UZ={},KZ={};Object.defineProperty(KZ,"__esModule",{value:!0}),KZ.Int128=KZ.Int64=KZ.Uint64=KZ.BaseInt64=void 0;var NZ=Ju.exports;function kZ(e){return e<0&&(e=4294967295+e+1),"0x"+e.toString(16)}var BZ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],TZ=function(){function e(e){this.buffer=e}return e.prototype.high=function(){return this.buffer[1]},e.prototype.low=function(){return this.buffer[0]},e.prototype._times=function(e){var t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),l=t[3]*n[3];this.buffer[0]=65535&l;var i=l>>>16;return i+=l=t[2]*n[3],i+=l=t[3]*n[2]>>>0,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<l?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this},e.prototype._plus=function(e){var t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t},e.prototype.lessThan=function(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]},e.prototype.equals=function(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]},e.prototype.greaterThan=function(e){return e.lessThan(this)},e.prototype.hex=function(){return kZ(this.buffer[1])+" "+kZ(this.buffer[0])},e}();KZ.BaseInt64=TZ;var FZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return NZ.__extends(t,e),t.prototype.times=function(e){return this._times(e),this},t.prototype.plus=function(e){return this._plus(e),this},t.from=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString("string"==typeof e?e:e.toString(),n)},t.fromNumber=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString(e.toString(),n)},t.fromString=function(e,n){void 0===n&&(n=new Uint32Array(2));for(var l=e.length,i=new t(n),r=0;r<l;){var c=8<l-r?8:l-r,a=new t(new Uint32Array([parseInt(e.substr(r,c),10),0])),u=new t(new Uint32Array([BZ[c],0]));i.times(u),i.plus(a),r+=c}return i},t.convertArray=function(e){for(var n=new Uint32Array(2*e.length),l=-1,i=e.length;++l<i;)t.from(e[l],new Uint32Array(n.buffer,n.byteOffset+2*l*4,2));return n},t.multiply=function(e,n){return new t(new Uint32Array(e.buffer)).times(n)},t.add=function(e,n){return new t(new Uint32Array(e.buffer)).plus(n)},t}(TZ);KZ.Uint64=FZ;var _Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return NZ.__extends(t,e),t.prototype.negate=function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this},t.prototype.times=function(e){return this._times(e),this},t.prototype.plus=function(e){return this._plus(e),this},t.prototype.lessThan=function(e){var t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]},t.from=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString("string"==typeof e?e:e.toString(),n)},t.fromNumber=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString(e.toString(),n)},t.fromString=function(e,n){void 0===n&&(n=new Uint32Array(2));for(var l=e.startsWith("-"),i=e.length,r=new t(n),c=l?1:0;c<i;){var a=8<i-c?8:i-c,u=new t(new Uint32Array([parseInt(e.substr(c,a),10),0])),o=new t(new Uint32Array([BZ[a],0]));r.times(o),r.plus(u),c+=a}return l?r.negate():r},t.convertArray=function(e){for(var n=new Uint32Array(2*e.length),l=-1,i=e.length;++l<i;)t.from(e[l],new Uint32Array(n.buffer,n.byteOffset+2*l*4,2));return n},t.multiply=function(e,n){return new t(new Uint32Array(e.buffer)).times(n)},t.add=function(e,n){return new t(new Uint32Array(e.buffer)).plus(n)},t}(TZ);KZ.Int64=_Z;var wZ=function(){function e(e){this.buffer=e}return e.prototype.high=function(){return new _Z(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))},e.prototype.low=function(){return new _Z(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))},e.prototype.negate=function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this},e.prototype.times=function(e){var t=new FZ(new Uint32Array([this.buffer[3],0])),n=new FZ(new Uint32Array([this.buffer[2],0])),l=new FZ(new Uint32Array([this.buffer[1],0])),i=new FZ(new Uint32Array([this.buffer[0],0])),r=new FZ(new Uint32Array([e.buffer[3],0])),c=new FZ(new Uint32Array([e.buffer[2],0])),a=new FZ(new Uint32Array([e.buffer[1],0])),u=new FZ(new Uint32Array([e.buffer[0],0])),o=FZ.multiply(i,u);this.buffer[0]=o.low();var d=new FZ(new Uint32Array([o.high(),0]));return o=FZ.multiply(l,u),d.plus(o),o=FZ.multiply(i,a),d.plus(o),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(o)?1:0,this.buffer[2]=d.high(),new FZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(FZ.multiply(n,u)).plus(FZ.multiply(l,a)).plus(FZ.multiply(i,c)),this.buffer[3]+=FZ.multiply(t,u).plus(FZ.multiply(n,a)).plus(FZ.multiply(l,c)).plus(FZ.multiply(i,r)).low(),this},e.prototype.plus=function(e){var t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this},e.prototype.hex=function(){return kZ(this.buffer[3])+" "+kZ(this.buffer[2])+" "+kZ(this.buffer[1])+" "+kZ(this.buffer[0])},e.multiply=function(t,n){return new e(new Uint32Array(t.buffer)).times(n)},e.add=function(t,n){return new e(new Uint32Array(t.buffer)).plus(n)},e.from=function(t,n){return void 0===n&&(n=new Uint32Array(4)),e.fromString("string"==typeof t?t:t.toString(),n)},e.fromNumber=function(t,n){return void 0===n&&(n=new Uint32Array(4)),e.fromString(t.toString(),n)},e.fromString=function(t,n){void 0===n&&(n=new Uint32Array(4));for(var l=t.startsWith("-"),i=t.length,r=new e(n),c=l?1:0;c<i;){var a=8<i-c?8:i-c,u=new e(new Uint32Array([parseInt(t.substr(c,a),10),0,0,0])),o=new e(new Uint32Array([BZ[a],0,0,0]));r.times(o),r.plus(u),c+=a}return l?r.negate():r},e.convertArray=function(t){for(var n=new Uint32Array(4*t.length),l=-1,i=t.length;++l<i;)e.from(t[l],new Uint32Array(n.buffer,n.byteOffset+16*l,4));return n},e}();KZ.Int128=wZ,Object.defineProperty(UZ,"__esModule",{value:!0}),UZ.JSONVectorLoader=UZ.VectorLoader=void 0;var CZ=Ju.exports,jZ=co,zZ=sm,MZ=ho,QZ=ao,PZ=Iu,EZ=KZ,OZ=lo,DZ=xu,AZ=function(e){function t(t,n,l,i){var r=e.call(this)||this;return r.nodesIndex=-1,r.buffersIndex=-1,r.bytes=t,r.nodes=n,r.buffers=l,r.dictionaries=i,r}return CZ.__extends(t,e),t.prototype.visit=function(t){return e.prototype.visit.call(this,t instanceof zZ.Field?t.type:t)},t.prototype.visitNull=function(e,t){var n=(void 0===t?this.nextFieldNode():t).length;return jZ.Data.Null(e,0,n)},t.prototype.visitBool=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Bool(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitInt=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Int(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitFloat=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Float(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitUtf8=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Utf8(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))},t.prototype.visitBinary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Binary(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))},t.prototype.visitFixedSizeBinary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.FixedSizeBinary(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitDate=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Date(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitTimestamp=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Timestamp(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitTime=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Time(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitDecimal=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Decimal(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitList=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.List(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))},t.prototype.visitStruct=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Struct(e,0,l,i,this.readNullBitmap(e,i),this.visitMany(e.children))},t.prototype.visitUnion=function(e){return e.mode===OZ.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)},t.prototype.visitDenseUnion=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Union(e,0,l,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))},t.prototype.visitSparseUnion=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Union(e,0,l,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))},t.prototype.visitDictionary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Dictionary(e,0,l,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))},t.prototype.visitInterval=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Interval(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitFixedSizeList=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.FixedSizeList(e,0,l,i,this.readNullBitmap(e,i),this.visit(e.children[0]))},t.prototype.visitMap=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return jZ.Data.Map(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))},t.prototype.nextFieldNode=function(){return this.nodes[++this.nodesIndex]},t.prototype.nextBufferRange=function(){return this.buffers[++this.buffersIndex]},t.prototype.readNullBitmap=function(e,t,n){return void 0===n&&(n=this.nextBufferRange()),t>0&&this.readData(e,n)||new Uint8Array(0)},t.prototype.readOffsets=function(e,t){return this.readData(e,t)},t.prototype.readTypeIds=function(e,t){return this.readData(e,t)},t.prototype.readData=function(e,t){var n=void 0===t?this.nextBufferRange():t,l=n.length,i=n.offset;return this.bytes.subarray(i,i+l)},t.prototype.readDictionary=function(e){return this.dictionaries.get(e.id)},t}(Om.Visitor);UZ.VectorLoader=AZ;var qZ=function(e){function t(t,n,l,i){var r=e.call(this,new Uint8Array(0),n,l,i)||this;return r.sources=t,r}return CZ.__extends(t,e),t.prototype.readNullBitmap=function(e,t,n){var l=(void 0===n?this.nextBufferRange():n).offset;return t<=0?new Uint8Array(0):QZ.packBools(this.sources[l])},t.prototype.readOffsets=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset;return DZ.toArrayBufferView(Uint8Array,DZ.toArrayBufferView(Int32Array,this.sources[n]))},t.prototype.readTypeIds=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset;return DZ.toArrayBufferView(Uint8Array,DZ.toArrayBufferView(e.ArrayType,this.sources[n]))},t.prototype.readData=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset,l=this.sources;return MZ.DataType.isTimestamp(e)||(MZ.DataType.isInt(e)||MZ.DataType.isTime(e))&&64===e.bitWidth||MZ.DataType.isDate(e)&&e.unit===OZ.DateUnit.MILLISECOND?DZ.toArrayBufferView(Uint8Array,EZ.Int64.convertArray(l[n])):MZ.DataType.isDecimal(e)?DZ.toArrayBufferView(Uint8Array,EZ.Int128.convertArray(l[n])):MZ.DataType.isBinary(e)||MZ.DataType.isFixedSizeBinary(e)?function(e){for(var t=e.join(""),n=new Uint8Array(t.length/2),l=0;l<t.length;l+=2)n[l>>1]=parseInt(t.substr(l,2),16);return n}(l[n]):MZ.DataType.isBool(e)?QZ.packBools(l[n]):MZ.DataType.isUtf8(e)?PZ.encodeUtf8(l[n].join("")):DZ.toArrayBufferView(Uint8Array,DZ.toArrayBufferView(e.ArrayType,l[n].map((function(e){return+e}))))},t}(AZ);UZ.JSONVectorLoader=qZ;var $Z={},ep={},tp={},np={},lp={},ip={};Object.defineProperty(ip,"__esModule",{value:!0}),ip.StructRow=ip.MapRow=void 0;var rp=Ju.exports,cp=md,ap=Symbol.for("parent"),up=Symbol.for("rowIndex"),op=Symbol.for("keyToIdx"),dp=Symbol.for("idxToVal"),sp=Symbol.for("nodejs.util.inspect.custom"),mp=function(){function e(e,t){this[ap]=e,this.size=t}var t,n;return e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.get=function(e){var t=void 0;if(null!=e){var n=this[op]||(this[op]=new Map),l=n.get(e);if(void 0!==l)void 0!==(t=(i=this[dp]||(this[dp]=new Array(this.size)))[l])||(i[l]=t=this.getValue(l));else if((l=this.getIndex(e))>-1){var i;n.set(e,l),void 0!==(t=(i=this[dp]||(this[dp]=new Array(this.size)))[l])||(i[l]=t=this.getValue(l))}}return t},e.prototype.set=function(e,t){if(null!=e){var n=this[op]||(this[op]=new Map),l=n.get(e);if(void 0===l&&n.set(e,l=this.getIndex(e)),l>-1)(this[dp]||(this[dp]=new Array(this.size)))[l]=this.setValue(l,t)}return this},e.prototype.clear=function(){throw new Error("Clearing "+this[Symbol.toStringTag]+" not supported.")},e.prototype.delete=function(e){throw new Error("Deleting "+this[Symbol.toStringTag]+" values not supported.")},e.prototype[Symbol.iterator]=function(){var e,t,n,l,i,r,c,a,u;return rp.__generator(this,(function(o){switch(o.label){case 0:e=this.keys(),t=this.values(),n=this[op]||(this[op]=new Map),l=this[dp]||(this[dp]=new Array(this.size)),i=void 0,r=void 0,c=0,a=void 0,u=void 0,o.label=1;case 1:return(a=e.next()).done||(u=t.next()).done?[3,4]:(i=a.value,r=u.value,l[c]=r,n.has(i)||n.set(i,c),[4,[i,r]]);case 2:o.sent(),o.label=3;case 3:return++c,[3,1];case 4:return[2]}}))},e.prototype.forEach=function(e,t){for(var n=this.keys(),l=this.values(),i=void 0===t?e:function(n,l,i){return e.call(t,n,l,i)},r=this[op]||(this[op]=new Map),c=this[dp]||(this[dp]=new Array(this.size)),a=void 0,u=void 0,o=0,d=void 0,s=void 0;!(d=n.next()).done&&!(s=l.next()).done;++o)a=d.value,u=s.value,c[o]=u,r.has(a)||r.set(a,o),i(u,a,this)},e.prototype.toArray=function(){return rp.__spread(this.values())},e.prototype.toJSON=function(){var e={};return this.forEach((function(t,n){return e[n]=t})),e},e.prototype.inspect=function(){return this.toString()},e.prototype[sp]=function(){return this.toString()},e.prototype.toString=function(){var e=[];return this.forEach((function(t,n){n=cp.valueToString(n),t=cp.valueToString(t),e.push(n+": "+t)})),"{ "+e.join(", ")+" }"},e[Symbol.toStringTag]=(t=e.prototype,Object.defineProperties(t,((n={size:{writable:!0,enumerable:!1,configurable:!1,value:0}})[ap]={writable:!0,enumerable:!1,configurable:!1,value:null},n[up]={writable:!0,enumerable:!1,configurable:!1,value:-1},n)),t[Symbol.toStringTag]="Row"),e}(),bp=function(e){function t(t){var n=e.call(this,t,t.length)||this;return yp(n)}return rp.__extends(t,e),t.prototype.keys=function(){return this[ap].getChildAt(0)[Symbol.iterator]()},t.prototype.values=function(){return this[ap].getChildAt(1)[Symbol.iterator]()},t.prototype.getKey=function(e){return this[ap].getChildAt(0).get(e)},t.prototype.getIndex=function(e){return this[ap].getChildAt(0).indexOf(e)},t.prototype.getValue=function(e){return this[ap].getChildAt(1).get(e)},t.prototype.setValue=function(e,t){this[ap].getChildAt(1).set(e,t)},t}(mp);ip.MapRow=bp;var Zp=function(e){function t(t){var n=e.call(this,t,t.type.children.length)||this;return hp(n)}return rp.__extends(t,e),t.prototype.keys=function(){var e,t,n,l,i;return rp.__generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,7]),e=rp.__values(this[ap].type.children),t=e.next(),r.label=1;case 1:return t.done?[3,4]:[4,t.value.name];case 2:r.sent(),r.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=r.sent(),l={error:n},[3,7];case 6:try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))},t.prototype.values=function(){var e,t,n,l,i;return rp.__generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,7]),e=rp.__values(this[ap].type.children),t=e.next(),r.label=1;case 1:return t.done?[3,4]:[4,this[t.value.name]];case 2:r.sent(),r.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=r.sent(),l={error:n},[3,7];case 6:try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))},t.prototype.getKey=function(e){return this[ap].type.children[e].name},t.prototype.getIndex=function(e){return this[ap].type.children.findIndex((function(t){return t.name===e}))},t.prototype.getValue=function(e){return this[ap].getChildAt(e).get(this[up])},t.prototype.setValue=function(e,t){return this[ap].getChildAt(e).set(this[up],t)},t}(mp);ip.StructRow=Zp,Object.setPrototypeOf(mp.prototype,Map.prototype);var pp,hp=(pp={enumerable:!0,configurable:!1,get:null,set:null},function(e){var t,n,l=-1,i=e[op]||(e[op]=new Map),r=function(e){return function(){return this.get(e)}},c=function(e){return function(t){return this.set(e,t)}};try{for(var a=rp.__values(e.keys()),u=a.next();!u.done;u=a.next()){var o=u.value;i.set(o,++l),pp.get=r(o),pp.set=c(o),Object.prototype.hasOwnProperty.call(e,o)||(pp.enumerable=!0,Object.defineProperty(e,o,pp)),Object.prototype.hasOwnProperty.call(e,l)||(pp.enumerable=!1,Object.defineProperty(e,l,pp))}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return pp.get=pp.set=null,e}),yp=function(){if("undefined"==typeof Proxy)return hp;var e=mp.prototype.has,t=mp.prototype.get,n=mp.prototype.set,l=mp.prototype.getKey,i={isExtensible:function(){return!1},deleteProperty:function(){return!1},preventExtensions:function(){return!0},ownKeys:function(e){return rp.__spread(e.keys()).map((function(e){return""+e}))},has:function(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case ap:case up:case dp:case op:case sp:return!0}return"number"!=typeof t||e.has(t)||(t=e.getKey(t)),e.has(t)},get:function(n,i,r){switch(i){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case ap:case up:case dp:case op:case sp:return Reflect.get(n,i,r)}return"number"!=typeof i||e.call(r,i)||(i=l.call(r,i)),t.call(r,i)},set:function(t,i,r,c){switch(i){case ap:case up:case dp:case op:return Reflect.set(t,i,r,c);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!=typeof i||e.call(c,i)||(i=l.call(c,i)),!!e.call(c,i)&&!!n.call(c,i,r)}};return function(e){return new Proxy(e,i)}}();Object.defineProperty(lp,"__esModule",{value:!0}),lp.createElementComparator=lp.clampRange=lp.clampIndex=void 0;var fp,Xp=to,Vp=ip,Wp=xu,Gp=Nu;lp.clampIndex=function(e,t,n){var l=e.length,i=t>-1?t:l+t%l;return n?n(e,i):i},lp.clampRange=function(e,t,n,l){var i=e.length,r=void 0===i?0:i,c="number"!=typeof t?0:t,a="number"!=typeof n?r:n;return c<0&&(c=(c%r+r)%r),a<0&&(a=(a%r+r)%r),a<c&&(fp=c,c=a,a=fp),a>r&&(a=r),l?l(e,c,a):[c,a]};var Rp=Gp.BigIntAvailable?Gp.BigInt(0):0,Sp=function(e){return e!=e};function vp(e){var t,n,l=typeof e;if("object"!==l||null===e)return Sp(e)?Sp:"bigint"!==l?function(t){return t===e}:function(t){return Rp+t===e};if(e instanceof Date){var i=e.valueOf();return function(e){return e instanceof Date&&e.valueOf()===i}}return ArrayBuffer.isView(e)?function(t){return!!t&&Wp.compareArrayLike(e,t)}:e instanceof Map?(t=-1,n=[],e.forEach((function(e){return n[++t]=vp(e)})),Lp(n)):Array.isArray(e)?function(e){for(var t=[],n=-1,l=e.length;++n<l;)t[n]=vp(e[n]);return Lp(t)}(e):e instanceof Xp.Vector?function(e){for(var t=[],n=-1,l=e.length;++n<l;)t[n]=vp(e.get(n));return Lp(t)}(e):function(e){var t=Object.keys(e);if(0===t.length)return function(){return!1};for(var n=[],l=-1,i=t.length;++l<i;)n[l]=vp(e[t[l]]);return Lp(n,t)}(e)}function Lp(e,t){return function(n){if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:return function(e,t){var n=e.length;if(t.length!==n)return!1;for(var l=-1;++l<n;)if(!e[l](t[l]))return!1;return!0}(e,n);case Map:case Vp.MapRow:case Vp.StructRow:return Yp(e,n,n.keys());case Object:case void 0:return Yp(e,n,t||Object.keys(n))}return n instanceof Xp.Vector&&function(e,t){var n=e.length;if(t.length!==n)return!1;for(var l=-1;++l<n;)if(!e[l](t.get(l)))return!1;return!0}(e,n)}}function Yp(e,t,n){for(var l=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),r=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),c=0,a=e.length,u=r.next(),o=l.next(),d=i.next();c<a&&!o.done&&!d.done&&!u.done&&(o.value===d.value&&e[c](u.value));++c,o=l.next(),d=i.next(),u=r.next());return!!(c===a&&o.done&&d.done&&u.done)||(l.return&&l.return(),i.return&&i.return(),r.return&&r.return(),!1)}lp.createElementComparator=vp;var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.selectColumnChildrenArgs=Jp.selectVectorChildrenArgs=Jp.selectChunkArgs=Jp.selectFieldArgs=Jp.selectColumnArgs=Jp.selectArgs=Jp.arrayTypeToDataType=Jp.isTypedArray=void 0;var xp=Ju.exports,gp=co,Hp=sm,Ip=tp,Up=to,Kp=ho,Np=np,kp=Array.isArray;function Bp(e){return ArrayBuffer.isView(e)&&"BYTES_PER_ELEMENT"in e}function Tp(e){switch(e){case Int8Array:return Kp.Int8;case Int16Array:return Kp.Int16;case Int32Array:return Kp.Int32;case BigInt64Array:return Kp.Int64;case Uint8Array:return Kp.Uint8;case Uint16Array:return Kp.Uint16;case Uint32Array:return Kp.Uint32;case BigUint64Array:return Kp.Uint64;case Float32Array:return Kp.Float32;case Float64Array:return Kp.Float64;default:return null}}function Fp(e,t,n,l){for(var i,r=l,c=-1,a=t.length;++c<a;)kp(i=t[c])?r=Fp(e,i,n,r).length:i instanceof e&&(n[r++]=i);return n}function _p(e,t,n,l){for(var i,r=l,c=-1,a=t.length;++c<a;)kp(i=t[c])?r=_p(e,i,n,r).length:i instanceof Np.Chunked?r=_p(e,i.chunks,n,r).length:i instanceof e&&(n[r++]=i);return n}function wp(e,t,n,l){for(var i,r=l,c=-1,a=t.length;++c<a;)kp(i=t[c])?r=wp(e,i,n,r).length:i instanceof e?r=Fp(Up.Vector,i.schema.fields.map((function(e,t){return i.getChildAt(t)})),n,r).length:i instanceof Up.Vector&&(n[r++]=i);return n}function Cp(e,t,n,l){for(var i,r=l,c=-1,a=t.length;++c<a;)kp(i=t[c])?r=Cp(e,i,n,r).length:i instanceof e?r=Fp(Ip.Column,i.schema.fields.map((function(e,t){return Ip.Column.new(e,i.getChildAt(t))})),n,r).length:i instanceof Ip.Column&&(n[r++]=i);return n}Jp.isTypedArray=Bp,Jp.arrayTypeToDataType=Tp,Jp.selectArgs=function(e,t){return Fp(e,t,[],0)},Jp.selectColumnArgs=function(e){var t=xp.__read(zp(e,[[],[]]),2),n=t[0];return t[1].map((function(e,t){return e instanceof Ip.Column?Ip.Column.new(e.field.clone(n[t]),e):e instanceof Up.Vector?Ip.Column.new(n[t],e):Bp(e)?Ip.Column.new(n[t],function(e){var t=Tp(e.constructor);if(!t)throw new TypeError("Unrecognized Array input");var n=new t,l=gp.Data.new(n,0,e.length,0,[void 0,e]);return Up.Vector.new(l)}(e)):Ip.Column.new(n[t],[])}))},Jp.selectFieldArgs=function(e){return zp(e,[[],[]])},Jp.selectChunkArgs=function(e,t){return _p(e,t,[],0)},Jp.selectVectorChildrenArgs=function(e,t){return wp(e,t,[],0)},Jp.selectColumnChildrenArgs=function(e,t){return Cp(e,t,[],0)};var jp=function(e,t,n){var l=xp.__read(t,2),i=l[0],r=l[1];return e[0][n]=i,e[1][n]=r,e};function zp(e,t){var n,l,i,r;switch(r=e.length){case 0:return t;case 1:if(i=t[0],!e[0])return t;if(kp(e[0]))return zp(e[0],t);e[0]instanceof gp.Data||e[0]instanceof Up.Vector||Bp(e[0])||e[0]instanceof Kp.DataType||(i=(n=xp.__read(Object.entries(e[0]).reduce(jp,t),2))[0],e=n[1]);break;default:kp(i=e[r-1])?e=kp(e[0])?e[0]:e.slice(0,r-1):(e=kp(e[0])?e[0]:e,i=[])}for(var c,a,u=-1,o=-1,d=-1,s=e.length,m=xp.__read(t,2),b=m[0],Z=m[1];++d<s;)(a=e[d])instanceof Ip.Column&&(Z[++o]=a)?b[++u]=a.field.clone(i[d],a.type,!0):(c=void 0===(l=i[d])?d:l,a instanceof Kp.DataType&&(Z[++o]=a)?b[++u]=Hp.Field.new(c,a,!0):(null==a?void 0:a.type)&&(Z[++o]=a)&&(a instanceof gp.Data&&(Z[o]=a=Up.Vector.new(a)),b[++u]=Hp.Field.new(c,a.type,!0)));return t}Object.defineProperty(np,"__esModule",{value:!0}),np.Chunked=void 0;var Mp=Ju.exports,Qp=lp,Pp=ho,Ep=Jp,Op=to,Dp=function(){function e(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}return e.prototype.next=function(){for(;this.chunkIndex<this.chunks.length;){var e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}},e.prototype.getChunkIterator=function(){return this.chunks[this.chunkIndex][Symbol.iterator]()},e.prototype[Symbol.iterator]=function(){return this},e}(),Ap=function(e){function t(t,n,l){void 0===n&&(n=[]),void 0===l&&(l=function(e){for(var t=new Uint32Array((e||[]).length+1),n=t[0]=0,l=t.length,i=0;++i<l;)t[i]=n+=e[i-1].length;return t}(n));var i=e.call(this)||this;return i._nullCount=-1,i._type=t,i._chunks=n,i._chunkOffsets=l,i._length=l[l.length-1],i._numChildren=(i._type.children||[]).length,i}return Mp.__extends(t,e),t.flatten=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ep.selectChunkArgs(Op.Vector,e)},t.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=t.flatten.apply(t,Mp.__spread(e));return new t(l[0].type,l)},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chunks",{get:function(){return this._chunks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeId",{get:function(){return this._type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VectorName",{get:function(){return"Chunked<"+this._type+">"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._chunks[0]?this._chunks[0].data:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this._type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numChildren",{get:function(){return this._numChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stride",{get:function(){return this._chunks[0]?this._chunks[0].stride:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this._chunks.reduce((function(e,t){return e+t.byteLength}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){var e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((function(e,t){return e+t.nullCount}),0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indices",{get:function(){if(Pp.DataType.isDictionary(this._type)){if(!this._indices){var e=this._chunks;this._indices=1===e.length?e[0].indices:t.concat.apply(t,Mp.__spread(e.map((function(e){return e.indices}))))}return this._indices}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionary",{get:function(){return Pp.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null},enumerable:!1,configurable:!0}),t.prototype[Symbol.iterator]=function(){return new Dp(this._chunks)},t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._type,e)},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.clone(t.flatten.apply(t,Mp.__spread([this],e)))},t.prototype.slice=function(e,t){return Qp.clampRange(this,e,t,this._sliceInternal)},t.prototype.getChildAt=function(e){if(e<0||e>=this._numChildren)return null;var n,l,i,r=this._children||(this._children=[]);return(n=r[e])?n:(l=(this._type.children||[])[e])&&(i=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?r[e]=new t(l.type,i):null},t.prototype.search=function(e,t){var n=e,l=this._chunkOffsets,i=l.length-1;if(n<0)return null;if(n>=l[i])return null;if(i<=1)return t?t(this,0,n):[0,n];var r=0,c=0,a=0;do{if(r+1===i)return t?t(this,r,n-c):[r,n-c];n>=l[a=r+(i-r)/2|0]?r=a:i=a}while(n<l[i]&&n>=(c=l[r]));return null},t.prototype.isValid=function(e){return!!this.search(e,this.isValidInternal)},t.prototype.get=function(e){return this.search(e,this.getInternal)},t.prototype.set=function(e,t){this.search(e,(function(e,n,l){return e.chunks[n].set(l,t)}))},t.prototype.indexOf=function(e,t){var n=this;return t&&"number"==typeof t?this.search(t,(function(t,l,i){return n.indexOfInternal(t,l,i,e)})):this.indexOfInternal(this,0,Math.max(0,t||0),e)},t.prototype.toArray=function(){var e=this.chunks,t=e.length,n=this._type.ArrayType;if(t<=0)return new n(0);if(t<=1)return e[0].toArray();for(var l=0,i=new Array(t),r=-1;++r<t;)l+=(i[r]=e[r].toArray()).length;n!==i[0].constructor&&(n=i[0].constructor);for(var c=new n(l),a=n===Array?$p:qp,u=(r=-1,0);++r<t;)u=a(i[r],c,u);return c},t.prototype.getInternal=function(e,t,n){return e._chunks[t].get(n)},t.prototype.isValidInternal=function(e,t,n){return e._chunks[t].isValid(n)},t.prototype.indexOfInternal=function(e,t,n,l){for(var i=e._chunks,r=t-1,c=i.length,a=n,u=0,o=-1;++r<c;){if(~(o=i[r].indexOf(l,a)))return u+o;a=0,u+=i[r].length}return-1},t.prototype._sliceInternal=function(e,t,n){for(var l=[],i=e.chunks,r=e._chunkOffsets,c=-1,a=i.length;++c<a;){var u=i[c],o=u.length,d=r[c];if(d>=n)break;if(!(t>=d+o))if(d>=t&&d+o<=n)l.push(u);else{var s=Math.max(0,t-d),m=Math.min(n-d,o);l.push(u.slice(s,m))}}return e.clone(l)},t}(Op.AbstractVector);np.Chunked=Ap;var qp=function(e,t,n){return t.set(e,n),n+e.length},$p=function(e,t,n){for(var l=n,i=-1,r=e.length;++i<r;)t[l++]=e[i];return l};Object.defineProperty(tp,"__esModule",{value:!0}),tp.Column=void 0;var eh=Ju.exports,th=sm,nh=to,lh=np,ih=function(e){function t(t,n,l){void 0===n&&(n=[]);var i=this;return n=lh.Chunked.flatten.apply(lh.Chunked,eh.__spread(n)),(i=e.call(this,t.type,n,l)||this)._field=t,1!==n.length||i instanceof rh?i:new rh(t,n[0],i._chunkOffsets)}return eh.__extends(t,e),t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=eh.__read(e),i=l[0],r=l[1],c=l.slice(2);"string"==typeof i||i instanceof th.Field||(r=i,i="");var a=lh.Chunked.flatten(Array.isArray(r)?eh.__spread(r,c):r instanceof nh.Vector?eh.__spread([r],c):[nh.Vector.new.apply(nh.Vector,eh.__spread([r],c))]);if("string"==typeof i){var u=a[0].data.type;i=new th.Field(i,u,!0)}else!i.nullable&&a.some((function(e){return e.nullCount>0}))&&(i=i.clone({nullable:!0}));return new t(i,a)},Object.defineProperty(t.prototype,"field",{get:function(){return this._field},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._field.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullable",{get:function(){return this._field.nullable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._field.metadata},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._field,e)},t.prototype.getChildAt=function(e){if(e<0||e>=this.numChildren)return null;var n,l,i,r=this._children||(this._children=[]);return(n=r[e])?n:(l=(this.type.children||[])[e])&&(i=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?r[e]=new t(l,i):null},t}(lh.Chunked);tp.Column=ih;var rh=function(e){function t(t,n,l){var i=e.call(this,t,[n],l)||this;return i._chunk=n,i}return eh.__extends(t,e),t.prototype.search=function(e,t){return t?t(this,0,e):[0,e]},t.prototype.isValid=function(e){return this._chunk.isValid(e)},t.prototype.get=function(e){return this._chunk.get(e)},t.prototype.set=function(e,t){this._chunk.set(e,t)},t.prototype.indexOf=function(e,t){return this._chunk.indexOf(e,t)},t}(ih),ch={},ah={},uh={},oh={};Object.defineProperty(oh,"__esModule",{value:!0}),oh.instance=oh.TypeAssembler=void 0;var dh=Ju.exports,sh=Hu.flatbuffers.Long,mh=io,bh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dh.__extends(t,e),t.prototype.visit=function(t,n){return null==t||null==n?void 0:e.prototype.visit.call(this,t,n)},t.prototype.visitNull=function(e,t){return mh.Null.startNull(t),mh.Null.endNull(t)},t.prototype.visitInt=function(e,t){return mh.Int.startInt(t),mh.Int.addBitWidth(t,e.bitWidth),mh.Int.addIsSigned(t,e.isSigned),mh.Int.endInt(t)},t.prototype.visitFloat=function(e,t){return mh.FloatingPoint.startFloatingPoint(t),mh.FloatingPoint.addPrecision(t,e.precision),mh.FloatingPoint.endFloatingPoint(t)},t.prototype.visitBinary=function(e,t){return mh.Binary.startBinary(t),mh.Binary.endBinary(t)},t.prototype.visitBool=function(e,t){return mh.Bool.startBool(t),mh.Bool.endBool(t)},t.prototype.visitUtf8=function(e,t){return mh.Utf8.startUtf8(t),mh.Utf8.endUtf8(t)},t.prototype.visitDecimal=function(e,t){return mh.Decimal.startDecimal(t),mh.Decimal.addScale(t,e.scale),mh.Decimal.addPrecision(t,e.precision),mh.Decimal.endDecimal(t)},t.prototype.visitDate=function(e,t){return mh.Date.startDate(t),mh.Date.addUnit(t,e.unit),mh.Date.endDate(t)},t.prototype.visitTime=function(e,t){return mh.Time.startTime(t),mh.Time.addUnit(t,e.unit),mh.Time.addBitWidth(t,e.bitWidth),mh.Time.endTime(t)},t.prototype.visitTimestamp=function(e,t){var n=e.timezone&&t.createString(e.timezone)||void 0;return mh.Timestamp.startTimestamp(t),mh.Timestamp.addUnit(t,e.unit),void 0!==n&&mh.Timestamp.addTimezone(t,n),mh.Timestamp.endTimestamp(t)},t.prototype.visitInterval=function(e,t){return mh.Interval.startInterval(t),mh.Interval.addUnit(t,e.unit),mh.Interval.endInterval(t)},t.prototype.visitList=function(e,t){return mh.List.startList(t),mh.List.endList(t)},t.prototype.visitStruct=function(e,t){return mh.Struct_.startStruct_(t),mh.Struct_.endStruct_(t)},t.prototype.visitUnion=function(e,t){mh.Union.startTypeIdsVector(t,e.typeIds.length);var n=mh.Union.createTypeIdsVector(t,e.typeIds);return mh.Union.startUnion(t),mh.Union.addMode(t,e.mode),mh.Union.addTypeIds(t,n),mh.Union.endUnion(t)},t.prototype.visitDictionary=function(e,t){var n=this.visit(e.indices,t);return mh.DictionaryEncoding.startDictionaryEncoding(t),mh.DictionaryEncoding.addId(t,new sh(e.id,0)),mh.DictionaryEncoding.addIsOrdered(t,e.isOrdered),void 0!==n&&mh.DictionaryEncoding.addIndexType(t,n),mh.DictionaryEncoding.endDictionaryEncoding(t)},t.prototype.visitFixedSizeBinary=function(e,t){return mh.FixedSizeBinary.startFixedSizeBinary(t),mh.FixedSizeBinary.addByteWidth(t,e.byteWidth),mh.FixedSizeBinary.endFixedSizeBinary(t)},t.prototype.visitFixedSizeList=function(e,t){return mh.FixedSizeList.startFixedSizeList(t),mh.FixedSizeList.addListSize(t,e.listSize),mh.FixedSizeList.endFixedSizeList(t)},t.prototype.visitMap=function(e,t){return mh.Map.startMap(t),mh.Map.addKeysSorted(t,e.keysSorted),mh.Map.endMap(t)},t}(Om.Visitor);oh.TypeAssembler=bh,oh.instance=new bh;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.fieldFromJSON=Zh.dictionaryBatchFromJSON=Zh.recordBatchFromJSON=Zh.schemaFromJSON=void 0;var ph=Ju.exports,hh=sm,yh=ho,fh=uh,Xh=lo;function Vh(e){return new fh.RecordBatch(e.count,Gh(e.columns),Rh(e.columns))}function Wh(e,t){return(e.children||[]).filter(Boolean).map((function(e){return hh.Field.fromJSON(e,t)}))}function Gh(e){return(e||[]).reduce((function(e,t){return ph.__spread(e,[new fh.FieldNode(t.count,(n=t.VALIDITY,(n||[]).reduce((function(e,t){return e+ +(0===t)}),0)))],Gh(t.children));var n}),[])}function Rh(e,t){void 0===t&&(t=[]);for(var n=-1,l=(e||[]).length;++n<l;){var i=e[n];i.VALIDITY&&t.push(new fh.BufferRegion(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new fh.BufferRegion(t.length,i.TYPE.length)),i.OFFSET&&t.push(new fh.BufferRegion(t.length,i.OFFSET.length)),i.DATA&&t.push(new fh.BufferRegion(t.length,i.DATA.length)),t=Rh(i.children,t)}return t}function Sh(e){return new Map(Object.entries(e||{}))}function vh(e){return new yh.Int(e.isSigned,e.bitWidth)}function Lh(e,t){var n=e.type.name;switch(n){case"NONE":case"null":return new yh.Null;case"binary":return new yh.Binary;case"utf8":return new yh.Utf8;case"bool":return new yh.Bool;case"list":return new yh.List((t||[])[0]);case"struct":case"struct_":return new yh.Struct(t||[])}switch(n){case"int":var l=e.type;return new yh.Int(l.isSigned,l.bitWidth);case"floatingpoint":l=e.type;return new yh.Float(Xh.Precision[l.precision]);case"decimal":l=e.type;return new yh.Decimal(l.scale,l.precision);case"date":l=e.type;return new yh.Date_(Xh.DateUnit[l.unit]);case"time":l=e.type;return new yh.Time(Xh.TimeUnit[l.unit],l.bitWidth);case"timestamp":l=e.type;return new yh.Timestamp(Xh.TimeUnit[l.unit],l.timezone);case"interval":l=e.type;return new yh.Interval(Xh.IntervalUnit[l.unit]);case"union":l=e.type;return new yh.Union(Xh.UnionMode[l.mode],l.typeIds||[],t||[]);case"fixedsizebinary":l=e.type;return new yh.FixedSizeBinary(l.byteWidth);case"fixedsizelist":l=e.type;return new yh.FixedSizeList(l.listSize,(t||[])[0]);case"map":l=e.type;return new yh.Map_((t||[])[0],l.keysSorted)}throw new Error('Unrecognized type: "'+n+'"')}Zh.schemaFromJSON=function(e,t){return void 0===t&&(t=new Map),new hh.Schema(function(e,t){return(e.fields||[]).filter(Boolean).map((function(e){return hh.Field.fromJSON(e,t)}))}(e,t),Sh(e.customMetadata),t)},Zh.recordBatchFromJSON=Vh,Zh.dictionaryBatchFromJSON=function(e){return new fh.DictionaryBatch(Vh(e.data),e.id,e.isDelta)},Zh.fieldFromJSON=function(e,t){var n,l,i,r,c,a;return t&&(r=e.dictionary)?t.has(n=r.id)?(l=(l=r.indexType)?vh(l):new yh.Int32,a=new yh.Dictionary(t.get(n),l,n,r.isOrdered),i=new hh.Field(e.name,a,e.nullable,Sh(e.customMetadata))):(l=(l=r.indexType)?vh(l):new yh.Int32,t.set(n,c=Lh(e,Wh(e,t))),a=new yh.Dictionary(c,l,n,r.isOrdered),i=new hh.Field(e.name,a,e.nullable,Sh(e.customMetadata))):(c=Lh(e,Wh(e,t)),i=new hh.Field(e.name,c,e.nullable,Sh(e.customMetadata))),i||null},Object.defineProperty(uh,"__esModule",{value:!0}),uh.FieldNode=uh.BufferRegion=uh.DictionaryBatch=uh.RecordBatch=uh.Message=void 0;var Yh=Ju.exports,Jh=Hu,xh=io,gh=ro,Hh=sm,Ih=xu,Uh=lo,Kh=oh,Nh=Zh,kh=Jh.flatbuffers.Long,Bh=Jh.flatbuffers.Builder,Th=Jh.flatbuffers.ByteBuffer,Fh=ho,_h=function(){function e(e,t,n,l){this._version=t,this._headerType=n,this.body=new Uint8Array(0),l&&(this._createHeader=function(){return l}),this._bodyLength="number"==typeof e?e:e.low}return e.fromJSON=function(t,n){var l=new e(0,Uh.MetadataVersion.V4,n);return l._createHeader=function(e,t){return function(){switch(t){case Uh.MessageHeader.Schema:return Hh.Schema.fromJSON(e);case Uh.MessageHeader.RecordBatch:return wh.fromJSON(e);case Uh.MessageHeader.DictionaryBatch:return Ch.fromJSON(e)}throw new Error("Unrecognized Message type: { name: "+Uh.MessageHeader[t]+", type: "+t+" }")}}(t,n),l},e.decode=function(t){t=new Th(Ih.toUint8Array(t));var n=gh.Message.getRootAsMessage(t),l=n.bodyLength(),i=n.version(),r=n.headerType(),c=new e(l,i,r);return c._createHeader=function(e,t){return function(){switch(t){case Uh.MessageHeader.Schema:return Hh.Schema.decode(e.header(new xh.Schema));case Uh.MessageHeader.RecordBatch:return wh.decode(e.header(new gh.RecordBatch),e.version());case Uh.MessageHeader.DictionaryBatch:return Ch.decode(e.header(new gh.DictionaryBatch),e.version())}throw new Error("Unrecognized Message type: { name: "+Uh.MessageHeader[t]+", type: "+t+" }")}}(n,r),c},e.encode=function(e){var t=new Bh,n=-1;return e.isSchema()?n=Hh.Schema.encode(t,e.header()):e.isRecordBatch()?n=wh.encode(t,e.header()):e.isDictionaryBatch()&&(n=Ch.encode(t,e.header())),gh.Message.startMessage(t),gh.Message.addVersion(t,Uh.MetadataVersion.V4),gh.Message.addHeader(t,n),gh.Message.addHeaderType(t,e.headerType),gh.Message.addBodyLength(t,new kh(e.bodyLength,0)),gh.Message.finishMessageBuffer(t,gh.Message.endMessage(t)),t.asUint8Array()},e.from=function(t,n){if(void 0===n&&(n=0),t instanceof Hh.Schema)return new e(0,Uh.MetadataVersion.V4,Uh.MessageHeader.Schema,t);if(t instanceof wh)return new e(n,Uh.MetadataVersion.V4,Uh.MessageHeader.RecordBatch,t);if(t instanceof Ch)return new e(n,Uh.MetadataVersion.V4,Uh.MessageHeader.DictionaryBatch,t);throw new Error("Unrecognized Message header: "+t)},Object.defineProperty(e.prototype,"type",{get:function(){return this.headerType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerType",{get:function(){return this._headerType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodyLength",{get:function(){return this._bodyLength},enumerable:!1,configurable:!0}),e.prototype.header=function(){return this._createHeader()},e.prototype.isSchema=function(){return this.headerType===Uh.MessageHeader.Schema},e.prototype.isRecordBatch=function(){return this.headerType===Uh.MessageHeader.RecordBatch},e.prototype.isDictionaryBatch=function(){return this.headerType===Uh.MessageHeader.DictionaryBatch},e}();uh.Message=_h;var wh=function(){function e(e,t,n){this._nodes=t,this._buffers=n,this._length="number"==typeof e?e:e.low}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return this._buffers},enumerable:!1,configurable:!0}),e}();uh.RecordBatch=wh;var Ch=function(){function e(e,t,n){void 0===n&&(n=!1),this._data=e,this._isDelta=n,this._id="number"==typeof t?t:t.low}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDelta",{get:function(){return this._isDelta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.data.nodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return this.data.buffers},enumerable:!1,configurable:!0}),e}();uh.DictionaryBatch=Ch;var jh=function(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low};uh.BufferRegion=jh;var zh=function(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low};function Mh(e,t){for(var n=[],l=void 0,i=-1,r=-1,c=e.childrenLength();++i<c;)(l=e.children(i))&&(n[++r]=Hh.Field.decode(l,t));return n}function Qh(e){var t=new Map;if(e)for(var n=void 0,l=void 0,i=-1,r=0|e.customMetadataLength();++i<r;)(n=e.customMetadata(i))&&null!=(l=n.key())&&t.set(l,n.value());return t}function Ph(e){return new Fh.Int(e.isSigned(),e.bitWidth())}function Eh(e,t){var n=e.typeType();switch(n){case xh.Type.NONE:case xh.Type.Null:return new Fh.Null;case xh.Type.Binary:return new Fh.Binary;case xh.Type.Utf8:return new Fh.Utf8;case xh.Type.Bool:return new Fh.Bool;case xh.Type.List:return new Fh.List((t||[])[0]);case xh.Type.Struct_:return new Fh.Struct(t||[])}switch(n){case xh.Type.Int:var l=e.type(new xh.Int);return new Fh.Int(l.isSigned(),l.bitWidth());case xh.Type.FloatingPoint:l=e.type(new xh.FloatingPoint);return new Fh.Float(l.precision());case xh.Type.Decimal:l=e.type(new xh.Decimal);return new Fh.Decimal(l.scale(),l.precision());case xh.Type.Date:l=e.type(new xh.Date);return new Fh.Date_(l.unit());case xh.Type.Time:l=e.type(new xh.Time);return new Fh.Time(l.unit(),l.bitWidth());case xh.Type.Timestamp:l=e.type(new xh.Timestamp);return new Fh.Timestamp(l.unit(),l.timezone());case xh.Type.Interval:l=e.type(new xh.Interval);return new Fh.Interval(l.unit());case xh.Type.Union:l=e.type(new xh.Union);return new Fh.Union(l.mode(),l.typeIdsArray()||[],t||[]);case xh.Type.FixedSizeBinary:l=e.type(new xh.FixedSizeBinary);return new Fh.FixedSizeBinary(l.byteWidth());case xh.Type.FixedSizeList:l=e.type(new xh.FixedSizeList);return new Fh.FixedSizeList(l.listSize(),(t||[])[0]);case xh.Type.Map:l=e.type(new xh.Map);return new Fh.Map_((t||[])[0],l.keysSorted())}throw new Error('Unrecognized type: "'+xh.Type[n]+'" ('+n+")")}uh.FieldNode=zh,Hh.Field.encode=function(e,t){var n=-1,l=-1,i=-1,r=t.type,c=t.typeId;Fh.DataType.isDictionary(r)?(c=r.dictionary.typeId,i=Kh.instance.visit(r,e),l=Kh.instance.visit(r.dictionary,e)):l=Kh.instance.visit(r,e);var a=(r.children||[]).map((function(t){return Hh.Field.encode(e,t)})),u=xh.Field.createChildrenVector(e,a),o=t.metadata&&t.metadata.size>0?xh.Field.createCustomMetadataVector(e,Yh.__spread(t.metadata).map((function(t){var n=Yh.__read(t,2),l=n[0],i=n[1],r=e.createString(""+l),c=e.createString(""+i);return xh.KeyValue.startKeyValue(e),xh.KeyValue.addKey(e,r),xh.KeyValue.addValue(e,c),xh.KeyValue.endKeyValue(e)}))):-1;t.name&&(n=e.createString(t.name));xh.Field.startField(e),xh.Field.addType(e,l),xh.Field.addTypeType(e,c),xh.Field.addChildren(e,u),xh.Field.addNullable(e,!!t.nullable),-1!==n&&xh.Field.addName(e,n);-1!==i&&xh.Field.addDictionary(e,i);-1!==o&&xh.Field.addCustomMetadata(e,o);return xh.Field.endField(e)},Hh.Field.decode=function(e,t){var n,l,i,r,c,a;t&&(a=e.dictionary())?t.has(n=a.id().low)?(r=(r=a.indexType())?Ph(r):new Fh.Int32,c=new Fh.Dictionary(t.get(n),r,n,a.isOrdered()),l=new Hh.Field(e.name(),c,e.nullable(),Qh(e))):(r=(r=a.indexType())?Ph(r):new Fh.Int32,t.set(n,i=Eh(e,Mh(e,t))),c=new Fh.Dictionary(i,r,n,a.isOrdered()),l=new Hh.Field(e.name(),c,e.nullable(),Qh(e))):(i=Eh(e,Mh(e,t)),l=new Hh.Field(e.name(),i,e.nullable(),Qh(e)));return l||null},Hh.Field.fromJSON=Nh.fieldFromJSON,Hh.Schema.encode=function(e,t){var n=t.fields.map((function(t){return Hh.Field.encode(e,t)}));xh.Schema.startFieldsVector(e,n.length);var l=xh.Schema.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?xh.Schema.createCustomMetadataVector(e,Yh.__spread(t.metadata).map((function(t){var n=Yh.__read(t,2),l=n[0],i=n[1],r=e.createString(""+l),c=e.createString(""+i);return xh.KeyValue.startKeyValue(e),xh.KeyValue.addKey(e,r),xh.KeyValue.addValue(e,c),xh.KeyValue.endKeyValue(e)}))):-1;xh.Schema.startSchema(e),xh.Schema.addFields(e,l),xh.Schema.addEndianness(e,Dh?xh.Endianness.Little:xh.Endianness.Big),-1!==i&&xh.Schema.addCustomMetadata(e,i);return xh.Schema.endSchema(e)},Hh.Schema.decode=function(e,t){void 0===t&&(t=new Map);var n=function(e,t){for(var n=[],l=void 0,i=-1,r=-1,c=e.fieldsLength();++i<c;)(l=e.fields(i))&&(n[++r]=Hh.Field.decode(l,t));return n}(e,t);return new Hh.Schema(n,Qh(e),t)},Hh.Schema.fromJSON=Nh.schemaFromJSON,wh.encode=function(e,t){var n=t.nodes||[],l=t.buffers||[];gh.RecordBatch.startNodesVector(e,n.length),n.slice().reverse().forEach((function(t){return zh.encode(e,t)}));var i=e.endVector();gh.RecordBatch.startBuffersVector(e,l.length),l.slice().reverse().forEach((function(t){return jh.encode(e,t)}));var r=e.endVector();return gh.RecordBatch.startRecordBatch(e),gh.RecordBatch.addLength(e,new kh(t.length,0)),gh.RecordBatch.addNodes(e,i),gh.RecordBatch.addBuffers(e,r),gh.RecordBatch.endRecordBatch(e)},wh.decode=function(e,t){void 0===t&&(t=Uh.MetadataVersion.V4);return new wh(e.length(),function(e){for(var t=[],n=void 0,l=-1,i=-1,r=e.nodesLength();++l<r;)(n=e.nodes(l))&&(t[++i]=zh.decode(n));return t}(e),function(e,t){for(var n=[],l=void 0,i=-1,r=-1,c=e.buffersLength();++i<c;)(l=e.buffers(i))&&(t<Uh.MetadataVersion.V4&&(l.bb_pos+=8*(i+1)),n[++r]=jh.decode(l));return n}(e,t))},wh.fromJSON=Nh.recordBatchFromJSON,Ch.encode=function(e,t){var n=wh.encode(e,t.data);return gh.DictionaryBatch.startDictionaryBatch(e),gh.DictionaryBatch.addId(e,new kh(t.id,0)),gh.DictionaryBatch.addIsDelta(e,t.isDelta),gh.DictionaryBatch.addData(e,n),gh.DictionaryBatch.endDictionaryBatch(e)},Ch.decode=function(e,t){void 0===t&&(t=Uh.MetadataVersion.V4);return new Ch(wh.decode(e.data(),t),e.id(),e.isDelta())},Ch.fromJSON=Nh.dictionaryBatchFromJSON,zh.encode=function(e,t){return gh.FieldNode.createFieldNode(e,new kh(t.length,0),new kh(t.nullCount,0))},zh.decode=function(e){return new zh(e.length(),e.nullCount())},jh.encode=function(e,t){return xh.Buffer.createBuffer(e,new kh(t.offset,0),new kh(t.length,0))},jh.decode=function(e){return new jh(e.offset(),e.length())};var Oh,Dh=(Oh=new ArrayBuffer(2),new DataView(Oh).setInt16(0,256,!0),256===new Int16Array(Oh)[0]);!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.magicX2AndPadding=e.magicAndPadding=e.magicLength=e.checkForMagicArrowString=e.MAGIC=e.MAGIC_STR=e.PADDING=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=void 0;var t=Ju.exports,n=lo,l=Hu.flatbuffers.ByteBuffer,i=uh,r=Nu,c=YZ,a=xu,u=pZ,o=ku,d=function(e){return"Expected "+n.MessageHeader[e]+" Message in stream, but was null or length 0."},s=function(e){return"Header pointer of flatbuffer-encoded "+n.MessageHeader[e]+" Message is null or length 0."},m=function(e,t){return"Expected to read "+e+" metadata bytes, but only read "+t+"."},b=function(e,t){return"Expected to read "+e+" bytes for message body, but only read "+t+"."},Z=function(){function t(e){this.source=e instanceof u.ByteStream?e:new u.ByteStream(e)}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){var e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?o.ITERATOR_DONE:e},t.prototype.throw=function(e){return this.source.throw(e)},t.prototype.return=function(e){return this.source.return(e)},t.prototype.readMessage=function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(d(e));return t.value},t.prototype.readMessageBody=function(e){if(e<=0)return new Uint8Array(0);var t=a.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(b(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()},t.prototype.readSchema=function(e){void 0===e&&(e=!1);var t=n.MessageHeader.Schema,l=this.readMessage(t),i=null==l?void 0:l.header();if(e&&!i)throw new Error(s(t));return i},t.prototype.readMetadataLength=function(){var t=this.source.read(e.PADDING),n=t&&new l(t),i=(null==n?void 0:n.readInt32(0))||0;return{done:0===i,value:i}},t.prototype.readMetadata=function(e){var t=this.source.read(e);if(!t)return o.ITERATOR_DONE;if(t.byteLength<e)throw new Error(m(e,t.byteLength));return{done:!1,value:i.Message.decode(t)}},t}();e.MessageReader=Z;var p=function(){function Z(e,t){this.source=e instanceof u.AsyncByteStream?e:r.isFileHandle(e)?new c.AsyncRandomAccessFile(e,t):new u.AsyncByteStream(e)}return Z.prototype[Symbol.asyncIterator]=function(){return this},Z.prototype.next=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.readMetadataLength()];case 1:return(e=t.sent()).done?[2,o.ITERATOR_DONE]:(n=-1===e.value)?[4,this.readMetadataLength()]:[3,3];case 2:n=(e=t.sent()).done,t.label=3;case 3:return n?[2,o.ITERATOR_DONE]:[4,this.readMetadata(e.value)];case 4:return(e=t.sent()).done?[2,o.ITERATOR_DONE]:[2,e]}}))}))},Z.prototype.throw=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.throw(e)];case 1:return[2,t.sent()]}}))}))},Z.prototype.return=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.return(e)];case 1:return[2,t.sent()]}}))}))},Z.prototype.readMessage=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next()];case 1:if((n=t.sent()).done)return[2,null];if(null!=e&&n.value.headerType!==e)throw new Error(d(e));return[2,n.value]}}))}))},Z.prototype.readMessageBody=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n,l;return t.__generator(this,(function(t){switch(t.label){case 0:return e<=0?[2,new Uint8Array(0)]:(l=a.toUint8Array,[4,this.source.read(e)]);case 1:if((n=l.apply(void 0,[t.sent()])).byteLength<e)throw new Error(b(e,n.byteLength));return[2,n.byteOffset%8==0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()]}}))}))},Z.prototype.readSchema=function(e){return void 0===e&&(e=!1),t.__awaiter(this,void 0,void 0,(function(){var l,i,r;return t.__generator(this,(function(t){switch(t.label){case 0:return l=n.MessageHeader.Schema,[4,this.readMessage(l)];case 1:if(i=t.sent(),r=null==i?void 0:i.header(),e&&!r)throw new Error(s(l));return[2,r]}}))}))},Z.prototype.readMetadataLength=function(){return t.__awaiter(this,void 0,void 0,(function(){var n,i,r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.read(e.PADDING)];case 1:return n=t.sent(),i=n&&new l(n),[2,{done:0===(r=(null==i?void 0:i.readInt32(0))||0),value:r}]}}))}))},Z.prototype.readMetadata=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.read(e)];case 1:if(!(n=t.sent()))return[2,o.ITERATOR_DONE];if(n.byteLength<e)throw new Error(m(e,n.byteLength));return[2,{done:!1,value:i.Message.decode(n)}]}}))}))},Z}();e.AsyncMessageReader=p;var h=function(e){function l(t){var n=e.call(this,new Uint8Array(0))||this;return n._schema=!1,n._body=[],n._batchIndex=0,n._dictionaryIndex=0,n._json=t instanceof o.ArrowJSON?t:new o.ArrowJSON(t),n}return t.__extends(l,e),l.prototype.next=function(){var e=this._json;if(!this._schema)return this._schema=!0,{done:!1,value:i.Message.fromJSON(e.schema,n.MessageHeader.Schema)};if(this._dictionaryIndex<e.dictionaries.length){var t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:i.Message.fromJSON(t,n.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:i.Message.fromJSON(t,n.MessageHeader.RecordBatch)}}return this._body=[],o.ITERATOR_DONE},l.prototype.readMessageBody=function(e){return function e(n){return(n||[]).reduce((function(n,l){return t.__spread(n,l.VALIDITY&&[l.VALIDITY]||[],l.TYPE&&[l.TYPE]||[],l.OFFSET&&[l.OFFSET]||[],l.DATA&&[l.DATA]||[],e(l.children))}),[])}(this._body)},l.prototype.readMessage=function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(d(e));return t.value},l.prototype.readSchema=function(){var e=n.MessageHeader.Schema,t=this.readMessage(e),l=null==t?void 0:t.header();if(!t||!l)throw new Error(s(e));return l},l}(Z);e.JSONMessageReader=h,e.PADDING=4,e.MAGIC_STR="ARROW1",e.MAGIC=new Uint8Array(e.MAGIC_STR.length);for(var y=0;y<e.MAGIC_STR.length;y+=1)e.MAGIC[y]=e.MAGIC_STR.charCodeAt(y);e.checkForMagicArrowString=function(t,n){void 0===n&&(n=0);for(var l=-1,i=e.MAGIC.length;++l<i;)if(e.MAGIC[l]!==t[n+l])return!1;return!0},e.magicLength=e.MAGIC.length,e.magicAndPadding=e.magicLength+e.PADDING,e.magicX2AndPadding=2*e.magicLength+e.PADDING}(ah);var Ah={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compareTypes=e.compareFields=e.compareSchemas=e.instance=e.TypeComparator=void 0;var t=Ju.exports,n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.compareSchemas=function(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)},n.prototype.compareManyFields=function(e,t){var n=this;return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,l){return n.compareFields(e,t[l])}))},n.prototype.compareFields=function(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)},n}(Om.Visitor);function l(e,t){return t instanceof e.constructor}function i(e,t){return e===t||l(e,t)}function r(e,t){return e===t||l(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function c(e,t){return e===t||l(e,t)&&e.precision===t.precision}function a(e,t){return e===t||l(e,t)&&e.unit===t.unit}function u(e,t){return e===t||l(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function o(e,t){return e===t||l(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function d(t,n){return t===n||l(t,n)&&t.mode===n.mode&&t.typeIds.every((function(e,t){return e===n.typeIds[t]}))&&e.instance.compareManyFields(t.children,n.children)}function s(e,t){return e===t||l(e,t)&&e.unit===t.unit}e.TypeComparator=n,n.prototype.visitNull=i,n.prototype.visitBool=i,n.prototype.visitInt=r,n.prototype.visitInt8=r,n.prototype.visitInt16=r,n.prototype.visitInt32=r,n.prototype.visitInt64=r,n.prototype.visitUint8=r,n.prototype.visitUint16=r,n.prototype.visitUint32=r,n.prototype.visitUint64=r,n.prototype.visitFloat=c,n.prototype.visitFloat16=c,n.prototype.visitFloat32=c,n.prototype.visitFloat64=c,n.prototype.visitUtf8=i,n.prototype.visitBinary=i,n.prototype.visitFixedSizeBinary=function(e,t){return e===t||l(e,t)&&e.byteWidth===t.byteWidth},n.prototype.visitDate=a,n.prototype.visitDateDay=a,n.prototype.visitDateMillisecond=a,n.prototype.visitTimestamp=u,n.prototype.visitTimestampSecond=u,n.prototype.visitTimestampMillisecond=u,n.prototype.visitTimestampMicrosecond=u,n.prototype.visitTimestampNanosecond=u,n.prototype.visitTime=o,n.prototype.visitTimeSecond=o,n.prototype.visitTimeMillisecond=o,n.prototype.visitTimeMicrosecond=o,n.prototype.visitTimeNanosecond=o,n.prototype.visitDecimal=i,n.prototype.visitList=function(t,n){return t===n||l(t,n)&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitStruct=function(t,n){return t===n||l(t,n)&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitUnion=d,n.prototype.visitDenseUnion=d,n.prototype.visitSparseUnion=d,n.prototype.visitDictionary=function(t,n){return t===n||l(t,n)&&t.id===n.id&&t.isOrdered===n.isOrdered&&e.instance.visit(t.indices,n.indices)&&e.instance.visit(t.dictionary,n.dictionary)},n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=function(t,n){return t===n||l(t,n)&&t.listSize===n.listSize&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitMap=function(t,n){return t===n||l(t,n)&&t.keysSorted===n.keysSorted&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},e.instance=new n,e.compareSchemas=function(t,n){return e.instance.compareSchemas(t,n)},e.compareFields=function(t,n){return e.instance.compareFields(t,n)},e.compareTypes=function(t,n){return e.instance.visit(t,n)}}(Ah);var qh={};Object.defineProperty(qh,"__esModule",{value:!0}),qh.VectorAssembler=void 0;var $h=Ju.exports,ey=lo,ty=$Z,ny=xu,ly=ao,iy=Jp,ry=uh,cy=ho,ay=function(e){function t(){var t=e.call(this)||this;return t._byteLength=0,t._nodes=[],t._buffers=[],t._bufferRegions=[],t}return $h.__extends(t,e),t.assemble=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=new t,i=iy.selectVectorChildrenArgs(ty.RecordBatch,e),r=$h.__read(l.visitMany(i),1),c=r[0],a=void 0===c?l:c;return a},t.prototype.visit=function(t){if(!cy.DataType.isDictionary(t.type)){var n=t.data,l=t.length,i=t.nullCount;if(l>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");cy.DataType.isNull(t.type)||uy.call(this,i<=0?new Uint8Array(0):ly.truncateBitmap(n.offset,l,n.nullBitmap)),this.nodes.push(new ry.FieldNode(l,i))}return e.prototype.visit.call(this,t)},t.prototype.visitNull=function(e){return this},t.prototype.visitDictionary=function(e){return this.visit(e.indices)},Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._buffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this._byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferRegions",{get:function(){return this._bufferRegions},enumerable:!1,configurable:!0}),t}(Om.Visitor);function uy(e){var t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new ry.BufferRegion(this._byteLength,t)),this._byteLength+=t,this}function oy(e){return uy.call(this,e.values.subarray(0,e.length*e.stride))}function dy(e){var t=e.length,n=e.values,l=e.valueOffsets,i=l[0],r=l[t],c=Math.min(r-i,n.byteLength-i);return uy.call(this,ny.rebaseValueOffsets(-l[0],t,l)),uy.call(this,n.subarray(i,i+c)),this}function sy(e){var t=e.length,n=e.valueOffsets;return n&&uy.call(this,ny.rebaseValueOffsets(n[0],t,n)),this.visit(e.getChildAt(0))}function my(e){return this.visitMany(e.type.children.map((function(t,n){return e.getChildAt(n)})).filter(Boolean))[0]}qh.VectorAssembler=ay,ay.prototype.visitBool=function(e){var t;return e.nullCount>=e.length?uy.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?uy.call(this,ly.truncateBitmap(e.offset,e.length,t)):uy.call(this,ly.packBools(e))},ay.prototype.visitInt=oy,ay.prototype.visitFloat=oy,ay.prototype.visitUtf8=dy,ay.prototype.visitBinary=dy,ay.prototype.visitFixedSizeBinary=oy,ay.prototype.visitDate=oy,ay.prototype.visitTimestamp=oy,ay.prototype.visitTime=oy,ay.prototype.visitDecimal=oy,ay.prototype.visitList=sy,ay.prototype.visitStruct=my,ay.prototype.visitUnion=function(e){var t=e.type,n=e.length,l=e.typeIds,i=e.valueOffsets;if(uy.call(this,l),t.mode===ey.UnionMode.Sparse)return my.call(this,e);if(t.mode===ey.UnionMode.Dense){if(e.offset<=0)return uy.call(this,i),my.call(this,e);for(var r=l.reduce((function(e,t){return Math.max(e,t)}),l[0]),c=new Int32Array(r+1),a=new Int32Array(r+1).fill(-1),u=new Int32Array(n),o=ny.rebaseValueOffsets(-i[0],n,i),d=void 0,s=void 0,m=-1;++m<n;)-1===(s=a[d=l[m]])&&(s=a[d]=o[d]),u[m]=o[m]-s,++c[d];uy.call(this,u);for(var b=void 0,Z=-1,p=t.children.length;++Z<p;)if(b=e.getChildAt(Z)){d=t.typeIds[Z];var h=Math.min(n,c[d]);this.visit(b.slice(a[d],h))}}return this},ay.prototype.visitInterval=oy,ay.prototype.visitFixedSizeList=sy,ay.prototype.visitMap=sy;var by={};Object.defineProperty(by,"__esModule",{value:!0}),by.JSONTypeAssembler=void 0;var Zy=Ju.exports,py=io,hy=lo,yy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zy.__extends(t,e),t.prototype.visit=function(t){return null==t?void 0:e.prototype.visit.call(this,t)},t.prototype.visitNull=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitInt=function(e){var t=e.typeId,n=e.bitWidth,l=e.isSigned;return{name:py.Type[t].toLowerCase(),bitWidth:n,isSigned:l}},t.prototype.visitFloat=function(e){var t=e.typeId,n=e.precision;return{name:py.Type[t].toLowerCase(),precision:hy.Precision[n]}},t.prototype.visitBinary=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitBool=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitUtf8=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitDecimal=function(e){var t=e.typeId,n=e.scale,l=e.precision;return{name:py.Type[t].toLowerCase(),scale:n,precision:l}},t.prototype.visitDate=function(e){var t=e.typeId,n=e.unit;return{name:py.Type[t].toLowerCase(),unit:hy.DateUnit[n]}},t.prototype.visitTime=function(e){var t=e.typeId,n=e.unit,l=e.bitWidth;return{name:py.Type[t].toLowerCase(),unit:hy.TimeUnit[n],bitWidth:l}},t.prototype.visitTimestamp=function(e){var t=e.typeId,n=e.timezone,l=e.unit;return{name:py.Type[t].toLowerCase(),unit:hy.TimeUnit[l],timezone:n}},t.prototype.visitInterval=function(e){var t=e.typeId,n=e.unit;return{name:py.Type[t].toLowerCase(),unit:hy.IntervalUnit[n]}},t.prototype.visitList=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitStruct=function(e){var t=e.typeId;return{name:py.Type[t].toLowerCase()}},t.prototype.visitUnion=function(e){var t=e.typeId,n=e.mode,l=e.typeIds;return{name:py.Type[t].toLowerCase(),mode:hy.UnionMode[n],typeIds:Zy.__spread(l)}},t.prototype.visitDictionary=function(e){return this.visit(e.dictionary)},t.prototype.visitFixedSizeBinary=function(e){var t=e.typeId,n=e.byteWidth;return{name:py.Type[t].toLowerCase(),byteWidth:n}},t.prototype.visitFixedSizeList=function(e){var t=e.typeId,n=e.listSize;return{name:py.Type[t].toLowerCase(),listSize:n}},t.prototype.visitMap=function(e){var t=e.typeId,n=e.keysSorted;return{name:py.Type[t].toLowerCase(),keysSorted:n}},t}(Om.Visitor);by.JSONTypeAssembler=yy;var fy={};Object.defineProperty(fy,"__esModule",{value:!0}),fy.JSONVectorAssembler=void 0;var Xy=Ju.exports,Vy=ps,Wy=tp,Gy=to,Ry=lo,Sy=$Z,vy=lo,Ly=ao,Yy=Jp,Jy=ho,xy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xy.__extends(t,e),t.assemble=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(new t).visitMany(Yy.selectColumnChildrenArgs(Sy.RecordBatch,e))},t.prototype.visit=function(t){var n,l=t.data,i=t.name,r=t.length,c=l.offset,a=l.nullCount,u=l.nullBitmap,o=Jy.DataType.isDictionary(t.type)?t.type.indices:t.type,d=Object.assign([],l.buffers,((n={})[Ry.BufferType.VALIDITY]=void 0,n));return Xy.__assign({name:i,count:r,VALIDITY:Jy.DataType.isNull(o)?void 0:a<=0?Array.from({length:r},(function(){return 1})):Xy.__spread(new Ly.BitIterator(u,c,r,null,Ly.getBit))},e.prototype.visit.call(this,Gy.Vector.new(l.clone(o,c,r,0,d))))},t.prototype.visitNull=function(){return{}},t.prototype.visitBool=function(e){var t=e.values,n=e.offset,l=e.length;return{DATA:Xy.__spread(new Ly.BitIterator(t,n,l,null,Ly.getBool))}},t.prototype.visitInt=function(e){return{DATA:e.type.bitWidth<64?Xy.__spread(e.values):Xy.__spread(Hy(e.values,2))}},t.prototype.visitFloat=function(e){return{DATA:Xy.__spread(e.values)}},t.prototype.visitUtf8=function(e){return{DATA:Xy.__spread(e),OFFSET:Xy.__spread(e.valueOffsets)}},t.prototype.visitBinary=function(e){return{DATA:Xy.__spread(gy(e)),OFFSET:Xy.__spread(e.valueOffsets)}},t.prototype.visitFixedSizeBinary=function(e){return{DATA:Xy.__spread(gy(e))}},t.prototype.visitDate=function(e){return{DATA:e.type.unit===vy.DateUnit.DAY?Xy.__spread(e.values):Xy.__spread(Hy(e.values,2))}},t.prototype.visitTimestamp=function(e){return{DATA:Xy.__spread(Hy(e.values,2))}},t.prototype.visitTime=function(e){return{DATA:e.type.unit<vy.TimeUnit.MICROSECOND?Xy.__spread(e.values):Xy.__spread(Hy(e.values,2))}},t.prototype.visitDecimal=function(e){return{DATA:Xy.__spread(Hy(e.values,4))}},t.prototype.visitList=function(e){var t=this;return{OFFSET:Xy.__spread(e.valueOffsets),children:e.type.children.map((function(n,l){return t.visit(new Wy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitStruct=function(e){var t=this;return{children:e.type.children.map((function(n,l){return t.visit(new Wy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitUnion=function(e){var t=this;return{TYPE:Xy.__spread(e.typeIds),OFFSET:e.type.mode===vy.UnionMode.Dense?Xy.__spread(e.valueOffsets):void 0,children:e.type.children.map((function(n,l){return t.visit(new Wy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitInterval=function(e){return{DATA:Xy.__spread(e.values)}},t.prototype.visitFixedSizeList=function(e){var t=this;return{children:e.type.children.map((function(n,l){return t.visit(new Wy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitMap=function(e){var t=this;return{OFFSET:Xy.__spread(e.valueOffsets),children:e.type.children.map((function(n,l){return t.visit(new Wy.Column(n,[e.getChildAt(l)]))}))}},t}(Om.Visitor);function gy(e){var t,n,l,i,r;return Xy.__generator(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),t=Xy.__values(e),n=t.next(),c.label=1;case 1:return n.done?[3,4]:[4,n.value.reduce((function(e,t){return""+e+("0"+(255&t).toString(16)).slice(-2)}),"").toUpperCase()];case 2:c.sent(),c.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return l=c.sent(),i={error:l},[3,7];case 6:try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))}function Hy(e,t){var n,l;return Xy.__generator(this,(function(i){switch(i.label){case 0:n=-1,l=e.length/t,i.label=1;case 1:return++n<l?[4,""+Vy.BN.new(e.subarray((n+0)*t,(n+1)*t),!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:return[2]}}))}fy.JSONVectorAssembler=xy,Object.defineProperty(ch,"__esModule",{value:!0}),ch.RecordBatchJSONWriter=ch.RecordBatchFileWriter=ch.RecordBatchStreamWriter=ch.RecordBatchWriter=void 0;var Iy=Ju.exports,Uy=ep,Ky=ah,Ny=tp,ky=ho,By=sm,Ty=uh,Fy=uh,_y=Ab,wy=lo,Cy=Ah,jy=pZ,zy=qh,My=by,Qy=fy,Py=xu,Ey=$Z,Oy=Nu,Dy=function(e){function t(t){var n=e.call(this)||this;return n._position=0,n._started=!1,n._sink=new jy.AsyncByteQueue,n._schema=null,n._dictionaryBlocks=[],n._recordBatchBlocks=[],n._dictionaryDeltaOffsets=new Map,Oy.isObject(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),n._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,n._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat,n}return Iy.__extends(t,e),t.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},t.throughDOM=function(e,t){throw new Error('"throughDOM" not available in this environment')},t.prototype.toString=function(e){return void 0===e&&(e=!1),this._sink.toString(e)},t.prototype.toUint8Array=function(e){return void 0===e&&(e=!1),this._sink.toUint8Array(e)},t.prototype.writeAll=function(e){var t=this;return Oy.isPromise(e)?e.then((function(e){return t.writeAll(e)})):Oy.isAsyncIterable(e)?tf(this,e):ef(this,e)},Object.defineProperty(t.prototype,"closed",{get:function(){return this._sink.closed},enumerable:!1,configurable:!0}),t.prototype[Symbol.asyncIterator]=function(){return this._sink[Symbol.asyncIterator]()},t.prototype.toDOMStream=function(e){return this._sink.toDOMStream(e)},t.prototype.toNodeStream=function(e){return this._sink.toNodeStream(e)},t.prototype.close=function(){return this.reset()._sink.close()},t.prototype.abort=function(e){return this.reset()._sink.abort(e)},t.prototype.finish=function(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this},t.prototype.reset=function(e,t){return void 0===e&&(e=this._sink),void 0===t&&(t=null),e===this._sink||e instanceof jy.AsyncByteQueue?this._sink=e:(this._sink=new jy.AsyncByteQueue,e&&Oy.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Oy.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,t&&Cy.compareSchemas(t,this._schema)||(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this},t.prototype.write=function(e){var t=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==e)return this.finish()&&void 0;if(e instanceof Uy.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof Ey.RecordBatch&&!(t=e.schema))return this.finish()&&void 0;if(t&&!Cy.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof Ey.RecordBatch?e instanceof Ey._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Uy.Table?this.writeAll(e.chunks):Oy.isIterable(e)&&this.writeAll(e)},t.prototype._writeMessage=function(e,t){void 0===t&&(t=8);var n=t-1,l=Ty.Message.encode(e),i=l.byteLength,r=this._writeLegacyIpcFormat?4:8,c=i+r+n&~n,a=c-i-r;return e.headerType===wy.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new _y.FileBlock(c,e.bodyLength,this._position)):e.headerType===wy.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new _y.FileBlock(c,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(c-r)),i>0&&this._write(l),this._writePadding(a)},t.prototype._write=function(e){if(this._started){var t=Py.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this},t.prototype._writeSchema=function(e){return this._writeMessage(Ty.Message.from(e))},t.prototype._writeFooter=function(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))},t.prototype._writeMagic=function(){return this._write(Ky.MAGIC)},t.prototype._writePadding=function(e){return e>0?this._write(new Uint8Array(e)):this},t.prototype._writeRecordBatch=function(e){var t=zy.VectorAssembler.assemble(e),n=t.byteLength,l=t.nodes,i=t.bufferRegions,r=t.buffers,c=new Fy.RecordBatch(e.length,l,i),a=Ty.Message.from(c,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(r)},t.prototype._writeDictionaryBatch=function(e,t,n){void 0===n&&(n=!1),this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));var l=zy.VectorAssembler.assemble(e),i=l.byteLength,r=l.nodes,c=l.bufferRegions,a=l.buffers,u=new Fy.RecordBatch(e.length,r,c),o=new Fy.DictionaryBatch(u,t,n),d=Ty.Message.from(o,i);return this._writeMessage(d)._writeBodyBuffers(a)},t.prototype._writeBodyBuffers=function(e){for(var t,n,l,i=-1,r=e.length;++i<r;)(t=e[i])&&(n=t.byteLength)>0&&(this._write(t),(l=(n+7&-8)-n)>0&&this._writePadding(l));return this},t.prototype._writeDictionaries=function(e){var t,n,l,i;try{for(var r=Iy.__values(e.dictionaries),c=r.next();!c.done;c=r.next()){var a=Iy.__read(c.value,2),u=a[0],o=a[1],d=this._dictionaryDeltaOffsets.get(u)||0;if(0===d||(o=o.slice(d)).length>0){var s="chunks"in o?o.chunks:[o];try{for(var m=(l=void 0,Iy.__values(s)),b=m.next();!b.done;b=m.next()){var Z=b.value;this._writeDictionaryBatch(Z,u,d>0),d+=Z.length}}catch(p){l={error:p}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(l)throw l.error}}}}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},t}(ku.ReadableInterop);ch.RecordBatchWriter=Dy;var Ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Iy.__extends(t,e),t.writeAll=function(e,n){var l=new t(n);return Oy.isPromise(e)?e.then((function(e){return l.writeAll(e)})):Oy.isAsyncIterable(e)?tf(l,e):ef(l,e)},t}(Dy);ch.RecordBatchStreamWriter=Ay;var qy=function(e){function t(){var t=e.call(this)||this;return t._autoDestroy=!0,t}return Iy.__extends(t,e),t.writeAll=function(e){var n=new t;return Oy.isPromise(e)?e.then((function(e){return n.writeAll(e)})):Oy.isAsyncIterable(e)?tf(n,e):ef(n,e)},t.prototype._writeSchema=function(e){return this._writeMagic()._writePadding(2)},t.prototype._writeFooter=function(t){var n=_y.Footer.encode(new _y.Footer(t,wy.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return e.prototype._writeFooter.call(this,t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()},t}(Dy);ch.RecordBatchFileWriter=qy;var $y=function(e){function t(){var t=e.call(this)||this;return t._autoDestroy=!0,t._recordBatches=[],t._dictionaries=[],t}return Iy.__extends(t,e),t.writeAll=function(e){return(new t).writeAll(e)},t.prototype._writeMessage=function(){return this},t.prototype._writeFooter=function(e){return this},t.prototype._writeSchema=function(e){return this._write('{\n  "schema": '+JSON.stringify({fields:e.fields.map(nf)},null,2))},t.prototype._writeDictionaries=function(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this},t.prototype._writeDictionaryBatch=function(e,t,n){return void 0===n&&(n=!1),this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(""+function(e,t,n){void 0===n&&(n=!1);var l=new By.Field(""+t,e.type,e.nullCount>0),i=Qy.JSONVectorAssembler.assemble(new Ny.Column(l,[e]));return JSON.stringify({id:t,isDelta:n,data:{count:e.length,columns:i}},null,2)}(e,t,n)),this._dictionaryBlocks.push(new _y.FileBlock(0,0,0)),this},t.prototype._writeRecordBatch=function(e){return this._writeDictionaries(e),this._recordBatches.push(e),this},t.prototype.close=function(){var t,n,l;if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');try{for(var i=Iy.__values(this._dictionaries),r=i.next();!r.done;r=i.next()){var c=r.value;e.prototype._writeDictionaries.call(this,c)}}catch(o){t={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._write("\n  ]")}if(this._recordBatches.length>0){for(var a=-1,u=this._recordBatches.length;++a<u;)this._write(0===a?',\n  "batches": [\n    ':",\n    "),this._write(""+(l=this._recordBatches[a],JSON.stringify({count:l.length,columns:Qy.JSONVectorAssembler.assemble(l)},null,2))),this._recordBatchBlocks.push(new _y.FileBlock(0,0,0));this._write("\n  ]")}return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],e.prototype.close.call(this)},t}(Dy);function ef(e,t){var n,l,i=t;t instanceof Uy.Table&&(i=t.chunks,e.reset(void 0,t.schema));try{for(var r=Iy.__values(i),c=r.next();!c.done;c=r.next()){var a=c.value;e.write(a)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}return e.finish()}function tf(e,t){var n,l,i,r;return Iy.__awaiter(this,void 0,void 0,(function(){var c,a;return Iy.__generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Iy.__asyncValues(t),u.label=1;case 1:return[4,n.next()];case 2:if((l=u.sent()).done)return[3,4];c=l.value,e.write(c),u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),l&&!l.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return[2,e.finish()]}}))}))}function nf(e){var t=e.name,n=e.type,l=e.nullable,i=new My.JSONTypeAssembler;return{name:t,nullable:l,type:i.visit(n),children:(n.children||[]).map(nf),dictionary:ky.DataType.isDictionary(n)?{id:n.id,isOrdered:n.isOrdered,indexType:i.visit(n.indices)}:void 0}}ch.RecordBatchJSONWriter=$y;var lf={};Object.defineProperty(lf,"__esModule",{value:!0}),lf.distributeVectorsIntoRecordBatches=lf.distributeColumnsIntoRecordBatches=lf.ensureSameLengthData=void 0;var rf=Ju.exports,cf=co,af=sm,uf=np,of=$Z,df=new Uint8Array(0),sf=function(e){return[df,df,new Uint8Array(e),df]};function mf(e,t){return function(e,t){var n,l=rf.__spread(e.fields),i=[],r={numBatches:t.reduce((function(e,t){return Math.max(e,t.length)}),0)},c=0,a=0,u=-1,o=t.length,d=[];for(;r.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,u=-1;++u<o;)d[u]=n=t[u].shift(),a=Math.min(a,n?n.length:a);isFinite(a)&&(d=bf(l,a,d,t,r),a>0&&(i[c++]=[a,d.slice()]))}return[e=new af.Schema(l,e.metadata),i.map((function(t){return new(of.RecordBatch.bind.apply(of.RecordBatch,rf.__spread([void 0,e],t)))}))]}(e,t.map((function(e){return e instanceof uf.Chunked?e.chunks.map((function(e){return e.data})):[e.data]})))}function bf(e,t,n,l,i){for(var r,c,a=0,u=-1,o=l.length,d=(t+63&-64)>>3;++u<o;)(r=n[u])&&(a=r.length)>=t?a===t?n[u]=r:(n[u]=r.slice(0,t),r=r.slice(t,a-t),i.numBatches=Math.max(i.numBatches,l[u].unshift(r))):((c=e[u]).nullable||(e[u]=c.clone({nullable:!0})),n[u]=r?r._changeLengthAndBackfillNullBitmap(t):cf.Data.new(c.type,0,t,t,sf(d)));return n}lf.ensureSameLengthData=function(e,t,n){var l,i;void 0===n&&(n=t.reduce((function(e,t){return Math.max(e,t.length)}),0));for(var r=-1,c=t.length,a=rf.__spread(e.fields),u=[],o=(n+63&-64)>>3;++r<c;)(l=t[r])&&l.length===n?u[r]=l:((i=a[r]).nullable||(a[r]=a[r].clone({nullable:!0})),u[r]=l?l._changeLengthAndBackfillNullBitmap(n):cf.Data.new(i.type,0,n,n,sf(o)));return[new af.Schema(a),n,u]},lf.distributeColumnsIntoRecordBatches=function(e){return mf(new af.Schema(e.map((function(e){return e.field}))),e)},lf.distributeVectorsIntoRecordBatches=mf;var Zf={},pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.BaseVector=void 0;var hf=Ju.exports,yf=lo,ff=np,Xf=lp,Vf=to,Wf=function(e){function t(t,n){var l=e.call(this)||this;return l._children=n,l.numChildren=t.childData.length,l._bindDataAccessors(l.data=t),l}return hf.__extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.data.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeId",{get:function(){return this.data.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this.data.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stride",{get:function(){return this.data.stride},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){return this.data.nullCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.data.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VectorName",{get:function(){return yf.Type[this.typeId]+"Vector"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.data.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeIds",{get:function(){return this.data.typeIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullBitmap",{get:function(){return this.data.nullBitmap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueOffsets",{get:function(){return this.data.valueOffsets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.VectorName+"<"+this.type[Symbol.toStringTag]+">"},enumerable:!1,configurable:!0}),t.prototype.clone=function(e,t){return void 0===t&&(t=this._children),Vf.Vector.new(e,t)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ff.Chunked.concat.apply(ff.Chunked,hf.__spread([this],e))},t.prototype.slice=function(e,t){return Xf.clampRange(this,e,t,this._sliceInternal)},t.prototype.isValid=function(e){if(this.nullCount>0){var t=this.offset+e;return 0!==(this.nullBitmap[t>>3]&1<<t%8)}return!0},t.prototype.getChildAt=function(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=Vf.Vector.new(this.data.childData[e]))},t.prototype.toJSON=function(){return hf.__spread(this)},t.prototype._sliceInternal=function(e,t,n){return e.clone(e.data.slice(t,n-t),null)},t.prototype._bindDataAccessors=function(e){},t}(Vf.AbstractVector);pf.BaseVector=Wf,Wf.prototype[Symbol.isConcatSpreadable]=!0;var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.BinaryVector=void 0;var Rf=Ju.exports,Sf=to,vf=ho,Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rf.__extends(t,e),t.prototype.asUtf8=function(){return Sf.Vector.new(this.data.clone(new vf.Utf8))},t}(pf.BaseVector);Gf.BinaryVector=Lf;var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.BoolVector=void 0;var Jf=Ju.exports,xf=ho,gf=Zf,Hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf.__extends(t,e),t.from=function(e){return gf.vectorFromValuesWithType((function(){return new xf.Bool}),e)},t}(pf.BaseVector);Yf.BoolVector=Hf;var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.DateMillisecondVector=If.DateDayVector=If.DateVector=void 0;var Uf=Ju.exports,Kf=lo,Nf=Zf,kf=ho,Bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?Nf.vectorFromValuesWithType((function(){return e[1]===Kf.DateUnit.DAY?new kf.DateDay:new kf.DateMillisecond}),e[0]):Nf.vectorFromValuesWithType((function(){return new kf.DateMillisecond}),e[0])},t}(pf.BaseVector);If.DateVector=Bf;var Tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf.__extends(t,e),t}(Bf);If.DateDayVector=Tf;var Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf.__extends(t,e),t}(Bf);If.DateMillisecondVector=Ff;var _f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f.DecimalVector=void 0;var wf=Ju.exports,Cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wf.__extends(t,e),t}(pf.BaseVector);_f.DecimalVector=Cf;var jf={};Object.defineProperty(jf,"__esModule",{value:!0}),jf.DictionaryVector=void 0;var zf=Ju.exports,Mf=co,Qf=to,Pf=Zf,Ef=ho,Of=function(e){function t(t){var n=e.call(this,t)||this;return n.indices=Qf.Vector.new(t.clone(n.type.indices)),n}return zf.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(3===e.length){var n=zf.__read(e,3),l=n[0],i=n[1],r=n[2],c=new Ef.Dictionary(l.type,i,null,null);return Qf.Vector.new(Mf.Data.Dictionary(c,0,r.length,0,null,r,l))}return Pf.vectorFromValuesWithType((function(){return e[0].type}),e[0])},Object.defineProperty(t.prototype,"dictionary",{get:function(){return this.data.dictionary},enumerable:!1,configurable:!0}),t.prototype.reverseLookup=function(e){return this.dictionary.indexOf(e)},t.prototype.getKey=function(e){return this.indices.get(e)},t.prototype.getValue=function(e){return this.dictionary.get(e)},t.prototype.setKey=function(e,t){return this.indices.set(e,t)},t.prototype.setValue=function(e,t){return this.dictionary.set(e,t)},t}(pf.BaseVector);jf.DictionaryVector=Of,Of.prototype.indices=null;var Df={};Object.defineProperty(Df,"__esModule",{value:!0}),Df.FixedSizeBinaryVector=void 0;var Af=Ju.exports,qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Af.__extends(t,e),t}(pf.BaseVector);Df.FixedSizeBinaryVector=qf;var $f={};Object.defineProperty($f,"__esModule",{value:!0}),$f.FixedSizeListVector=void 0;var eX=Ju.exports,tX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eX.__extends(t,e),t}(pf.BaseVector);$f.FixedSizeListVector=tX;var nX={};Object.defineProperty(nX,"__esModule",{value:!0}),nX.Float64Vector=nX.Float32Vector=nX.Float16Vector=nX.FloatVector=void 0;var lX=Ju.exports,iX=co,rX=to,cX=Zf,aX=ho,uX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX.__extends(t,e),t.from=function(e){var t=ZX(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=bX(e.constructor)||t;if(null===t&&(t=n),t&&t===n){var l=new t,i=e.byteLength/l.ArrayType.BYTES_PER_ELEMENT;if(!mX(t,e.constructor))return rX.Vector.new(iX.Data.Float(l,0,i,0,null,e))}}if(t)return cX.vectorFromValuesWithType((function(){return new t}),e);if(e instanceof DataView||e instanceof ArrayBuffer)throw new TypeError("Cannot infer float type from instance of "+e.constructor.name);throw new TypeError("Unrecognized FloatVector input")},t}(pf.BaseVector);nX.FloatVector=uX;var oX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX.__extends(t,e),t.prototype.toFloat32Array=function(){return new Float32Array(this)},t.prototype.toFloat64Array=function(){return new Float64Array(this)},t}(uX);nX.Float16Vector=oX;var dX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX.__extends(t,e),t}(uX);nX.Float32Vector=dX;var sX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX.__extends(t,e),t}(uX);nX.Float64Vector=sX;var mX=function(e,t){return e===aX.Float16&&t!==Uint16Array},bX=function(e){switch(e){case Uint16Array:return aX.Float16;case Float32Array:return aX.Float32;case Float64Array:return aX.Float64;default:return null}},ZX=function(e){switch(e){case oX:return aX.Float16;case dX:return aX.Float32;case sX:return aX.Float64;default:return null}},pX={};Object.defineProperty(pX,"__esModule",{value:!0}),pX.IntervalYearMonthVector=pX.IntervalDayTimeVector=pX.IntervalVector=void 0;var hX=Ju.exports,yX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hX.__extends(t,e),t}(pf.BaseVector);pX.IntervalVector=yX;var fX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hX.__extends(t,e),t}(yX);pX.IntervalDayTimeVector=fX;var XX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hX.__extends(t,e),t}(yX);pX.IntervalYearMonthVector=XX;var VX={};Object.defineProperty(VX,"__esModule",{value:!0}),VX.Uint64Vector=VX.Uint32Vector=VX.Uint16Vector=VX.Uint8Vector=VX.Int64Vector=VX.Int32Vector=VX.Int16Vector=VX.Int8Vector=VX.IntVector=void 0;var WX=Ju.exports,GX=co,RX=to,SX=Zf,vX=Nu,LX=xu,YX=ho,JX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=WX.__read(e,2),l=n[0],i=n[1],r=void 0!==i&&i,c=FX(this,r);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)){var a=TX(l.constructor,r)||c;if(null===c&&(c=a),c&&c===a){var u=new c,o=l.byteLength/u.ArrayType.BYTES_PER_ELEMENT;return BX(c,l.constructor)&&(o*=.5),RX.Vector.new(GX.Data.Int(u,0,o,0,null,l))}}if(c)return SX.vectorFromValuesWithType((function(){return new c}),l);if(l instanceof DataView||l instanceof ArrayBuffer)throw new TypeError("Cannot infer integer type from instance of "+l.constructor.name);throw new TypeError("Unrecognized IntVector input")},t}(pf.BaseVector);VX.IntVector=JX;var xX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Int8Vector=xX;var gX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Int16Vector=gX;var HX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Int32Vector=HX;var IX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t.prototype.toBigInt64Array=function(){return LX.toBigInt64Array(this.values)},Object.defineProperty(t.prototype,"values64",{get:function(){return this._values64||(this._values64=this.toBigInt64Array())},enumerable:!1,configurable:!0}),t}(JX);VX.Int64Vector=IX;var UX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Uint8Vector=UX;var KX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Uint16Vector=KX;var NX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t}(JX);VX.Uint32Vector=NX;var kX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WX.__extends(t,e),t.prototype.toBigUint64Array=function(){return LX.toBigUint64Array(this.values)},Object.defineProperty(t.prototype,"values64",{get:function(){return this._values64||(this._values64=this.toBigUint64Array())},enumerable:!1,configurable:!0}),t}(JX);VX.Uint64Vector=kX;var BX=function(e,t){return!(e!==YX.Int64&&e!==YX.Uint64||t!==Int32Array&&t!==Uint32Array)},TX=function(e,t){switch(e){case Int8Array:return YX.Int8;case Int16Array:return YX.Int16;case Int32Array:return t?YX.Int64:YX.Int32;case vX.BigInt64Array:return YX.Int64;case Uint8Array:return YX.Uint8;case Uint16Array:return YX.Uint16;case Uint32Array:return t?YX.Uint64:YX.Uint32;case vX.BigUint64Array:return YX.Uint64;default:return null}},FX=function(e,t){switch(e){case xX:return YX.Int8;case gX:return YX.Int16;case HX:return t?YX.Int64:YX.Int32;case IX:return YX.Int64;case UX:return YX.Uint8;case KX:return YX.Uint16;case NX:return t?YX.Uint64:YX.Uint32;case kX:return YX.Uint64;default:return null}},_X={};Object.defineProperty(_X,"__esModule",{value:!0}),_X.ListVector=void 0;var wX=Ju.exports,CX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wX.__extends(t,e),t}(pf.BaseVector);_X.ListVector=CX;var jX={};Object.defineProperty(jX,"__esModule",{value:!0}),jX.MapVector=void 0;var zX=Ju.exports,MX=ip,QX=to,PX=ho,EX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zX.__extends(t,e),t.prototype.asList=function(){var e=this.type.children[0];return QX.Vector.new(this.data.clone(new PX.List(e)))},t.prototype.bind=function(e){var t=this.getChildAt(0),n=this.valueOffsets,l=n[e],i=n[e+1];return new MX.MapRow(t.slice(l,i))},t}(pf.BaseVector);jX.MapVector=EX;var OX={};Object.defineProperty(OX,"__esModule",{value:!0}),OX.NullVector=void 0;var DX=Ju.exports,AX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return DX.__extends(t,e),t}(pf.BaseVector);OX.NullVector=AX;var qX={};Object.defineProperty(qX,"__esModule",{value:!0}),qX.StructVector=void 0;var $X=Ju.exports,eV=ip,tV=pf,nV=Symbol.for("rowIndex"),lV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $X.__extends(t,e),t.prototype.bind=function(e){var t=this._row||(this._row=new eV.StructRow(this)),n=Object.create(t);return n[nV]=e,n},t}(tV.BaseVector);qX.StructVector=lV;var iV={};Object.defineProperty(iV,"__esModule",{value:!0}),iV.TimestampNanosecondVector=iV.TimestampMicrosecondVector=iV.TimestampMillisecondVector=iV.TimestampSecondVector=iV.TimestampVector=void 0;var rV=Ju.exports,cV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rV.__extends(t,e),t}(pf.BaseVector);iV.TimestampVector=cV;var aV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rV.__extends(t,e),t}(cV);iV.TimestampSecondVector=aV;var uV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rV.__extends(t,e),t}(cV);iV.TimestampMillisecondVector=uV;var oV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rV.__extends(t,e),t}(cV);iV.TimestampMicrosecondVector=oV;var dV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rV.__extends(t,e),t}(cV);iV.TimestampNanosecondVector=dV;var sV={};Object.defineProperty(sV,"__esModule",{value:!0}),sV.TimeNanosecondVector=sV.TimeMicrosecondVector=sV.TimeMillisecondVector=sV.TimeSecondVector=sV.TimeVector=void 0;var mV=Ju.exports,bV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mV.__extends(t,e),t}(pf.BaseVector);sV.TimeVector=bV;var ZV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mV.__extends(t,e),t}(bV);sV.TimeSecondVector=ZV;var pV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mV.__extends(t,e),t}(bV);sV.TimeMillisecondVector=pV;var hV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mV.__extends(t,e),t}(bV);sV.TimeMicrosecondVector=hV;var yV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mV.__extends(t,e),t}(bV);sV.TimeNanosecondVector=yV;var fV={};Object.defineProperty(fV,"__esModule",{value:!0}),fV.SparseUnionVector=fV.DenseUnionVector=fV.UnionVector=void 0;var XV=Ju.exports,VV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XV.__extends(t,e),Object.defineProperty(t.prototype,"typeIdToChildIndex",{get:function(){return this.data.type.typeIdToChildIndex},enumerable:!1,configurable:!0}),t}(pf.BaseVector);fV.UnionVector=VV;var WV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XV.__extends(t,e),Object.defineProperty(t.prototype,"valueOffsets",{get:function(){return this.data.valueOffsets},enumerable:!1,configurable:!0}),t}(VV);fV.DenseUnionVector=WV;var GV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XV.__extends(t,e),t}(VV);fV.SparseUnionVector=GV;var RV={};Object.defineProperty(RV,"__esModule",{value:!0}),RV.Utf8Vector=void 0;var SV=Ju.exports,vV=to,LV=ho,YV=Zf,JV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return SV.__extends(t,e),t.from=function(e){return YV.vectorFromValuesWithType((function(){return new LV.Utf8}),e)},t.prototype.asBinary=function(){return vV.Vector.new(this.data.clone(new LV.Binary))},t}(pf.BaseVector);RV.Utf8Vector=JV;var xV={};Object.defineProperty(xV,"__esModule",{value:!0}),xV.partial2=xV.partial1=xV.partial0=void 0,xV.partial0=function(e){return function(){return e(this)}},xV.partial1=function(e){return function(t){return e(this,t)}},xV.partial2=function(e){return function(t,n){return e(this,t,n)}};var gV={};Object.defineProperty(gV,"__esModule",{value:!0}),gV.instance=gV.GetVisitor=void 0;var HV=Ju.exports,IV=ps,UV=Iu,KV=rs,NV=lo,kV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return HV.__extends(t,e),t}(Om.Visitor);gV.GetVisitor=kV;var BV=function(e,t){return 4294967296*e[t+1]+(e[t]>>>0)},TV=function(e){return new Date(e)},FV=function(e,t,n){var l=t,i=l[n],r=l[n+1];return null!=i&&null!=r?e.subarray(i,r):null},_V=function(e,t){return function(e,t){return TV(function(e,t){return 864e5*e[t]}(e,t))}(e.values,t)},wV=function(e,t){return function(e,t){return TV(BV(e,t))}(e.values,2*t)},CV=function(e,t){var n=e.stride;return e.values[n*t]},jV=function(e,t){var n=e.stride,l=e.values;return KV.uint16ToFloat64(l[n*t])},zV=function(e,t){var n=e.stride,l=e.values,i=e.type;return IV.BN.new(l.subarray(n*t,n*(t+1)),i.isSigned)},MV=function(e,t){var n=e.values;return 1e3*BV(n,2*t)},QV=function(e,t){var n=e.values;return BV(n,2*t)},PV=function(e,t){return function(e,t){return e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3}(e.values,2*t)},EV=function(e,t){return function(e,t){return e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6}(e.values,2*t)},OV=function(e,t){return e.values[e.stride*t]},DV=function(e,t){return e.values[e.stride*t]},AV=function(e,t){var n=e.values;return IV.BN.signed(n.subarray(2*t,2*(t+1)))},qV=function(e,t){var n=e.values;return IV.BN.signed(n.subarray(2*t,2*(t+1)))},$V=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],l=e.getChildAt(n);return l?l.get(e.valueOffsets[t]):null},eW=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],l=e.getChildAt(n);return l?l.get(t):null},tW=function(e,t){return e.values.subarray(2*t,2*(t+1))},nW=function(e,t){var n=e.values[t],l=new Int32Array(2);return l[0]=n/12|0,l[1]=n%12|0,l};kV.prototype.visitNull=function(e,t){return null},kV.prototype.visitBool=function(e,t){var n=e.offset+t;return 0!=(e.values[n>>3]&1<<n%8)},kV.prototype.visitInt=function(e,t){return e.type.bitWidth<64?CV(e,t):zV(e,t)},kV.prototype.visitInt8=CV,kV.prototype.visitInt16=CV,kV.prototype.visitInt32=CV,kV.prototype.visitInt64=zV,kV.prototype.visitUint8=CV,kV.prototype.visitUint16=CV,kV.prototype.visitUint32=CV,kV.prototype.visitUint64=zV,kV.prototype.visitFloat=function(e,t){return e.type.precision!==NV.Precision.HALF?CV(e,t):jV(e,t)},kV.prototype.visitFloat16=jV,kV.prototype.visitFloat32=CV,kV.prototype.visitFloat64=CV,kV.prototype.visitUtf8=function(e,t){var n=e.values,l=e.valueOffsets,i=FV(n,l,t);return null!==i?UV.decodeUtf8(i):null},kV.prototype.visitBinary=function(e,t){var n=e.values,l=e.valueOffsets;return FV(n,l,t)},kV.prototype.visitFixedSizeBinary=function(e,t){var n=e.stride;return e.values.subarray(n*t,n*(t+1))},kV.prototype.visitDate=function(e,t){return e.type.unit===NV.DateUnit.DAY?_V(e,t):wV(e,t)},kV.prototype.visitDateDay=_V,kV.prototype.visitDateMillisecond=wV,kV.prototype.visitTimestamp=function(e,t){switch(e.type.unit){case NV.TimeUnit.SECOND:return MV(e,t);case NV.TimeUnit.MILLISECOND:return QV(e,t);case NV.TimeUnit.MICROSECOND:return PV(e,t);case NV.TimeUnit.NANOSECOND:return EV(e,t)}},kV.prototype.visitTimestampSecond=MV,kV.prototype.visitTimestampMillisecond=QV,kV.prototype.visitTimestampMicrosecond=PV,kV.prototype.visitTimestampNanosecond=EV,kV.prototype.visitTime=function(e,t){switch(e.type.unit){case NV.TimeUnit.SECOND:return OV(e,t);case NV.TimeUnit.MILLISECOND:return DV(e,t);case NV.TimeUnit.MICROSECOND:return AV(e,t);case NV.TimeUnit.NANOSECOND:return qV(e,t)}},kV.prototype.visitTimeSecond=OV,kV.prototype.visitTimeMillisecond=DV,kV.prototype.visitTimeMicrosecond=AV,kV.prototype.visitTimeNanosecond=qV,kV.prototype.visitDecimal=function(e,t){var n=e.values;return IV.BN.decimal(n.subarray(4*t,4*(t+1)))},kV.prototype.visitList=function(e,t){var n=e.getChildAt(0),l=e.valueOffsets,i=e.stride;return n.slice(l[t*i],l[t*i+1])},kV.prototype.visitStruct=function(e,t){return e.bind(t)},kV.prototype.visitUnion=function(e,t){return e.type.mode===NV.UnionMode.Dense?$V(e,t):eW(e,t)},kV.prototype.visitDenseUnion=$V,kV.prototype.visitSparseUnion=eW,kV.prototype.visitDictionary=function(e,t){return e.getValue(e.getKey(t))},kV.prototype.visitInterval=function(e,t){return e.type.unit===NV.IntervalUnit.DAY_TIME?tW(e,t):nW(e,t)},kV.prototype.visitIntervalDayTime=tW,kV.prototype.visitIntervalYearMonth=nW,kV.prototype.visitFixedSizeList=function(e,t){var n=e.getChildAt(0),l=e.stride;return n.slice(t*l,(t+1)*l)},kV.prototype.visitMap=function(e,t){return e.bind(t)},gV.instance=new kV;var lW={};Object.defineProperty(lW,"__esModule",{value:!0}),lW.instance=lW.IndexOfVisitor=void 0;var iW=Ju.exports,rW=ao,cW=lp,aW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iW.__extends(t,e),t}(Om.Visitor);function uW(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){var n,l,i=e.data.nullBitmap;if(!i||e.nullCount<=0)return-1;var r=0;try{for(var c=iW.__values(new rW.BitIterator(i,e.data.offset+(t||0),e.length,i,rW.getBool)),a=c.next();!a.done;a=c.next()){if(!a.value)return r;++r}}catch(u){n={error:u}}finally{try{a&&!a.done&&(l=c.return)&&l.call(c)}finally{if(n)throw n.error}}return-1}(e,n);for(var l=cW.createElementComparator(t),i=(n||0)-1,r=e.length;++i<r;)if(l(e.get(i)))return i;return-1}function oW(e,t,n){for(var l=cW.createElementComparator(t),i=(n||0)-1,r=e.length;++i<r;)if(l(e.get(i)))return i;return-1}lW.IndexOfVisitor=aW,aW.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},aW.prototype.visitBool=uW,aW.prototype.visitInt=uW,aW.prototype.visitInt8=uW,aW.prototype.visitInt16=uW,aW.prototype.visitInt32=uW,aW.prototype.visitInt64=uW,aW.prototype.visitUint8=uW,aW.prototype.visitUint16=uW,aW.prototype.visitUint32=uW,aW.prototype.visitUint64=uW,aW.prototype.visitFloat=uW,aW.prototype.visitFloat16=uW,aW.prototype.visitFloat32=uW,aW.prototype.visitFloat64=uW,aW.prototype.visitUtf8=uW,aW.prototype.visitBinary=uW,aW.prototype.visitFixedSizeBinary=uW,aW.prototype.visitDate=uW,aW.prototype.visitDateDay=uW,aW.prototype.visitDateMillisecond=uW,aW.prototype.visitTimestamp=uW,aW.prototype.visitTimestampSecond=uW,aW.prototype.visitTimestampMillisecond=uW,aW.prototype.visitTimestampMicrosecond=uW,aW.prototype.visitTimestampNanosecond=uW,aW.prototype.visitTime=uW,aW.prototype.visitTimeSecond=uW,aW.prototype.visitTimeMillisecond=uW,aW.prototype.visitTimeMicrosecond=uW,aW.prototype.visitTimeNanosecond=uW,aW.prototype.visitDecimal=uW,aW.prototype.visitList=uW,aW.prototype.visitStruct=uW,aW.prototype.visitUnion=uW,aW.prototype.visitDenseUnion=oW,aW.prototype.visitSparseUnion=oW,aW.prototype.visitDictionary=uW,aW.prototype.visitInterval=uW,aW.prototype.visitIntervalDayTime=uW,aW.prototype.visitIntervalYearMonth=uW,aW.prototype.visitFixedSizeList=uW,aW.prototype.visitMap=uW,lW.instance=new aW;var dW={},sW={};Object.defineProperty(sW,"__esModule",{value:!0}),sW.instance=sW.IteratorVisitor=void 0;var mW=Ju.exports,bW=lo,ZW=ao,pW=gV,hW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mW.__extends(t,e),t}(Om.Visitor);sW.IteratorVisitor=hW;var yW=function(){function e(e,t){this.vector=e,this.getFn=t,this.index=0}return e.prototype.next=function(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}();function fW(e){if(e.nullCount>0)return function(e){var t=pW.instance.getVisitFn(e);return new ZW.BitIterator(e.data.nullBitmap,e.data.offset,e.length,e,(function(e,n,l,i){return 0!=(l&1<<i)?t(e,n):null}))}(e);var t=e.type,n=e.typeId,l=e.length;return 1===e.stride&&(n===bW.Type.Timestamp||n===bW.Type.Int&&64!==t.bitWidth||n===bW.Type.Time&&64!==t.bitWidth||n===bW.Type.Float&&t.precision>0)?e.data.values.subarray(0,l)[Symbol.iterator]():new yW(e,pW.instance.getVisitFn(e))}hW.prototype.visitNull=fW,hW.prototype.visitBool=fW,hW.prototype.visitInt=fW,hW.prototype.visitInt8=fW,hW.prototype.visitInt16=fW,hW.prototype.visitInt32=fW,hW.prototype.visitInt64=fW,hW.prototype.visitUint8=fW,hW.prototype.visitUint16=fW,hW.prototype.visitUint32=fW,hW.prototype.visitUint64=fW,hW.prototype.visitFloat=fW,hW.prototype.visitFloat16=fW,hW.prototype.visitFloat32=fW,hW.prototype.visitFloat64=fW,hW.prototype.visitUtf8=fW,hW.prototype.visitBinary=fW,hW.prototype.visitFixedSizeBinary=fW,hW.prototype.visitDate=fW,hW.prototype.visitDateDay=fW,hW.prototype.visitDateMillisecond=fW,hW.prototype.visitTimestamp=fW,hW.prototype.visitTimestampSecond=fW,hW.prototype.visitTimestampMillisecond=fW,hW.prototype.visitTimestampMicrosecond=fW,hW.prototype.visitTimestampNanosecond=fW,hW.prototype.visitTime=fW,hW.prototype.visitTimeSecond=fW,hW.prototype.visitTimeMillisecond=fW,hW.prototype.visitTimeMicrosecond=fW,hW.prototype.visitTimeNanosecond=fW,hW.prototype.visitDecimal=fW,hW.prototype.visitList=fW,hW.prototype.visitStruct=fW,hW.prototype.visitUnion=fW,hW.prototype.visitDenseUnion=fW,hW.prototype.visitSparseUnion=fW,hW.prototype.visitDictionary=fW,hW.prototype.visitInterval=fW,hW.prototype.visitIntervalDayTime=fW,hW.prototype.visitIntervalYearMonth=fW,hW.prototype.visitFixedSizeList=fW,hW.prototype.visitMap=fW,sW.instance=new hW,Object.defineProperty(dW,"__esModule",{value:!0}),dW.instance=dW.ToArrayVisitor=void 0;var XW=Ju.exports,VW=lo,WW=sW,GW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XW.__extends(t,e),t}(Om.Visitor);function RW(e){var t=e.type,n=e.length,l=e.stride;switch(t.typeId){case VW.Type.Int:case VW.Type.Float:case VW.Type.Decimal:case VW.Type.Time:case VW.Type.Timestamp:return e.data.values.subarray(0,n*l)}return XW.__spread(WW.instance.visit(e))}dW.ToArrayVisitor=GW,GW.prototype.visitNull=RW,GW.prototype.visitBool=RW,GW.prototype.visitInt=RW,GW.prototype.visitInt8=RW,GW.prototype.visitInt16=RW,GW.prototype.visitInt32=RW,GW.prototype.visitInt64=RW,GW.prototype.visitUint8=RW,GW.prototype.visitUint16=RW,GW.prototype.visitUint32=RW,GW.prototype.visitUint64=RW,GW.prototype.visitFloat=RW,GW.prototype.visitFloat16=RW,GW.prototype.visitFloat32=RW,GW.prototype.visitFloat64=RW,GW.prototype.visitUtf8=RW,GW.prototype.visitBinary=RW,GW.prototype.visitFixedSizeBinary=RW,GW.prototype.visitDate=RW,GW.prototype.visitDateDay=RW,GW.prototype.visitDateMillisecond=RW,GW.prototype.visitTimestamp=RW,GW.prototype.visitTimestampSecond=RW,GW.prototype.visitTimestampMillisecond=RW,GW.prototype.visitTimestampMicrosecond=RW,GW.prototype.visitTimestampNanosecond=RW,GW.prototype.visitTime=RW,GW.prototype.visitTimeSecond=RW,GW.prototype.visitTimeMillisecond=RW,GW.prototype.visitTimeMicrosecond=RW,GW.prototype.visitTimeNanosecond=RW,GW.prototype.visitDecimal=RW,GW.prototype.visitList=RW,GW.prototype.visitStruct=RW,GW.prototype.visitUnion=RW,GW.prototype.visitDenseUnion=RW,GW.prototype.visitSparseUnion=RW,GW.prototype.visitDictionary=RW,GW.prototype.visitInterval=RW,GW.prototype.visitIntervalDayTime=RW,GW.prototype.visitIntervalYearMonth=RW,GW.prototype.visitFixedSizeList=RW,GW.prototype.visitMap=RW,dW.instance=new GW;var SW={};Object.defineProperty(SW,"__esModule",{value:!0}),SW.instance=SW.ByteWidthVisitor=void 0;var vW=Ju.exports,LW=lo,YW=function(e,t){return e+t},JW=function(e){return"Cannot compute the byte width of variable-width column "+e},xW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vW.__extends(t,e),t.prototype.visitNull=function(e){return 0},t.prototype.visitInt=function(e){return e.bitWidth/8},t.prototype.visitFloat=function(e){return e.ArrayType.BYTES_PER_ELEMENT},t.prototype.visitBinary=function(e){throw new Error(JW(e))},t.prototype.visitUtf8=function(e){throw new Error(JW(e))},t.prototype.visitBool=function(e){return 1/8},t.prototype.visitDecimal=function(e){return 16},t.prototype.visitDate=function(e){return 4*(e.unit+1)},t.prototype.visitTime=function(e){return e.bitWidth/8},t.prototype.visitTimestamp=function(e){return e.unit===LW.TimeUnit.SECOND?4:8},t.prototype.visitInterval=function(e){return 4*(e.unit+1)},t.prototype.visitList=function(e){throw new Error(JW(e))},t.prototype.visitStruct=function(e){return this.visitFields(e.children).reduce(YW,0)},t.prototype.visitUnion=function(e){return this.visitFields(e.children).reduce(YW,0)},t.prototype.visitFixedSizeBinary=function(e){return e.byteWidth},t.prototype.visitFixedSizeList=function(e){return e.listSize*this.visitFields(e.children).reduce(YW,0)},t.prototype.visitMap=function(e){return this.visitFields(e.children).reduce(YW,0)},t.prototype.visitDictionary=function(e){return this.visit(e.indices)},t.prototype.visitFields=function(e){var t=this;return(e||[]).map((function(e){return t.visit(e.type)}))},t.prototype.visitSchema=function(e){return this.visitFields(e.fields).reduce(YW,0)},t}(Om.Visitor);SW.ByteWidthVisitor=xW,SW.instance=new xW;var gW={};Object.defineProperty(gW,"__esModule",{value:!0}),gW.instance=gW.GetVectorConstructor=void 0;var HW=Ju.exports,IW=Gf,UW=Yf,KW=If,NW=_f,kW=jf,BW=Df,TW=$f,FW=nX,_W=pX,wW=VX,CW=_X,jW=jX,zW=OX,MW=qX,QW=iV,PW=sV,EW=fV,OW=RV,DW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return HW.__extends(t,e),t.prototype.visitNull=function(){return zW.NullVector},t.prototype.visitBool=function(){return UW.BoolVector},t.prototype.visitInt=function(){return wW.IntVector},t.prototype.visitInt8=function(){return wW.Int8Vector},t.prototype.visitInt16=function(){return wW.Int16Vector},t.prototype.visitInt32=function(){return wW.Int32Vector},t.prototype.visitInt64=function(){return wW.Int64Vector},t.prototype.visitUint8=function(){return wW.Uint8Vector},t.prototype.visitUint16=function(){return wW.Uint16Vector},t.prototype.visitUint32=function(){return wW.Uint32Vector},t.prototype.visitUint64=function(){return wW.Uint64Vector},t.prototype.visitFloat=function(){return FW.FloatVector},t.prototype.visitFloat16=function(){return FW.Float16Vector},t.prototype.visitFloat32=function(){return FW.Float32Vector},t.prototype.visitFloat64=function(){return FW.Float64Vector},t.prototype.visitUtf8=function(){return OW.Utf8Vector},t.prototype.visitBinary=function(){return IW.BinaryVector},t.prototype.visitFixedSizeBinary=function(){return BW.FixedSizeBinaryVector},t.prototype.visitDate=function(){return KW.DateVector},t.prototype.visitDateDay=function(){return KW.DateDayVector},t.prototype.visitDateMillisecond=function(){return KW.DateMillisecondVector},t.prototype.visitTimestamp=function(){return QW.TimestampVector},t.prototype.visitTimestampSecond=function(){return QW.TimestampSecondVector},t.prototype.visitTimestampMillisecond=function(){return QW.TimestampMillisecondVector},t.prototype.visitTimestampMicrosecond=function(){return QW.TimestampMicrosecondVector},t.prototype.visitTimestampNanosecond=function(){return QW.TimestampNanosecondVector},t.prototype.visitTime=function(){return PW.TimeVector},t.prototype.visitTimeSecond=function(){return PW.TimeSecondVector},t.prototype.visitTimeMillisecond=function(){return PW.TimeMillisecondVector},t.prototype.visitTimeMicrosecond=function(){return PW.TimeMicrosecondVector},t.prototype.visitTimeNanosecond=function(){return PW.TimeNanosecondVector},t.prototype.visitDecimal=function(){return NW.DecimalVector},t.prototype.visitList=function(){return CW.ListVector},t.prototype.visitStruct=function(){return MW.StructVector},t.prototype.visitUnion=function(){return EW.UnionVector},t.prototype.visitDenseUnion=function(){return EW.DenseUnionVector},t.prototype.visitSparseUnion=function(){return EW.SparseUnionVector},t.prototype.visitDictionary=function(){return kW.DictionaryVector},t.prototype.visitInterval=function(){return _W.IntervalVector},t.prototype.visitIntervalDayTime=function(){return _W.IntervalDayTimeVector},t.prototype.visitIntervalYearMonth=function(){return _W.IntervalYearMonthVector},t.prototype.visitFixedSizeList=function(){return TW.FixedSizeListVector},t.prototype.visitMap=function(){return jW.MapVector},t}(Om.Visitor);gW.GetVectorConstructor=DW,gW.instance=new DW,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.vectorFromValuesWithType=e.StructRow=e.MapRow=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=void 0;var t=Ju.exports,n=to;Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return n.Vector}});var l=pf;Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return l.BaseVector}});var i=Gf;Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return i.BinaryVector}});var r=Yf;Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return r.BoolVector}});var c=np;Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return c.Chunked}});var a=If;Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return a.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return a.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return a.DateMillisecondVector}});var u=_f;Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}});var o=jf;Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return o.DictionaryVector}});var d=Df;Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return d.FixedSizeBinaryVector}});var s=$f;Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return s.FixedSizeListVector}});var m=nX;Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return m.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return m.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return m.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return m.Float64Vector}});var b=pX;Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return b.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return b.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return b.IntervalYearMonthVector}});var Z=VX;Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return Z.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return Z.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return Z.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return Z.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return Z.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return Z.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return Z.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return Z.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return Z.Uint64Vector}});var p=_X;Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return p.ListVector}});var h=jX;Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return h.MapVector}});var y=OX;Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return y.NullVector}});var f=qX;Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return f.StructVector}});var X=iV;Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return X.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return X.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return X.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return X.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return X.TimestampNanosecondVector}});var V=sV;Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return V.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return V.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return V.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return V.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return V.TimeNanosecondVector}});var W=fV;Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return W.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return W.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return W.SparseUnionVector}});var G=RV;Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return G.Utf8Vector}});var R=ip;Object.defineProperty(e,"MapRow",{enumerable:!0,get:function(){return R.MapRow}}),Object.defineProperty(e,"StructRow",{enumerable:!0,get:function(){return R.StructRow}});var S=xV,v=lo,L=to,Y=np,J=pf,x=ao,g=Nu,H=eo,I=gV,U=Em,K=lW,N=dW,k=sW,B=SW,T=gW;L.Vector.new=function(e){for(var n,l=[],i=1;i<arguments.length;i++)l[i-1]=arguments[i];return new((n=T.instance.getVisitFn(e)()).bind.apply(n,t.__spread([void 0,e],l)))},L.Vector.from=function(e){var n=this,l=t.__assign({nullValues:[null,void 0]},e),i=l.values,r=void 0===i?[]:i,c=t.__rest(l,["values"]);if(g.isIterable(r)){var a=t.__spread(H.Builder.throughIterable(c)(r));return 1===a.length?a[0]:Y.Chunked.concat(a)}return u=[],t.__awaiter(n,void 0,void 0,(function(){var e,n,l,i,a,o,d;return t.__generator(this,(function(s){switch(s.label){case 0:e=H.Builder.throughAsyncIterable(c),s.label=1;case 1:s.trys.push([1,6,7,12]),n=t.__asyncValues(e(r)),s.label=2;case 2:return[4,n.next()];case 3:if((l=s.sent()).done)return[3,5];i=l.value,u.push(i),s.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return a=s.sent(),o={error:a},[3,12];case 7:return s.trys.push([7,,10,11]),l&&!l.done&&(d=n.return)?[4,d.call(n)]:[3,9];case 8:s.sent(),s.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:return[2,1===u.length?u[0]:Y.Chunked.concat(u)]}}))}));var u},e.vectorFromValuesWithType=function(e,n){if(g.isIterable(n))return L.Vector.from({nullValues:[null,void 0],type:e(),values:n});if(g.isAsyncIterable(n))return L.Vector.from({nullValues:[null,void 0],type:e(),values:n});var l=t.__assign({},n),i=l.values,r=void 0===i?[]:i,c=l.type,a=void 0===c?e():c,u=l.nullValues,o=void 0===u?[null,void 0]:u;return g.isIterable(r),L.Vector.from(t.__assign(t.__assign({nullValues:o},n),{type:a}))},J.BaseVector.prototype.get=function(e){return I.instance.visit(this,e)},J.BaseVector.prototype.set=function(e,t){return U.instance.visit(this,e,t)},J.BaseVector.prototype.indexOf=function(e,t){return K.instance.visit(this,e,t)},J.BaseVector.prototype.toArray=function(){return N.instance.visit(this)},J.BaseVector.prototype.getByteWidth=function(){return B.instance.visit(this.type)},J.BaseVector.prototype[Symbol.iterator]=function(){return k.instance.visit(this)},J.BaseVector.prototype._bindDataAccessors=function(){var e=this.nullBitmap;e&&e.byteLength>0&&(this.get=(t=this.get,function(e){return this.isValid(e)?t.call(this,e):null}),this.set=function(e){return function(t,n){x.setBool(this.nullBitmap,this.offset+t,!(null==n))&&e.call(this,t,n)}}(this.set));var t},Object.keys(v.Type).map((function(e){return v.Type[e]})).filter((function(e){return"number"==typeof e})).filter((function(e){return e!==v.Type.NONE})).forEach((function(e){var t,n=T.instance.visit(e);n.prototype.get=S.partial1(I.instance.getVisitFn(e)),n.prototype.set=S.partial2(U.instance.getVisitFn(e)),n.prototype.indexOf=S.partial2(K.instance.getVisitFn(e)),n.prototype.toArray=S.partial0(N.instance.getVisitFn(e)),n.prototype.getByteWidth=(t=B.instance.getVisitFn(e),function(){return t(this.type)}),n.prototype[Symbol.iterator]=S.partial0(k.instance.getVisitFn(e))}))}(Zf),Object.defineProperty(ep,"__esModule",{value:!0}),ep.Table=void 0;var AW=Ju.exports,qW=tp,$W=Db,eG=ch,tG=$Z,nG=sm,lG=ho,iG=Jp,rG=Nu,cG=lf,aG=Zf,uG=function(e){function t(){for(var n,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var r=this,c=null;l[0]instanceof nG.Schema&&(c=l[0]);var a=l[0]instanceof t?l[0].chunks:iG.selectArgs(tG.RecordBatch,l);if(!c&&!(c=null===(n=a[0])||void 0===n?void 0:n.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");return a[0]||(a[0]=new tG._InternalEmptyPlaceholderRecordBatch(c)),(r=e.call(this,new lG.Struct(c.fields),a)||this)._schema=c,r._chunks=a,r}return AW.__extends(t,e),t.empty=function(e){return void 0===e&&(e=new nG.Schema([])),new t(e,[])},t.from=function(e){var n=this;if(!e)return t.empty();if("object"==typeof e){var l=rG.isIterable(e.values)?function(e){if(e.type instanceof lG.Struct)return uG.fromStruct(aG.StructVector.from(e));return null}(e):rG.isAsyncIterable(e.values)?function(e){if(e.type instanceof lG.Struct)return aG.StructVector.from(e).then((function(e){return uG.fromStruct(e)}));return null}(e):null;if(null!==l)return l}var i,r=$W.RecordBatchReader.from(e);return rG.isPromise(r)?AW.__awaiter(n,void 0,void 0,(function(){var e,n;return AW.__generator(this,(function(l){switch(l.label){case 0:return n=(e=t).from,[4,r];case 1:return[4,n.apply(e,[l.sent()])];case 2:return[2,l.sent()]}}))})):r.isSync()&&(r=r.open())?r.schema?new t(r.schema,AW.__spread(r)):t.empty():(i=r.open(),AW.__awaiter(n,void 0,void 0,(function(){var e,n,l,r,c,a,u,o,d;return AW.__generator(this,(function(s){switch(s.label){case 0:return[4,i];case 1:if(e=s.sent(),n=e.schema,l=[],!n)return[3,14];s.label=2;case 2:s.trys.push([2,7,8,13]),r=AW.__asyncValues(e),s.label=3;case 3:return[4,r.next()];case 4:if((c=s.sent()).done)return[3,6];a=c.value,l.push(a),s.label=5;case 5:return[3,3];case 6:return[3,13];case 7:return u=s.sent(),o={error:u},[3,13];case 8:return s.trys.push([8,,11,12]),c&&!c.done&&(d=r.return)?[4,d.call(r)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:if(o)throw o.error;return[7];case 12:return[7];case 13:return[2,new t(n,l)];case 14:return[2,t.empty()]}}))})))},t.fromAsync=function(e){return AW.__awaiter(this,void 0,void 0,(function(){return AW.__generator(this,(function(n){switch(n.label){case 0:return[4,t.from(e)];case 1:return[2,n.sent()]}}))}))},t.fromStruct=function(e){return t.new(e.data.childData,e.type.children)},t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,AW.__spread([void 0],cG.distributeColumnsIntoRecordBatches(iG.selectColumnArgs(e)))))},Object.defineProperty(t.prototype,"schema",{get:function(){return this._schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chunks",{get:function(){return this._chunks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._numChildren},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._schema,e)},t.prototype.getColumn=function(e){return this.getColumnAt(this.getColumnIndex(e))},t.prototype.getColumnAt=function(e){return this.getChildAt(e)},t.prototype.getColumnIndex=function(e){return this._schema.fields.findIndex((function(t){return t.name===e}))},t.prototype.getChildAt=function(e){if(e<0||e>=this.numChildren)return null;var t,n,l=this._schema.fields,i=this._children||(this._children=[]);if(n=i[e])return n;if(t=l[e]){var r=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}));if(r.length>0)return i[e]=new qW.Column(t,r)}return null},t.prototype.serialize=function(e,t){return void 0===t&&(t=!0),(t?eG.RecordBatchStreamWriter:eG.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)},t.prototype.count=function(){return this._length},t.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt.apply(this,AW.__spread(e.map((function(e){return n.get(e)})).filter((function(e){return e>-1}))))},t.prototype.selectAt=function(){for(var e,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var i=(e=this._schema).selectAt.apply(e,AW.__spread(n));return new t(i,this._chunks.map((function(e){var t=e.length,l=e.data.childData;return new tG.RecordBatch(i,t,n.map((function(e){return l[e]})).filter(Boolean))})))},t.prototype.assign=function(e){var n=this,l=this._schema.fields,i=AW.__read(e.schema.fields.reduce((function(e,t,n){var i=AW.__read(e,2),r=i[0],c=i[1],a=l.findIndex((function(e){return e.name===t.name}));return~a?c[a]=n:r.push(n),e}),[[],[]]),2),r=i[0],c=i[1],a=this._schema.assign(e.schema),u=AW.__spread(l.map((function(t,l,i,r){return void 0===r&&(r=c[l]),void 0===r?n.getColumnAt(l):e.getColumnAt(r)})),r.map((function(t){return e.getColumnAt(t)}))).filter(Boolean);return new(t.bind.apply(t,AW.__spread([void 0],cG.distributeVectorsIntoRecordBatches(a,u))))},t}(aG.Chunked);ep.Table=uG,Object.defineProperty($Z,"__esModule",{value:!0}),$Z._InternalEmptyPlaceholderRecordBatch=$Z.RecordBatch=void 0;var oG=Ju.exports,dG=co,sG=ep,mG=to,bG=Om,ZG=sm,pG=Nu,hG=np,yG=Jp,fG=ho,XG=lf,VG=function(e){function t(){for(var t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var i,r,c=this,a=n[0];if(n[1]instanceof dG.Data)i=(t=oG.__read(n,3))[1],r=t[2];else{var u=a.fields,o=oG.__read(n,3),d=o[1],s=o[2];i=dG.Data.Struct(new fG.Struct(u),0,d,0,null,s)}return(c=e.call(this,i,r)||this)._schema=a,c}return oG.__extends(t,e),t.from=function(e){return pG.isIterable(e.values),sG.Table.from(e)},t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=oG.__read(yG.selectFieldArgs(e),2),i=l[0],r=l[1],c=r.filter((function(e){return e instanceof mG.Vector}));return new(t.bind.apply(t,oG.__spread([void 0],XG.ensureSameLengthData(new ZG.Schema(i),c.map((function(e){return e.data}))))))},t.prototype.clone=function(e,n){return void 0===n&&(n=this._children),new t(this._schema,e,n)},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=this._schema,i=hG.Chunked.flatten.apply(hG.Chunked,oG.__spread([this],e));return new sG.Table(l,i.map((function(e){var n=e.data;return new t(l,n)})))},Object.defineProperty(t.prototype,"schema",{get:function(){return this._schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._schema.fields.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionaries",{get:function(){return this._dictionaries||(this._dictionaries=GG.collect(this))},enumerable:!1,configurable:!0}),t.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt.apply(this,oG.__spread(e.map((function(e){return n.get(e)})).filter((function(e){return e>-1}))))},t.prototype.selectAt=function(){for(var e,n=this,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var r=(e=this._schema).selectAt.apply(e,oG.__spread(l)),c=l.map((function(e){return n.data.childData[e]})).filter(Boolean);return new t(r,this.length,c)},t}(Zf.StructVector);$Z.RecordBatch=VG;var WG=function(e){function t(t){return e.call(this,t,0,t.fields.map((function(e){return dG.Data.new(e.type,0,0,0)})))||this}return oG.__extends(t,e),t}(VG);$Z._InternalEmptyPlaceholderRecordBatch=WG;var GG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dictionaries=new Map,t}return oG.__extends(t,e),t.collect=function(e){return(new t).visit(e.data,new fG.Struct(e.schema.fields)).dictionaries},t.prototype.visit=function(e,t){var n=this;return fG.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((function(e,l){return n.visit(e,t.children[l].type)})),this)},t.prototype.visitDictionary=function(e,t){var n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(t.id,n),this},t}(bG.Visitor);Object.defineProperty(Db,"__esModule",{value:!0}),Db.AsyncRecordBatchFileReader=Db.RecordBatchFileReader=Db.AsyncRecordBatchStreamReader=Db.RecordBatchStreamReader=Db.RecordBatchReader=void 0;var RG=Ju.exports,SG=to,vG=lo,LG=Ab,YG=Yu,JG=pZ,xG=YZ,gG=UZ,HG=$Z,IG=ku,UG=ah,KG=Nu,NG=function(e){function t(t){var n=e.call(this)||this;return n._impl=t,n}return RG.__extends(t,e),Object.defineProperty(t.prototype,"closed",{get:function(){return this._impl.closed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this._impl.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoDestroy",{get:function(){return this._impl.autoDestroy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionaries",{get:function(){return this._impl.dictionaries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._impl.numDictionaries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._impl.numRecordBatches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._impl.isFile()?this._impl.footer:null},enumerable:!1,configurable:!0}),t.prototype.isSync=function(){return this._impl.isSync()},t.prototype.isAsync=function(){return this._impl.isAsync()},t.prototype.isFile=function(){return this._impl.isFile()},t.prototype.isStream=function(){return this._impl.isStream()},t.prototype.next=function(){return this._impl.next()},t.prototype.throw=function(e){return this._impl.throw(e)},t.prototype.return=function(e){return this._impl.return(e)},t.prototype.cancel=function(){return this._impl.cancel()},t.prototype.reset=function(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this},t.prototype.open=function(e){var t=this,n=this._impl.open(e);return KG.isPromise(n)?n.then((function(){return t})):this},t.prototype.readRecordBatch=function(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null},t.prototype[Symbol.iterator]=function(){return this._impl[Symbol.iterator]()},t.prototype[Symbol.asyncIterator]=function(){return this._impl[Symbol.asyncIterator]()},t.prototype.toDOMStream=function(){var e,t,n=this;return YG.default.toDOMStream(this.isSync()?((e={})[Symbol.iterator]=function(){return n},e):((t={})[Symbol.asyncIterator]=function(){return n},t))},t.prototype.toNodeStream=function(){var e,t,n=this;return YG.default.toNodeStream(this.isSync()?((e={})[Symbol.iterator]=function(){return n},e):((t={})[Symbol.asyncIterator]=function(){return n},t),{objectMode:!0})},t.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},t.throughDOM=function(e,t){throw new Error('"throughDOM" not available in this environment')},t.from=function(e){var n=this;return e instanceof t?e:KG.isArrowJSON(e)?function(e){return new kG(new MG(e))}(e):KG.isFileHandle(e)?function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n,l;return RG.__generator(this,(function(i){switch(i.label){case 0:return[4,e.stat()];case 1:return t=i.sent().size,n=new xG.AsyncRandomAccessFile(e,t),t>=UG.magicX2AndPadding?(l=UG.checkForMagicArrowString,[4,n.readAt(0,UG.magicLength+7&-8)]):[3,3];case 2:if(l.apply(void 0,[i.sent()]))return[2,new FG(new zG(n))];i.label=3;case 3:return[2,new BG(new CG(n))]}}))}))}(e):KG.isPromise(e)?RG.__awaiter(n,void 0,void 0,(function(){var n,l;return RG.__generator(this,(function(i){switch(i.label){case 0:return l=(n=t).from,[4,e];case 1:return[4,l.apply(n,[i.sent()])];case 2:return[2,i.sent()]}}))})):KG.isFetchResponse(e)||KG.isReadableDOMStream(e)||KG.isReadableNodeStream(e)||KG.isAsyncIterable(e)?function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r;return RG.__generator(this,(function(c){switch(c.label){case 0:return[4,e.peek(UG.magicLength+7&-8)];case 1:return(t=c.sent())&&t.byteLength>=4?UG.checkForMagicArrowString(t)?[3,2]:(l=new BG(new CG(e)),[3,4]):[3,5];case 2:return i=TG.bind,r=jG.bind,[4,e.read()];case 3:l=new(i.apply(TG,[void 0,new(r.apply(jG,[void 0,c.sent()]))])),c.label=4;case 4:return n=l,[3,6];case 5:n=new BG(new CG(function(){return RG.__asyncGenerator(this,arguments,(function(){return RG.__generator(this,(function(e){return[2]}))}))}())),c.label=6;case 6:return[2,n]}}))}))}(new JG.AsyncByteStream(e)):function(e){var t=e.peek(UG.magicLength+7&-8);return t&&t.byteLength>=4?UG.checkForMagicArrowString(t)?new TG(new jG(e.read())):new kG(new wG(e)):new kG(new wG(function(){return RG.__generator(this,(function(e){return[2]}))}()))}(new JG.ByteStream(e))},t.readAll=function(e){return e instanceof t?e.isSync()?PG(e):EG(e):KG.isArrowJSON(e)||ArrayBuffer.isView(e)||KG.isIterable(e)||KG.isIteratorResult(e)?PG(e):EG(e)},t}(IG.ReadableInterop);Db.RecordBatchReader=NG;var kG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return RG.__extends(t,e),t.prototype[Symbol.iterator]=function(){return this._impl[Symbol.iterator]()},t.prototype[Symbol.asyncIterator]=function(){return RG.__asyncGenerator(this,arguments,(function(){return RG.__generator(this,(function(e){switch(e.label){case 0:return[5,RG.__values(RG.__asyncDelegator(RG.__asyncValues(this[Symbol.iterator]())))];case 1:return[4,RG.__await.apply(void 0,[e.sent()])];case 2:return e.sent(),[2]}}))}))},t}(NG);Db.RecordBatchStreamReader=kG;var BG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return RG.__extends(t,e),t.prototype[Symbol.iterator]=function(){throw new Error("AsyncRecordBatchStreamReader is not Iterable")},t.prototype[Symbol.asyncIterator]=function(){return this._impl[Symbol.asyncIterator]()},t}(NG);Db.AsyncRecordBatchStreamReader=BG;var TG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return RG.__extends(t,e),t}(kG);Db.RecordBatchFileReader=TG;var FG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return RG.__extends(t,e),t}(BG);Db.AsyncRecordBatchFileReader=FG;var _G=function(){function e(e){void 0===e&&(e=new Map),this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}return Object.defineProperty(e.prototype,"numDictionaries",{get:function(){return this._dictionaryIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numRecordBatches",{get:function(){return this._recordBatchIndex},enumerable:!1,configurable:!0}),e.prototype.isSync=function(){return!1},e.prototype.isAsync=function(){return!1},e.prototype.isFile=function(){return!1},e.prototype.isStream=function(){return!1},e.prototype.reset=function(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this},e.prototype._loadRecordBatch=function(e,t){return new HG.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))},e.prototype._loadDictionaryBatch=function(e,t){var n=e.id,l=e.isDelta,i=e.data,r=this.dictionaries,c=this.schema,a=r.get(n);if(l||!a){var u=c.dictionaries.get(n);return a&&l?a.concat(SG.Vector.new(this._loadVectors(i,t,[u])[0])):SG.Vector.new(this._loadVectors(i,t,[u])[0])}return a},e.prototype._loadVectors=function(e,t,n){return new gG.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)},e}(),wG=function(e){function t(t,n){var l=e.call(this,n)||this;return l._reader=KG.isArrowJSON(t)?new UG.JSONMessageReader(l._handle=t):new UG.MessageReader(l._handle=t),l}return RG.__extends(t,e),t.prototype.isSync=function(){return!0},t.prototype.isStream=function(){return!0},t.prototype[Symbol.iterator]=function(){return this},t.prototype.cancel=function(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)},t.prototype.open=function(e){return this.closed||(this.autoDestroy=QG(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this},t.prototype.throw=function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):IG.ITERATOR_DONE},t.prototype.return=function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):IG.ITERATOR_DONE},t.prototype.next=function(){if(this.closed)return IG.ITERATOR_DONE;for(var e,t=this._reader;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;var n=e.header(),l=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,l)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;n=e.header(),l=t.readMessageBody(e.bodyLength);var i=this._loadDictionaryBatch(n,l);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new HG._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()},t.prototype._readNextMessageAndValidate=function(e){return this._reader.readMessage(e)},t}(_G),CG=function(e){function t(t,n){var l=e.call(this,n)||this;return l._reader=new UG.AsyncMessageReader(l._handle=t),l}return RG.__extends(t,e),t.prototype.isAsync=function(){return!0},t.prototype.isStream=function(){return!0},t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.cancel=function(){return RG.__awaiter(this,void 0,void 0,(function(){return RG.__generator(this,(function(e){switch(e.label){case 0:return this.closed||!(this.closed=!0)?[3,2]:[4,this.reset()._reader.return()];case 1:e.sent(),this._reader=null,this.dictionaries=null,e.label=2;case 2:return[2]}}))}))},t.prototype.open=function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n;return RG.__generator(this,(function(l){switch(l.label){case 0:return this.closed?[3,4]:(this.autoDestroy=QG(this,e),(t=this.schema)?[3,2]:(n=this,[4,this._reader.readSchema()]));case 1:t=n.schema=l.sent(),l.label=2;case 2:return t?[3,4]:[4,this.cancel()];case 3:l.sent(),l.label=4;case 4:return[2,this]}}))}))},t.prototype.throw=function(e){return RG.__awaiter(this,void 0,void 0,(function(){return RG.__generator(this,(function(t){switch(t.label){case 0:return!this.closed&&this.autoDestroy&&(this.closed=!0)?[4,this.reset()._reader.throw(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,IG.ITERATOR_DONE]}}))}))},t.prototype.return=function(e){return RG.__awaiter(this,void 0,void 0,(function(){return RG.__generator(this,(function(t){switch(t.label){case 0:return!this.closed&&this.autoDestroy&&(this.closed=!0)?[4,this.reset()._reader.return(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,IG.ITERATOR_DONE]}}))}))},t.prototype.next=function(){return RG.__awaiter(this,void 0,void 0,(function(){var e,t,n,l,i;return RG.__generator(this,(function(r){switch(r.label){case 0:if(this.closed)return[2,IG.ITERATOR_DONE];t=this._reader,r.label=1;case 1:return[4,this._readNextMessageAndValidate()];case 2:return(e=r.sent())?e.isSchema()?[4,this.reset(e.header())]:[3,4]:[3,9];case 3:return r.sent(),[3,8];case 4:return e.isRecordBatch()?(this._recordBatchIndex++,n=e.header(),[4,t.readMessageBody(e.bodyLength)]):[3,6];case 5:return l=r.sent(),[2,{done:!1,value:this._loadRecordBatch(n,l)}];case 6:return e.isDictionaryBatch()?(this._dictionaryIndex++,n=e.header(),[4,t.readMessageBody(e.bodyLength)]):[3,8];case 7:l=r.sent(),i=this._loadDictionaryBatch(n,l),this.dictionaries.set(n.id,i),r.label=8;case 8:return[3,1];case 9:return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,[2,{done:!1,value:new HG._InternalEmptyPlaceholderRecordBatch(this.schema)}]):[4,this.return()];case 10:return[2,r.sent()]}}))}))},t.prototype._readNextMessageAndValidate=function(e){return RG.__awaiter(this,void 0,void 0,(function(){return RG.__generator(this,(function(t){switch(t.label){case 0:return[4,this._reader.readMessage(e)];case 1:return[2,t.sent()]}}))}))},t}(_G),jG=function(e){function t(t,n){return e.call(this,t instanceof xG.RandomAccessFile?t:new xG.RandomAccessFile(t),n)||this}return RG.__extends(t,e),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer?this._footer.numDictionaries:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer?this._footer.numRecordBatches:0},enumerable:!1,configurable:!0}),t.prototype.isSync=function(){return!0},t.prototype.isFile=function(){return!0},t.prototype.open=function(t){var n,l;if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;try{for(var i=RG.__values(this._footer.dictionaryBatches()),r=i.next();!r.done;r=i.next()){r.value&&this._readDictionaryBatch(this._dictionaryIndex++)}}catch(c){n={error:c}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(n)throw n.error}}}return e.prototype.open.call(this,t)},t.prototype.readRecordBatch=function(e){if(this.closed)return null;this._footer||this.open();var t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(vG.MessageHeader.RecordBatch);if(null==n?void 0:n.isRecordBatch()){var l=n.header(),i=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(l,i)}}return null},t.prototype._readDictionaryBatch=function(e){var t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(vG.MessageHeader.DictionaryBatch);if(null==n?void 0:n.isDictionaryBatch()){var l=n.header(),i=this._reader.readMessageBody(n.bodyLength),r=this._loadDictionaryBatch(l,i);this.dictionaries.set(l.id,r)}}},t.prototype._readFooter=function(){var e=this._handle,t=e.size-UG.magicAndPadding,n=e.readInt32(t),l=e.readAt(t-n,n);return LG.Footer.decode(l)},t.prototype._readNextMessageAndValidate=function(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){var t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null},t}(wG),zG=function(e){function t(t){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];var i="number"!=typeof n[0]?n.shift():void 0,r=n[0]instanceof Map?n.shift():void 0;return e.call(this,t instanceof xG.AsyncRandomAccessFile?t:new xG.AsyncRandomAccessFile(t,i),r)||this}return RG.__extends(t,e),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer?this._footer.numDictionaries:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer?this._footer.numRecordBatches:0},enumerable:!1,configurable:!0}),t.prototype.isFile=function(){return!0},t.prototype.isAsync=function(){return!0},t.prototype.open=function(t){return RG.__awaiter(this,void 0,void 0,(function(){var n,l,i,r,c,a,u,o;return RG.__generator(this,(function(d){switch(d.label){case 0:return this.closed||this._footer?[3,10]:(n=this,l=this,[4,this._readFooter()]);case 1:n.schema=(l._footer=d.sent()).schema,d.label=2;case 2:d.trys.push([2,8,9,10]),i=RG.__values(this._footer.dictionaryBatches()),r=i.next(),d.label=3;case 3:return r.done?[3,7]:(c=r.value,c?[4,this._readDictionaryBatch(this._dictionaryIndex++)]:[3,5]);case 4:d.sent(),d.label=5;case 5:d.label=6;case 6:return r=i.next(),[3,3];case 7:return[3,10];case 8:return a=d.sent(),u={error:a},[3,10];case 9:try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(u)throw u.error}return[7];case 10:return[4,e.prototype.open.call(this,t)];case 11:return[2,d.sent()]}}))}))},t.prototype.readRecordBatch=function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r;return RG.__generator(this,(function(c){switch(c.label){case 0:return this.closed?[2,null]:this._footer?[3,2]:[4,this.open()];case 1:c.sent(),c.label=2;case 2:return t=this._footer&&this._footer.getRecordBatch(e),(n=t)?[4,this._handle.seek(t.offset)]:[3,4];case 3:n=c.sent(),c.label=4;case 4:return n?[4,this._reader.readMessage(vG.MessageHeader.RecordBatch)]:[3,7];case 5:return(null==(l=c.sent())?void 0:l.isRecordBatch())?(i=l.header(),[4,this._reader.readMessageBody(l.bodyLength)]):[3,7];case 6:return r=c.sent(),[2,this._loadRecordBatch(i,r)];case 7:return[2,null]}}))}))},t.prototype._readDictionaryBatch=function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r,c;return RG.__generator(this,(function(a){switch(a.label){case 0:return t=this._footer&&this._footer.getDictionaryBatch(e),(n=t)?[4,this._handle.seek(t.offset)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return n?[4,this._reader.readMessage(vG.MessageHeader.DictionaryBatch)]:[3,5];case 3:return(null==(l=a.sent())?void 0:l.isDictionaryBatch())?(i=l.header(),[4,this._reader.readMessageBody(l.bodyLength)]):[3,5];case 4:r=a.sent(),c=this._loadDictionaryBatch(i,r),this.dictionaries.set(i.id,c),a.label=5;case 5:return[2]}}))}))},t.prototype._readFooter=function(){return RG.__awaiter(this,void 0,void 0,(function(){var e,t,n,l;return RG.__generator(this,(function(i){switch(i.label){case 0:return e=this._handle,e._pending?[4,e._pending]:[3,2];case 1:i.sent(),i.label=2;case 2:return t=e.size-UG.magicAndPadding,[4,e.readInt32(t)];case 3:return n=i.sent(),[4,e.readAt(t-n,n)];case 4:return l=i.sent(),[2,LG.Footer.decode(l)]}}))}))},t.prototype._readNextMessageAndValidate=function(e){return RG.__awaiter(this,void 0,void 0,(function(){var t,n;return RG.__generator(this,(function(l){switch(l.label){case 0:return this._footer?[3,2]:[4,this.open()];case 1:l.sent(),l.label=2;case 2:return this._footer&&this._recordBatchIndex<this.numRecordBatches?(t=this._footer.getRecordBatch(this._recordBatchIndex),(n=t)?[4,this._handle.seek(t.offset)]:[3,4]):[3,6];case 3:n=l.sent(),l.label=4;case 4:return n?[4,this._reader.readMessage(e)]:[3,6];case 5:return[2,l.sent()];case 6:return[2,null]}}))}))},t}(CG),MG=function(e){function t(t,n){return e.call(this,t,n)||this}return RG.__extends(t,e),t.prototype._loadVectors=function(e,t,n){return new gG.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)},t}(wG);function QG(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function PG(e){var t;return RG.__generator(this,(function(n){switch(n.label){case 0:t=NG.from(e),n.label=1;case 1:if(n.trys.push([1,,6,7]),t.open({autoDestroy:!1}).closed)return[3,5];n.label=2;case 2:return[4,t];case 3:n.sent(),n.label=4;case 4:if(!t.reset().open().closed)return[3,2];n.label=5;case 5:return[3,7];case 6:return t.cancel(),[7];case 7:return[2]}}))}function EG(e){return RG.__asyncGenerator(this,arguments,(function(){var t;return RG.__generator(this,(function(n){switch(n.label){case 0:return[4,RG.__await(NG.from(e))];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,,10,12]),[4,RG.__await(t.open({autoDestroy:!1}))];case 3:if(n.sent().closed)return[3,9];n.label=4;case 4:return[4,RG.__await(t)];case 5:return[4,n.sent()];case 6:n.sent(),n.label=7;case 7:return[4,RG.__await(t.reset().open())];case 8:if(!n.sent().closed)return[3,4];n.label=9;case 9:return[3,12];case 10:return[4,RG.__await(t.cancel())];case 11:return n.sent(),[7];case 12:return[2]}}))}))}var OG={};Object.defineProperty(OG,"__esModule",{value:!0}),OG.toDOMStream=void 0;var DG=Ju.exports,AG=xu,qG=Nu;OG.toDOMStream=function(e,t){if(qG.isAsyncIterable(e))return function(e,t){var n=null,l="bytes"===(null==t?void 0:t.type)||!1,i=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(DG.__assign(DG.__assign({},t),{start:function(t){return DG.__awaiter(this,void 0,void 0,(function(){return DG.__generator(this,(function(l){switch(l.label){case 0:return[4,r(t,n||(n=e[Symbol.asyncIterator]()))];case 1:return l.sent(),[2]}}))}))},pull:function(e){return DG.__awaiter(this,void 0,void 0,(function(){return DG.__generator(this,(function(t){switch(t.label){case 0:return n?[4,r(e,n)]:[3,2];case 1:return t.sent(),[3,3];case 2:e.close(),t.label=3;case 3:return[2]}}))}))},cancel:function(){return DG.__awaiter(this,void 0,void 0,(function(){return DG.__generator(this,(function(e){switch(e.label){case 0:return(null==n?void 0:n.return)?[4,n.return()]:[3,2];case 1:e.sent(),e.label=2;case 2:return n=null,[2]}}))}))}}),DG.__assign({highWaterMark:l?i:void 0},t));function r(e,t){return DG.__awaiter(this,void 0,void 0,(function(){var n,i,r;return DG.__generator(this,(function(c){switch(c.label){case 0:i=null,r=e.desiredSize||null,c.label=1;case 1:return[4,t.next(l?r:null)];case 2:return(i=c.sent()).done?[3,3]:(ArrayBuffer.isView(i.value)&&(n=AG.toUint8Array(i.value))&&(null!=r&&l&&(r=r-n.byteLength+1),i.value=n),e.enqueue(i.value),null!=r&&--r<=0?[2]:[3,1]);case 3:return e.close(),[2]}}))}))}}(e,t);if(qG.isIterable(e))return function(e,t){var n=null,l="bytes"===(null==t?void 0:t.type)||!1,i=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(DG.__assign(DG.__assign({},t),{start:function(t){r(t,n||(n=e[Symbol.iterator]()))},pull:function(e){n?r(e,n):e.close()},cancel:function(){(null==n?void 0:n.return)&&n.return(),n=null}}),DG.__assign({highWaterMark:l?i:void 0},t));function r(e,t){for(var n,i=null,r=e.desiredSize||null;!(i=t.next(l?r:null)).done;)if(ArrayBuffer.isView(i.value)&&(n=AG.toUint8Array(i.value))&&(null!=r&&l&&(r=r-n.byteLength+1),i.value=n),e.enqueue(i.value),null!=r&&--r<=0)return;e.close()}}(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")};var $G={};Object.defineProperty($G,"__esModule",{value:!0}),$G.BuilderTransform=$G.builderThroughDOMStream=void 0;var eR=Ju.exports,tR=$u;$G.builderThroughDOMStream=function(e){return new nR(e)};var nR=function(){function e(e){var t,n,l=this;this._numChunks=0,this._finished=!1,this._bufferedSize=0;var i=e.readableStrategy,r=e.writableStrategy,c=e.queueingStrategy,a=void 0===c?"count":c,u=eR.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=tR.Builder.new(u),this._getSize="bytes"!==a?lR:iR;var o=eR.__assign({},i).highWaterMark,d=void 0===o?"bytes"===a?Math.pow(2,14):1e3:o,s=eR.__assign({},r).highWaterMark,m=void 0===s?"bytes"===a?Math.pow(2,14):1e3:s;this.readable=new ReadableStream(((t={}).cancel=function(){l._builder.clear()},t.pull=function(e){l._maybeFlush(l._builder,l._controller=e)},t.start=function(e){l._maybeFlush(l._builder,l._controller=e)},t),{highWaterMark:d,size:"bytes"!==a?lR:iR}),this.writable=new WritableStream(((n={}).abort=function(){l._builder.clear()},n.write=function(){l._maybeFlush(l._builder,l._controller)},n.close=function(){l._maybeFlush(l._builder.finish(),l._controller)},n),{highWaterMark:m,size:function(e){return l._writeValueAndReturnChunkSize(e)}})}return e.prototype._writeValueAndReturnChunkSize=function(e){var t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t},e.prototype._maybeFlush=function(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))},e.prototype._enqueue=function(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)},e}();$G.BuilderTransform=nR;var lR=function(e){return e.length},iR=function(e){return e.byteLength},rR={};Object.defineProperty(rR,"__esModule",{value:!0}),rR.recordBatchReaderThroughDOMStream=void 0;var cR=Ju.exports,aR=pZ,uR=Db;rR.recordBatchReaderThroughDOMStream=function(e,t){var n=new aR.AsyncByteQueue,l=null,i=new ReadableStream({cancel:function(){return cR.__awaiter(this,void 0,void 0,(function(){return cR.__generator(this,(function(e){switch(e.label){case 0:return[4,n.close()];case 1:return e.sent(),[2]}}))}))},start:function(e){return cR.__awaiter(this,void 0,void 0,(function(){var t,n,i;return cR.__generator(this,(function(a){switch(a.label){case 0:return t=c,n=[e],(i=l)?[3,2]:[4,r()];case 1:i=l=a.sent(),a.label=2;case 2:return[4,t.apply(void 0,n.concat([i]))];case 3:return a.sent(),[2]}}))}))},pull:function(e){return cR.__awaiter(this,void 0,void 0,(function(){return cR.__generator(this,(function(t){switch(t.label){case 0:return l?[4,c(e,l)]:[3,2];case 1:return t.sent(),[3,3];case 2:e.close(),t.label=3;case 3:return[2]}}))}))}});return{writable:new WritableStream(n,cR.__assign({highWaterMark:Math.pow(2,14)},e)),readable:i};function r(){return cR.__awaiter(this,void 0,void 0,(function(){return cR.__generator(this,(function(e){switch(e.label){case 0:return[4,uR.RecordBatchReader.from(n)];case 1:return[4,e.sent().open(t)];case 2:return[2,e.sent()]}}))}))}function c(e,t){return cR.__awaiter(this,void 0,void 0,(function(){var n,l;return cR.__generator(this,(function(i){switch(i.label){case 0:n=e.desiredSize,l=null,i.label=1;case 1:return[4,t.next()];case 2:return(l=i.sent()).done?[3,3]:(e.enqueue(l.value),null!=n&&--n<=0?[2]:[3,1]);case 3:return e.close(),[2]}}))}))}};var oR={};Object.defineProperty(oR,"__esModule",{value:!0}),oR.recordBatchWriterThroughDOMStream=void 0;var dR=Ju.exports,sR=pZ;oR.recordBatchWriterThroughDOMStream=function(e,t){var n=new this(e),l=new sR.AsyncByteStream(n),i=new ReadableStream({type:"bytes",cancel:function(){return dR.__awaiter(this,void 0,void 0,(function(){return dR.__generator(this,(function(e){switch(e.label){case 0:return[4,l.cancel()];case 1:return e.sent(),[2]}}))}))},pull:function(e){return dR.__awaiter(this,void 0,void 0,(function(){return dR.__generator(this,(function(t){switch(t.label){case 0:return[4,r(e)];case 1:return t.sent(),[2]}}))}))},start:function(e){return dR.__awaiter(this,void 0,void 0,(function(){return dR.__generator(this,(function(t){switch(t.label){case 0:return[4,r(e)];case 1:return t.sent(),[2]}}))}))}},dR.__assign({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(n,e),readable:i};function r(e){return dR.__awaiter(this,void 0,void 0,(function(){var t,n;return dR.__generator(this,(function(i){switch(i.label){case 0:t=null,n=e.desiredSize,i.label=1;case 1:return[4,l.read(n||null)];case 2:return(t=i.sent())?(e.enqueue(t),null!=n&&(n-=t.byteLength)<=0?[2]:[3,1]):[3,3];case 3:return e.close(),[2]}}))}))}};var mR={},bR={},ZR={};Object.defineProperty(ZR,"__esModule",{value:!0}),ZR.custom=ZR.or=ZR.and=ZR.col=ZR.lit=ZR.CustomPredicate=ZR.Not=ZR.GTeq=ZR.LTeq=ZR.Equals=ZR.Or=ZR.And=ZR.CombinationPredicate=ZR.ComparisonPredicate=ZR.Predicate=ZR.Col=ZR.Literal=ZR.Value=void 0;var pR=Ju.exports,hR=jf,yR=function(){function e(){}return e.prototype.eq=function(t){return t instanceof e||(t=new fR(t)),new vR(this,t)},e.prototype.le=function(t){return t instanceof e||(t=new fR(t)),new LR(this,t)},e.prototype.ge=function(t){return t instanceof e||(t=new fR(t)),new YR(this,t)},e.prototype.lt=function(e){return new JR(this.ge(e))},e.prototype.gt=function(e){return new JR(this.le(e))},e.prototype.ne=function(e){return new JR(this.eq(e))},e}();ZR.Value=yR;var fR=function(e){function t(t){var n=e.call(this)||this;return n.v=t,n}return pR.__extends(t,e),t}(yR);ZR.Literal=fR;var XR=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n}return pR.__extends(t,e),t.prototype.bind=function(e){if(!this.colidx){this.colidx=-1;for(var t=e.schema.fields,n=-1;++n<t.length;)if(t[n].name===this.name){this.colidx=n;break}if(this.colidx<0)throw new Error('Failed to bind Col "'+this.name+'"')}var l=this.vector=e.getChildAt(this.colidx);return function(e){return l.get(e)}},t}(yR);ZR.Col=XR;var VR=function(){function e(){}return e.prototype.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(RR.bind.apply(RR,pR.__spread([void 0,this],e)))},e.prototype.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(SR.bind.apply(SR,pR.__spread([void 0,this],e)))},e.prototype.not=function(){return new JR(this)},e}();ZR.Predicate=VR;var WR=function(e){function t(t,n){var l=e.call(this)||this;return l.left=t,l.right=n,l}return pR.__extends(t,e),t.prototype.bind=function(e){return this.left instanceof fR?this.right instanceof fR?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof fR?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)},t}(VR);ZR.ComparisonPredicate=WR;var GR=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=e.call(this)||this;return l.children=t,l}return pR.__extends(t,e),t}(VR);ZR.CombinationPredicate=GR,GR.prototype.children=Object.freeze([]);var RR=function(e){function t(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return n=n.reduce((function(e,n){return e.concat(n instanceof t?n.children:n)}),[]),e.apply(this,pR.__spread(n))||this}return pR.__extends(t,e),t.prototype.bind=function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.every((function(t){return t(e,n)}))}},t}(GR);ZR.And=RR;var SR=function(e){function t(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return n=n.reduce((function(e,n){return e.concat(n instanceof t?n.children:n)}),[]),e.apply(this,pR.__spread(n))||this}return pR.__extends(t,e),t.prototype.bind=function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.some((function(t){return t(e,n)}))}},t}(GR);ZR.Or=SR;var vR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pR.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v==n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)==i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);if(t.vector instanceof hR.DictionaryVector){var i,r=t.vector;return r.dictionary!==this.lastDictionary?(i=r.reverseLookup(n.v),this.lastDictionary=r.dictionary,this.lastKey=i):i=this.lastKey,-1===i?function(){return!1}:function(e){return r.getKey(e)===i}}return function(e,t){return l(e,t)==n.v}},t.prototype._bindLitCol=function(e,t,n){return this._bindColLit(e,n,t)},t}(WR);ZR.Equals=vR;var LR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pR.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v<=n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)<=i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);return function(e,t){return l(e,t)<=n.v}},t.prototype._bindLitCol=function(e,t,n){var l=n.bind(e);return function(e,n){return t.v<=l(e,n)}},t}(WR);ZR.LTeq=LR;var YR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pR.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v>=n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)>=i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);return function(e,t){return l(e,t)>=n.v}},t.prototype._bindLitCol=function(e,t,n){var l=n.bind(e);return function(e,n){return t.v>=l(e,n)}},t}(WR);ZR.GTeq=YR;var JR=function(e){function t(t){var n=e.call(this)||this;return n.child=t,n}return pR.__extends(t,e),t.prototype.bind=function(e){var t=this.child.bind(e);return function(e,n){return!t(e,n)}},t}(VR);ZR.Not=JR;var xR=function(e){function t(t,n){var l=e.call(this)||this;return l.next=t,l.bind_=n,l}return pR.__extends(t,e),t.prototype.bind=function(e){return this.bind_(e),this.next},t}(VR);ZR.CustomPredicate=xR,ZR.lit=function(e){return new fR(e)},ZR.col=function(e){return new XR(e)},ZR.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(RR.bind.apply(RR,pR.__spread([void 0],e)))},ZR.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(SR.bind.apply(SR,pR.__spread([void 0],e)))},ZR.custom=function(e,t){return new xR(e,t)},Object.defineProperty(bR,"__esModule",{value:!0}),bR.FilteredDataFrame=bR.CountByResult=bR.DataFrame=void 0;var gR=Ju.exports,HR=ep,IR=VX,UR=sm,KR=ZR,NR=$Z,kR=ho,BR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gR.__extends(t,e),t.prototype.filter=function(e){return new _R(this.chunks,e)},t.prototype.scan=function(e,t){for(var n=this.chunks,l=n.length,i=-1;++i<l;){var r=n[i];t&&t(r);for(var c=-1,a=r.length;++c<a;)e(c,r)}},t.prototype.scanReverse=function(e,t){for(var n=this.chunks,l=n.length;--l>=0;){var i=n[l];t&&t(i);for(var r=i.length;--r>=0;)e(r,i)}},t.prototype.countBy=function(e){var t=this.chunks,n=t.length,l="string"==typeof e?new KR.Col(e):e;l.bind(t[n-1]);var i=l.vector;if(!kR.DataType.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var r=Math.ceil(Math.log(i.length)/Math.log(256)),c=new(4==r?Uint32Array:r>=2?Uint16Array:Uint8Array)(i.dictionary.length),a=-1;++a<n;){var u=t[a];l.bind(u);for(var o=l.vector.indices,d=-1,s=u.length;++d<s;){var m=o.get(d);null!==m&&c[m]++}}return new TR(i.dictionary,IR.IntVector.from(c))},t}(HR.Table);bR.DataFrame=BR;var TR=function(e){function t(t,n){var l=new UR.Schema([new UR.Field("values",t.type),new UR.Field("counts",n.type)]);return e.call(this,new NR.RecordBatch(l,n.length,[t,n]))||this}return gR.__extends(t,e),t.prototype.toJSON=function(){for(var e=this.getColumnAt(0),t=this.getColumnAt(1),n={},l=-1;++l<this.length;)n[e.get(l)]=t.get(l);return n},t}(HR.Table);bR.CountByResult=TR;var FR=function(){function e(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}return e.prototype.next=function(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}(),_R=function(e){function t(t,n){var l=e.call(this,t)||this;return l._predicate=n,l}return gR.__extends(t,e),t.prototype.scan=function(e,t){for(var n=this._chunks,l=n.length,i=-1;++i<l;)for(var r=n[i],c=this._predicate.bind(r),a=!1,u=-1,o=r.length;++u<o;)c(u,r)&&(t&&!a&&(t(r),a=!0),e(u,r))},t.prototype.scanReverse=function(e,t){for(var n=this._chunks,l=n.length;--l>=0;)for(var i=n[l],r=this._predicate.bind(i),c=!1,a=i.length;--a>=0;)r(a,i)&&(t&&!c&&(t(i),c=!0),e(a,i))},t.prototype.count=function(){for(var e=0,t=this._chunks,n=t.length,l=-1;++l<n;)for(var i=t[l],r=this._predicate.bind(i),c=-1,a=i.length;++c<a;)r(c,i)&&++e;return e},t.prototype[Symbol.iterator]=function(){return new FR(this._chunks,this._predicate)},t.prototype.filter=function(e){return new t(this._chunks,this._predicate.and(e))},t.prototype.countBy=function(e){var t=this._chunks,n=t.length,l="string"==typeof e?new KR.Col(e):e;l.bind(t[n-1]);var i=l.vector;if(!kR.DataType.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var r=Math.ceil(Math.log(i.length)/Math.log(256)),c=new(4==r?Uint32Array:r>=2?Uint16Array:Uint8Array)(i.dictionary.length),a=-1;++a<n;){var u=t[a],o=this._predicate.bind(u);l.bind(u);for(var d=l.vector.indices,s=-1,m=u.length;++s<m;){var b=d.get(s);null!==b&&o(s,u)&&c[b]++}}return new TR(i.dictionary,IR.IntVector.from(c))},t}(BR);bR.FilteredDataFrame=_R,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Field=e.Schema=e.Visitor=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=Ju.exports,n=io;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return n.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return n.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return n.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return n.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return n.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return n.MetadataVersion}});var l=ro;Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return l.MessageHeader}});var i=lo;Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return i.BufferType}});var r=co;Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return r.Data}});var c=ho;Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return c.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return c.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return c.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return c.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return c.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return c.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return c.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return c.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return c.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return c.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return c.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return c.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return c.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return c.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return c.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return c.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return c.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return c.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return c.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return c.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return c.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return c.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return c.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return c.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return c.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return c.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return c.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return c.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return c.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return c.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return c.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return c.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return c.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return c.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return c.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return c.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return c.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return c.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return c.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return c.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return c.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return c.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return c.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return c.Map_}});var a=ep;Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return a.Table}});var u=tp;Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return u.Column}});var o=Om;Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return o.Visitor}});var d=sm;Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return d.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return d.Field}});var s=Zf;Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return s.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return s.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return s.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return s.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return s.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return s.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return s.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return s.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return s.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return s.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return s.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return s.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return s.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return s.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return s.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return s.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return s.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return s.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return s.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return s.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return s.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return s.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return s.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return s.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return s.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return s.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return s.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return s.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return s.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return s.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return s.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return s.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return s.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return s.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return s.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return s.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return s.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return s.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return s.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return s.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return s.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return s.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return s.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return s.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return s.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return s.Utf8Vector}});var m=$u;Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return m.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return m.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return m.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return m.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return m.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return m.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return m.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return m.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return m.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return m.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return m.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return m.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return m.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return m.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return m.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return m.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return m.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return m.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return m.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return m.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return m.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return m.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return m.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return m.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return m.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return m.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return m.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return m.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return m.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return m.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return m.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return m.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return m.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return m.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return m.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return m.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return m.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return m.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return m.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return m.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return m.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return m.Utf8Builder}});var b=pZ;Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return b.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return b.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return b.AsyncByteQueue}});var Z=Db;Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return Z.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return Z.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return Z.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return Z.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return Z.AsyncRecordBatchStreamReader}});var p=ch;Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return p.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return p.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return p.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return p.RecordBatchJSONWriter}});var h=ah;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return h.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return h.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return h.JSONMessageReader}});var y=uh;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return y.Message}});var f=$Z;Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return f.RecordBatch}});var X=bR;Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return X.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return X.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return X.CountByResult}});var V=ps,W=KZ,G=ao,R=rs,S=xu,v=lp,L=ZR;e.predicate=L;var Y=Ah;e.util=t.__assign(t.__assign(t.__assign(t.__assign(t.__assign(t.__assign(t.__assign({},V),W),G),R),S),v),{compareSchemas:Y.compareSchemas,compareFields:Y.compareFields,compareTypes:Y.compareTypes});var J=Jp;Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return J.isTypedArray}})}(mR),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Visitor=e.Field=e.Schema=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.UnionMode=e.Type=e.TimeUnit=e.Precision=e.MetadataVersion=e.MessageHeader=e.IntervalUnit=e.DateUnit=void 0;var t=$u,n=Db,l=ch,i=OG,r=$G,c=rR,a=oR;Yu.default.toDOMStream=i.toDOMStream,t.Builder.throughDOM=r.builderThroughDOMStream,n.RecordBatchReader.throughDOM=c.recordBatchReaderThroughDOMStream,n.RecordBatchFileReader.throughDOM=c.recordBatchReaderThroughDOMStream,n.RecordBatchStreamReader.throughDOM=c.recordBatchReaderThroughDOMStream,l.RecordBatchWriter.throughDOM=a.recordBatchWriterThroughDOMStream,l.RecordBatchFileWriter.throughDOM=a.recordBatchWriterThroughDOMStream,l.RecordBatchStreamWriter.throughDOM=a.recordBatchWriterThroughDOMStream;var u=mR;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return u.DateUnit}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return u.IntervalUnit}}),Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return u.MessageHeader}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return u.MetadataVersion}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return u.Precision}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return u.TimeUnit}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return u.Type}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return u.UnionMode}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return u.BufferType}}),Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return u.Data}}),Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return u.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return u.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return u.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return u.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return u.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return u.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return u.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return u.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return u.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return u.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return u.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return u.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return u.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return u.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return u.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return u.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return u.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return u.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return u.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return u.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return u.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return u.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return u.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return u.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return u.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return u.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return u.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return u.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return u.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return u.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return u.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return u.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return u.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return u.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return u.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return u.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return u.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return u.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return u.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return u.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return u.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return u.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return u.Map_}}),Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return u.Table}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return u.Column}}),Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return u.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return u.Field}}),Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return u.Visitor}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return u.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return u.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return u.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return u.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return u.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return u.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return u.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return u.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return u.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return u.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return u.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return u.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return u.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return u.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return u.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return u.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return u.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return u.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return u.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return u.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return u.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return u.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return u.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return u.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return u.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return u.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return u.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return u.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return u.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return u.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return u.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return u.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return u.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return u.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return u.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return u.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return u.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return u.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return u.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return u.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return u.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return u.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return u.Utf8Vector}}),Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return u.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return u.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return u.AsyncByteQueue}}),Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return u.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return u.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return u.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return u.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return u.AsyncRecordBatchStreamReader}}),Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return u.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return u.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return u.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return u.RecordBatchJSONWriter}}),Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return u.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return u.JSONMessageReader}}),Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return u.Message}}),Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return u.RecordBatch}}),Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return u.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return u.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return u.CountByResult}}),Object.defineProperty(e,"predicate",{enumerable:!0,get:function(){return u.predicate}}),Object.defineProperty(e,"util",{enumerable:!0,get:function(){return u.util}}),Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return u.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return u.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return u.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return u.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return u.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return u.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return u.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return u.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return u.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return u.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return u.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return u.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return u.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return u.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return u.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return u.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return u.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return u.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return u.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return u.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return u.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return u.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return u.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return u.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return u.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return u.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return u.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return u.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return u.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return u.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return u.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return u.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return u.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return u.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return u.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return u.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return u.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return u.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return u.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return u.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return u.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return u.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return u.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return u.Utf8Builder}}),Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return u.isTypedArray}})}(Lu);const wR=Symbol("Comlink.proxy"),CR=Symbol("Comlink.endpoint"),jR=Symbol("Comlink.releaseProxy"),zR=Symbol("Comlink.thrown"),MR=e=>"object"==typeof e&&null!==e||"function"==typeof e,QR=new Map([["proxy",{canHandle:e=>MR(e)&&e[wR],serialize(e){const{port1:t,port2:n}=new MessageChannel;return PR(e,t),[n,[n]]},deserialize:e=>(e.start(),OR(e))}],["throw",{canHandle:e=>MR(e)&&zR in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function PR(e,t=self){t.addEventListener("message",(function n(l){if(!l||!l.data)return;const{id:i,type:r,path:c}=Object.assign({path:[]},l.data),a=(l.data.argumentList||[]).map(nS);let u;try{const t=c.slice(0,-1).reduce(((e,t)=>e[t]),e),n=c.reduce(((e,t)=>e[t]),e);switch(r){case"GET":u=n;break;case"SET":t[c.slice(-1)[0]]=nS(l.data.value),u=!0;break;case"APPLY":u=n.apply(t,a);break;case"CONSTRUCT":u=function(e){return Object.assign(e,{[wR]:!0})}(new n(...a));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;PR(e,n),u=eS(t,[t])}break;case"RELEASE":u=void 0;break;default:return}}catch(o){u={value:o,[zR]:0}}Promise.resolve(u).catch((e=>({value:e,[zR]:0}))).then((e=>{const[l,c]=tS(e);t.postMessage(Object.assign(Object.assign({},l),{id:i}),c),"RELEASE"===r&&(t.removeEventListener("message",n),ER(t))}))})),t.start&&t.start()}function ER(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function OR(e,t){return AR(e,[],t)}function DR(e){if(e)throw new Error("Proxy has been released and is not useable")}function AR(e,t=[],n=function(){}){let l=!1;const i=new Proxy(n,{get(n,r){if(DR(l),r===jR)return()=>lS(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{ER(e),l=!0}));if("then"===r){if(0===t.length)return{then:()=>i};const n=lS(e,{type:"GET",path:t.map((e=>e.toString()))}).then(nS);return n.then.bind(n)}return AR(e,[...t,r])},set(n,i,r){DR(l);const[c,a]=tS(r);return lS(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:c},a).then(nS)},apply(n,i,r){DR(l);const c=t[t.length-1];if(c===CR)return lS(e,{type:"ENDPOINT"}).then(nS);if("bind"===c)return AR(e,t.slice(0,-1));const[a,u]=qR(r);return lS(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:a},u).then(nS)},construct(n,i){DR(l);const[r,c]=qR(i);return lS(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:r},c).then(nS)}});return i}function qR(e){const t=e.map(tS);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const $R=new WeakMap;function eS(e,t){return $R.set(e,t),e}function tS(e){for(const[t,n]of QR)if(n.canHandle(e)){const[l,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:l},i]}return[{type:"RAW",value:e},$R.get(e)||[]]}function nS(e){switch(e.type){case"HANDLER":return QR.get(e.name).deserialize(e.value);case"RAW":return e.value}}function lS(e,t,n){return new Promise((l=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),l(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}class iS extends Map{get_count(e){return super.get(e)||0}get_counter(e){const t=super.get(e);return t||(super.set(e,new iS),super.get(e))}merge(e){for(let t of e.value_iter())this.add(...t)}inc(...e){this.add(1,...e)}add(e,...t){if(1===t.length)this.set(t[0],this.get_count(t[0])+e);else{this.get_counter(t[0]).add(e,...t.slice(1))}}is_counter(){}values(){return Array.from(this.value_iter())}*value_iter(){for(let[e,t]of this.entries())if(t.is_counter)for(let n of t.value_iter())yield[n[0],e,...n.slice(1)];else yield[t,e]}}const rS="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGU9U3ltYm9sKCJDb21saW5rLnByb3h5IiksdD1TeW1ib2woIkNvbWxpbmsuZW5kcG9pbnQiKSxyPVN5bWJvbCgiQ29tbGluay5yZWxlYXNlUHJveHkiKSxuPVN5bWJvbCgiQ29tbGluay50aHJvd24iKSxpPWU9PiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLG89bmV3IE1hcChbWyJwcm94eSIse2NhbkhhbmRsZTp0PT5pKHQpJiZ0W2VdLHNlcmlhbGl6ZShlKXtjb25zdHtwb3J0MTp0LHBvcnQyOnJ9PW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gYShlLHQpLFtyLFtyXV19LGRlc2VyaWFsaXplKGUpe3JldHVybiBlLnN0YXJ0KCksYyhlLFtdLHQpO3ZhciB0fX1dLFsidGhyb3ciLHtjYW5IYW5kbGU6ZT0+aShlKSYmbiBpbiBlLHNlcmlhbGl6ZSh7dmFsdWU6ZX0pe2xldCB0O3JldHVybiB0PWUgaW5zdGFuY2VvZiBFcnJvcj97aXNFcnJvcjohMCx2YWx1ZTp7bWVzc2FnZTplLm1lc3NhZ2UsbmFtZTplLm5hbWUsc3RhY2s6ZS5zdGFja319Ontpc0Vycm9yOiExLHZhbHVlOmV9LFt0LFtdXX0sZGVzZXJpYWxpemUoZSl7aWYoZS5pc0Vycm9yKXRocm93IE9iamVjdC5hc3NpZ24obmV3IEVycm9yKGUudmFsdWUubWVzc2FnZSksZS52YWx1ZSk7dGhyb3cgZS52YWx1ZX19XV0pO2Z1bmN0aW9uIGEodCxyPXNlbGYpe3IuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGkobyl7aWYoIW98fCFvLmRhdGEpcmV0dXJuO2NvbnN0e2lkOnMsdHlwZTpjLHBhdGg6bH09T2JqZWN0LmFzc2lnbih7cGF0aDpbXX0sby5kYXRhKSxmPShvLmRhdGEuYXJndW1lbnRMaXN0fHxbXSkubWFwKHkpO2xldCBoO3RyeXtjb25zdCByPWwuc2xpY2UoMCwtMSkucmVkdWNlKCgoZSx0KT0+ZVt0XSksdCksbj1sLnJlZHVjZSgoKGUsdCk9PmVbdF0pLHQpO3N3aXRjaChjKXtjYXNlIkdFVCI6aD1uO2JyZWFrO2Nhc2UiU0VUIjpyW2wuc2xpY2UoLTEpWzBdXT15KG8uZGF0YS52YWx1ZSksaD0hMDticmVhaztjYXNlIkFQUExZIjpoPW4uYXBwbHkocixmKTticmVhaztjYXNlIkNPTlNUUlVDVCI6aD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHtbZV06ITB9KX0obmV3IG4oLi4uZikpO2JyZWFrO2Nhc2UiRU5EUE9JTlQiOntjb25zdHtwb3J0MTplLHBvcnQyOnJ9PW5ldyBNZXNzYWdlQ2hhbm5lbDthKHQsciksaD1kKGUsW2VdKX1icmVhaztjYXNlIlJFTEVBU0UiOmg9dm9pZCAwO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX1jYXRjaChiKXtoPXt2YWx1ZTpiLFtuXTowfX1Qcm9taXNlLnJlc29sdmUoaCkuY2F0Y2goKGU9Pih7dmFsdWU6ZSxbbl06MH0pKSkudGhlbigoZT0+e2NvbnN0W3Qsbl09cChlKTtyLnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7aWQ6c30pLG4pLCJSRUxFQVNFIj09PWMmJihyLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpLHUocikpfSkpfSkpLHIuc3RhcnQmJnIuc3RhcnQoKX1mdW5jdGlvbiB1KGUpeyhmdW5jdGlvbihlKXtyZXR1cm4iTWVzc2FnZVBvcnQiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lfSkoZSkmJmUuY2xvc2UoKX1mdW5jdGlvbiBzKGUpe2lmKGUpdGhyb3cgbmV3IEVycm9yKCJQcm94eSBoYXMgYmVlbiByZWxlYXNlZCBhbmQgaXMgbm90IHVzZWFibGUiKX1mdW5jdGlvbiBjKGUsbj1bXSxpPWZ1bmN0aW9uKCl7fSl7bGV0IG89ITE7Y29uc3QgYT1uZXcgUHJveHkoaSx7Z2V0KHQsaSl7aWYocyhvKSxpPT09cilyZXR1cm4oKT0+aChlLHt0eXBlOiJSRUxFQVNFIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKX0pLnRoZW4oKCgpPT57dShlKSxvPSEwfSkpO2lmKCJ0aGVuIj09PWkpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm57dGhlbjooKT0+YX07Y29uc3QgdD1oKGUse3R5cGU6IkdFVCIscGF0aDpuLm1hcCgoZT0+ZS50b1N0cmluZygpKSl9KS50aGVuKHkpO3JldHVybiB0LnRoZW4uYmluZCh0KX1yZXR1cm4gYyhlLFsuLi5uLGldKX0sc2V0KHQscixpKXtzKG8pO2NvbnN0W2EsdV09cChpKTtyZXR1cm4gaChlLHt0eXBlOiJTRVQiLHBhdGg6Wy4uLm4scl0ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSx2YWx1ZTphfSx1KS50aGVuKHkpfSxhcHBseShyLGksYSl7cyhvKTtjb25zdCB1PW5bbi5sZW5ndGgtMV07aWYodT09PXQpcmV0dXJuIGgoZSx7dHlwZToiRU5EUE9JTlQifSkudGhlbih5KTtpZigiYmluZCI9PT11KXJldHVybiBjKGUsbi5zbGljZSgwLC0xKSk7Y29uc3RbZixkXT1sKGEpO3JldHVybiBoKGUse3R5cGU6IkFQUExZIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSxhcmd1bWVudExpc3Q6Zn0sZCkudGhlbih5KX0sY29uc3RydWN0KHQscil7cyhvKTtjb25zdFtpLGFdPWwocik7cmV0dXJuIGgoZSx7dHlwZToiQ09OU1RSVUNUIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSxhcmd1bWVudExpc3Q6aX0sYSkudGhlbih5KX19KTtyZXR1cm4gYX1mdW5jdGlvbiBsKGUpe2NvbnN0IHQ9ZS5tYXAocCk7cmV0dXJuW3QubWFwKChlPT5lWzBdKSksKHI9dC5tYXAoKGU9PmVbMV0pKSxBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHIpKV07dmFyIHJ9Y29uc3QgZj1uZXcgV2Vha01hcDtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGYuc2V0KGUsdCksZX1mdW5jdGlvbiBwKGUpe2Zvcihjb25zdFt0LHJdb2YgbylpZihyLmNhbkhhbmRsZShlKSl7Y29uc3RbbixpXT1yLnNlcmlhbGl6ZShlKTtyZXR1cm5be3R5cGU6IkhBTkRMRVIiLG5hbWU6dCx2YWx1ZTpufSxpXX1yZXR1cm5be3R5cGU6IlJBVyIsdmFsdWU6ZX0sZi5nZXQoZSl8fFtdXX1mdW5jdGlvbiB5KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiSEFORExFUiI6cmV0dXJuIG8uZ2V0KGUubmFtZSkuZGVzZXJpYWxpemUoZS52YWx1ZSk7Y2FzZSJSQVciOnJldHVybiBlLnZhbHVlfX1mdW5jdGlvbiBoKGUsdCxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG49Pntjb25zdCBpPW5ldyBBcnJheSg0KS5maWxsKDApLm1hcCgoKCk9Pk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMTYpKSkuam9pbigiLSIpO2UuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIHQocil7ci5kYXRhJiZyLmRhdGEuaWQmJnIuZGF0YS5pZD09PWkmJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHQpLG4oci5kYXRhKSl9KSksZS5zdGFydCYmZS5zdGFydCgpLGUucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbih7aWQ6aX0sdCkscil9KSl9dmFyIGI9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiB2KGUpe2lmKGUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pfSkpLHR9dmFyIF8sbSxnLEIsVCxJLHcsTyxTLEEsRCxWLFAsTSxGLFUsaix4LEwsUixOLEUsQyx6LGssVz17fSxZPXt9LEg9e2V4cG9ydHM6e319OwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCiAgCiAgICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueQogICAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCiAgCiAgICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRICiAgICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsCiAgICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTQogICAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SCiAgICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuCiAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCl89SCxmdW5jdGlvbihlKXt2YXIgdD0ib2JqZWN0Ij09dHlwZW9mIGI/Yjoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjoib2JqZWN0Ij09dHlwZW9mIHRoaXM/dGhpczp7fTtmdW5jdGlvbiByKGUscil7cmV0dXJuIGUhPT10JiYoImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pOmUuX19lc01vZHVsZT0hMCksZnVuY3Rpb24odCxuKXtyZXR1cm4gZVt0XT1yP3IodCxuKTpufX0hZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfTttPWZ1bmN0aW9uKGUscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsciksZS5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pfSxnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0sQj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmluZGV4T2Yobik8MCYmKHJbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtpPG4ubGVuZ3RoO2krKyl0LmluZGV4T2YobltpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltpXSkmJihyW25baV1dPWVbbltpXV0pfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxhPW88Mz90Om51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOm47aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlhPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsbik7ZWxzZSBmb3IodmFyIHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSkoaT1lW3VdKSYmKGE9KG88Mz9pKGEpOm8+Mz9pKHQscixhKTppKHQscikpfHxhKTtyZXR1cm4gbz4zJiZhJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLGEpLGF9LEk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuKXt0KHIsbixlKX19LHc9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09dHlwZW9mIFJlZmxlY3QmJiJmdW5jdGlvbiI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LE89ZnVuY3Rpb24oZSx0LHIsbil7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcigoZnVuY3Rpb24odCl7dChlKX0pKX1yZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24ocixvKXtmdW5jdGlvbiBhKGUpe3RyeXtzKG4ubmV4dChlKSl9Y2F0Y2godCl7byh0KX19ZnVuY3Rpb24gdShlKXt0cnl7cyhuLnRocm93KGUpKX1jYXRjaCh0KXtvKHQpfX1mdW5jdGlvbiBzKGUpe2UuZG9uZT9yKGUudmFsdWUpOmkoZS52YWx1ZSkudGhlbihhLHUpfXMoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sUz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6dSgwKSx0aHJvdzp1KDEpLHJldHVybjp1KDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBzKFtlLHRdKX19ZnVuY3Rpb24gcyhvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZihyPTEsbiYmKGk9MiZvWzBdP24ucmV0dXJuOm9bMF0/bi50aHJvd3x8KChpPW4ucmV0dXJuKSYmaS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoaT1pLmNhbGwobixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoKGk9KGk9YS50cnlzKS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2godSl7bz1bNix1XSxuPTB9ZmluYWxseXtyPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX19LEE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZSkiZGVmYXVsdCI9PT1yfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKXx8ayh0LGUscil9LGs9T2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQscixuKXt2b2lkIDA9PT1uJiYobj1yKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W3JdfX0pfTpmdW5jdGlvbihlLHQscixuKXt2b2lkIDA9PT1uJiYobj1yKSxlW25dPXRbcl19LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LFY9ZnVuY3Rpb24oZSx0KXt2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIG4saSxvPXIuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKG49by5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaCh1KXtpPXtlcnJvcjp1fX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIGF9LFA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZT1lLmNvbmNhdChWKGFyZ3VtZW50c1t0XSkpO3JldHVybiBlfSxNPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIG49QXJyYXkoZSksaT0wO2Zvcih0PTA7dDxyO3QrKylmb3IodmFyIG89YXJndW1lbnRzW3RdLGE9MCx1PW8ubGVuZ3RoO2E8dTthKyssaSsrKW5baV09b1thXTtyZXR1cm4gbn0sRj1mdW5jdGlvbihlLHQscil7aWYocnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspIW4mJmkgaW4gdHx8KG58fChuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxpKSksbltpXT10W2ldKTtyZXR1cm4gZS5jb25jYXQobnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfSxVPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgVT8odGhpcy52PWUsdGhpcyk6bmV3IFUoZSl9LGo9ZnVuY3Rpb24oZSx0LHIpe2lmKCFTeW1ib2wuYXN5bmNJdGVyYXRvcil0aHJvdyBuZXcgVHlwZUVycm9yKCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTt2YXIgbixpPXIuYXBwbHkoZSx0fHxbXSksbz1bXTtyZXR1cm4gbj17fSxhKCJuZXh0IiksYSgidGhyb3ciKSxhKCJyZXR1cm4iKSxuW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuO2Z1bmN0aW9uIGEoZSl7aVtlXSYmKG5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG4pe28ucHVzaChbZSx0LHIsbl0pPjF8fHUoZSx0KX0pKX0pfWZ1bmN0aW9uIHUoZSx0KXt0cnl7cyhpW2VdKHQpKX1jYXRjaChyKXtmKG9bMF1bM10scil9fWZ1bmN0aW9uIHMoZSl7ZS52YWx1ZSBpbnN0YW5jZW9mIFU/UHJvbWlzZS5yZXNvbHZlKGUudmFsdWUudikudGhlbihjLGwpOmYob1swXVsyXSxlKX1mdW5jdGlvbiBjKGUpe3UoIm5leHQiLGUpfWZ1bmN0aW9uIGwoZSl7dSgidGhyb3ciLGUpfWZ1bmN0aW9uIGYoZSx0KXtlKHQpLG8uc2hpZnQoKSxvLmxlbmd0aCYmdShvWzBdWzBdLG9bMF1bMV0pfX0seD1mdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiB0PXt9LG4oIm5leHQiKSxuKCJ0aHJvdyIsKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSksbigicmV0dXJuIiksdFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQ7ZnVuY3Rpb24gbihuLGkpe3Rbbl09ZVtuXT9mdW5jdGlvbih0KXtyZXR1cm4ocj0hcik/e3ZhbHVlOlUoZVtuXSh0KSksZG9uZToicmV0dXJuIj09PW59Omk/aSh0KTp0fTppfX0sTD1mdW5jdGlvbihlKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7dmFyIHQscj1lW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtyZXR1cm4gcj9yLmNhbGwoZSk6KGU9RChlKSx0PXt9LG4oIm5leHQiKSxuKCJ0aHJvdyIpLG4oInJldHVybiIpLHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQpO2Z1bmN0aW9uIG4ocil7dFtyXT1lW3JdJiZmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7aShuLG8sKHQ9ZVtyXSh0KSkuZG9uZSx0LnZhbHVlKX0pKX19ZnVuY3Rpb24gaShlLHQscixuKXtQcm9taXNlLnJlc29sdmUobikudGhlbigoZnVuY3Rpb24odCl7ZSh7dmFsdWU6dCxkb25lOnJ9KX0pLHQpfX0sUj1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHk/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInJhdyIse3ZhbHVlOnR9KTplLnJhdz10LGV9O3ZhciByPU9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fTtOPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKSJkZWZhdWx0IiE9PW4mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZrKHQsZSxuKTtyZXR1cm4gcih0LGUpLHR9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fSxDPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCJhIj09PXImJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlciIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P2UhPT10fHwhbjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0Iik7cmV0dXJuIm0iPT09cj9uOiJhIj09PXI/bi5jYWxsKGUpOm4/bi52YWx1ZTp0LmdldChlKX0sej1mdW5jdGlvbihlLHQscixuLGkpe2lmKCJtIj09PW4pdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlIik7aWYoImEiPT09biYmIWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZSE9PXR8fCFpOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCIpO3JldHVybiJhIj09PW4/aS5jYWxsKGUscik6aT9pLnZhbHVlPXI6dC5zZXQoZSxyKSxyfSxlKCJfX2V4dGVuZHMiLG0pLGUoIl9fYXNzaWduIixnKSxlKCJfX3Jlc3QiLEIpLGUoIl9fZGVjb3JhdGUiLFQpLGUoIl9fcGFyYW0iLEkpLGUoIl9fbWV0YWRhdGEiLHcpLGUoIl9fYXdhaXRlciIsTyksZSgiX19nZW5lcmF0b3IiLFMpLGUoIl9fZXhwb3J0U3RhciIsQSksZSgiX19jcmVhdGVCaW5kaW5nIixrKSxlKCJfX3ZhbHVlcyIsRCksZSgiX19yZWFkIixWKSxlKCJfX3NwcmVhZCIsUCksZSgiX19zcHJlYWRBcnJheXMiLE0pLGUoIl9fc3ByZWFkQXJyYXkiLEYpLGUoIl9fYXdhaXQiLFUpLGUoIl9fYXN5bmNHZW5lcmF0b3IiLGopLGUoIl9fYXN5bmNEZWxlZ2F0b3IiLHgpLGUoIl9fYXN5bmNWYWx1ZXMiLEwpLGUoIl9fbWFrZVRlbXBsYXRlT2JqZWN0IixSKSxlKCJfX2ltcG9ydFN0YXIiLE4pLGUoIl9faW1wb3J0RGVmYXVsdCIsRSksZSgiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsQyksZSgiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIseil9KHIodCxyKF8uZXhwb3J0cykpKX0oKTt2YXIgRz17fSxKPXt9O0ouT2Zmc2V0LEouVGFibGUsSi5TSVpFT0ZfU0hPUlQ9MixKLlNJWkVPRl9JTlQ9NCxKLkZJTEVfSURFTlRJRklFUl9MRU5HVEg9NCxKLlNJWkVfUFJFRklYX0xFTkdUSD00LEouRW5jb2Rpbmc9e1VURjhfQllURVM6MSxVVEYxNl9TVFJJTkc6Mn0sSi5pbnQzMj1uZXcgSW50MzJBcnJheSgyKSxKLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheShKLmludDMyLmJ1ZmZlciksSi5mbG9hdDY0PW5ldyBGbG9hdDY0QXJyYXkoSi5pbnQzMi5idWZmZXIpLEouaXNMaXR0bGVFbmRpYW49MT09PW5ldyBVaW50MTZBcnJheShuZXcgVWludDhBcnJheShbMSwwXSkuYnVmZmVyKVswXSxKLkxvbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dH0sSi5Mb25nLmNyZWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiAwPT1lJiYwPT10P0ouTG9uZy5aRVJPOm5ldyBKLkxvbmcoZSx0KX0sSi5Mb25nLnByb3RvdHlwZS50b0Zsb2F0NjQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5sb3c+Pj4wKSs0Mjk0OTY3Mjk2KnRoaXMuaGlnaH0sSi5Mb25nLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG93PT1lLmxvdyYmdGhpcy5oaWdoPT1lLmhpZ2h9LEouTG9uZy5aRVJPPW5ldyBKLkxvbmcoMCwwKSxKLkJ1aWxkZXI9ZnVuY3Rpb24oZSl7aWYoZSl0PWU7ZWxzZSB2YXIgdD0xMDI0O3RoaXMuYmI9Si5CeXRlQnVmZmVyLmFsbG9jYXRlKHQpLHRoaXMuc3BhY2U9dCx0aGlzLm1pbmFsaWduPTEsdGhpcy52dGFibGU9bnVsbCx0aGlzLnZ0YWJsZV9pbl91c2U9MCx0aGlzLmlzTmVzdGVkPSExLHRoaXMub2JqZWN0X3N0YXJ0PTAsdGhpcy52dGFibGVzPVtdLHRoaXMudmVjdG9yX251bV9lbGVtcz0wLHRoaXMuZm9yY2VfZGVmYXVsdHM9ITF9LEouQnVpbGRlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmJiLmNsZWFyKCksdGhpcy5zcGFjZT10aGlzLmJiLmNhcGFjaXR5KCksdGhpcy5taW5hbGlnbj0xLHRoaXMudnRhYmxlPW51bGwsdGhpcy52dGFibGVfaW5fdXNlPTAsdGhpcy5pc05lc3RlZD0hMSx0aGlzLm9iamVjdF9zdGFydD0wLHRoaXMudnRhYmxlcz1bXSx0aGlzLnZlY3Rvcl9udW1fZWxlbXM9MCx0aGlzLmZvcmNlX2RlZmF1bHRzPSExfSxKLkJ1aWxkZXIucHJvdG90eXBlLmZvcmNlRGVmYXVsdHM9ZnVuY3Rpb24oZSl7dGhpcy5mb3JjZV9kZWZhdWx0cz1lfSxKLkJ1aWxkZXIucHJvdG90eXBlLmRhdGFCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn0sSi5CdWlsZGVyLnByb3RvdHlwZS5hc1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5ieXRlcygpLnN1YmFycmF5KHRoaXMuYmIucG9zaXRpb24oKSx0aGlzLmJiLnBvc2l0aW9uKCkrdGhpcy5vZmZzZXQoKSl9LEouQnVpbGRlci5wcm90b3R5cGUucHJlcD1mdW5jdGlvbihlLHQpe2U+dGhpcy5taW5hbGlnbiYmKHRoaXMubWluYWxpZ249ZSk7Zm9yKHZhciByPTErfih0aGlzLmJiLmNhcGFjaXR5KCktdGhpcy5zcGFjZSt0KSZlLTE7dGhpcy5zcGFjZTxyK2UrdDspe3ZhciBuPXRoaXMuYmIuY2FwYWNpdHkoKTt0aGlzLmJiPUouQnVpbGRlci5ncm93Qnl0ZUJ1ZmZlcih0aGlzLmJiKSx0aGlzLnNwYWNlKz10aGlzLmJiLmNhcGFjaXR5KCktbn10aGlzLnBhZChyKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5wYWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlO3QrKyl0aGlzLmJiLndyaXRlSW50OCgtLXRoaXMuc3BhY2UsMCl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVJbnQ4KHRoaXMuc3BhY2UtPTEsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVJbnQxNj1mdW5jdGlvbihlKXt0aGlzLmJiLndyaXRlSW50MTYodGhpcy5zcGFjZS09MixlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS53cml0ZUludDMyPWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVJbnQzMih0aGlzLnNwYWNlLT00LGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlSW50NjQ9ZnVuY3Rpb24oZSl7dGhpcy5iYi53cml0ZUludDY0KHRoaXMuc3BhY2UtPTgsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVGbG9hdDMyPWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVGbG9hdDMyKHRoaXMuc3BhY2UtPTQsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVGbG9hdDY0PWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVGbG9hdDY0KHRoaXMuc3BhY2UtPTgsZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkSW50OD1mdW5jdGlvbihlKXt0aGlzLnByZXAoMSwwKSx0aGlzLndyaXRlSW50OChlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRJbnQxNj1mdW5jdGlvbihlKXt0aGlzLnByZXAoMiwwKSx0aGlzLndyaXRlSW50MTYoZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkSW50MzI9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKDQsMCksdGhpcy53cml0ZUludDMyKGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEludDY0PWZ1bmN0aW9uKGUpe3RoaXMucHJlcCg4LDApLHRoaXMud3JpdGVJbnQ2NChlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGbG9hdDMyPWZ1bmN0aW9uKGUpe3RoaXMucHJlcCg0LDApLHRoaXMud3JpdGVGbG9hdDMyKGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZsb2F0NjQ9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKDgsMCksdGhpcy53cml0ZUZsb2F0NjQoZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRJbnQ4PWZ1bmN0aW9uKGUsdCxyKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8dCE9cikmJih0aGlzLmFkZEludDgodCksdGhpcy5zbG90KGUpKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEludDE2PWZ1bmN0aW9uKGUsdCxyKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8dCE9cikmJih0aGlzLmFkZEludDE2KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRJbnQzMj1mdW5jdGlvbihlLHQscil7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fHQhPXIpJiYodGhpcy5hZGRJbnQzMih0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkSW50NjQ9ZnVuY3Rpb24oZSx0LHIpeyF0aGlzLmZvcmNlX2RlZmF1bHRzJiZ0LmVxdWFscyhyKXx8KHRoaXMuYWRkSW50NjQodCksdGhpcy5zbG90KGUpKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEZsb2F0MzI9ZnVuY3Rpb24oZSx0LHIpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHx0IT1yKSYmKHRoaXMuYWRkRmxvYXQzMih0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkRmxvYXQ2ND1mdW5jdGlvbihlLHQscil7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fHQhPXIpJiYodGhpcy5hZGRGbG9hdDY0KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRPZmZzZXQ9ZnVuY3Rpb24oZSx0LHIpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHx0IT1yKSYmKHRoaXMuYWRkT2Zmc2V0KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRTdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3QhPXImJih0aGlzLm5lc3RlZCh0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLm5lc3RlZD1mdW5jdGlvbihlKXtpZihlIT10aGlzLm9mZnNldCgpKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IHN0cnVjdCBtdXN0IGJlIHNlcmlhbGl6ZWQgaW5saW5lLiIpfSxKLkJ1aWxkZXIucHJvdG90eXBlLm5vdE5lc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMuaXNOZXN0ZWQpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogb2JqZWN0IHNlcmlhbGl6YXRpb24gbXVzdCBub3QgYmUgbmVzdGVkLiIpfSxKLkJ1aWxkZXIucHJvdG90eXBlLnNsb3Q9ZnVuY3Rpb24oZSl7dGhpcy52dGFibGVbZV09dGhpcy5vZmZzZXQoKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5jYXBhY2l0eSgpLXRoaXMuc3BhY2V9LEouQnVpbGRlci5ncm93Qnl0ZUJ1ZmZlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmNhcGFjaXR5KCk7aWYoMzIyMTIyNTQ3MiZ0KXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IGNhbm5vdCBncm93IGJ1ZmZlciBiZXlvbmQgMiBnaWdhYnl0ZXMuIik7dmFyIHI9dDw8MSxuPUouQnl0ZUJ1ZmZlci5hbGxvY2F0ZShyKTtyZXR1cm4gbi5zZXRQb3NpdGlvbihyLXQpLG4uYnl0ZXMoKS5zZXQoZS5ieXRlcygpLHItdCksbn0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRPZmZzZXQ9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKEouU0laRU9GX0lOVCwwKSx0aGlzLndyaXRlSW50MzIodGhpcy5vZmZzZXQoKS1lK0ouU0laRU9GX0lOVCl9LEouQnVpbGRlci5wcm90b3R5cGUuc3RhcnRPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5ub3ROZXN0ZWQoKSxudWxsPT10aGlzLnZ0YWJsZSYmKHRoaXMudnRhYmxlPVtdKSx0aGlzLnZ0YWJsZV9pbl91c2U9ZTtmb3IodmFyIHQ9MDt0PGU7dCsrKXRoaXMudnRhYmxlW3RdPTA7dGhpcy5pc05lc3RlZD0hMCx0aGlzLm9iamVjdF9zdGFydD10aGlzLm9mZnNldCgpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmVuZE9iamVjdD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMudnRhYmxlfHwhdGhpcy5pc05lc3RlZCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBlbmRPYmplY3QgY2FsbGVkIHdpdGhvdXQgc3RhcnRPYmplY3QiKTt0aGlzLmFkZEludDMyKDApO2Zvcih2YXIgZT10aGlzLm9mZnNldCgpLHQ9dGhpcy52dGFibGVfaW5fdXNlLTE7dD49MCYmMD09dGhpcy52dGFibGVbdF07dC0tKTtmb3IodmFyIHI9dCsxO3Q+PTA7dC0tKXRoaXMuYWRkSW50MTYoMCE9dGhpcy52dGFibGVbdF0/ZS10aGlzLnZ0YWJsZVt0XTowKTt0aGlzLmFkZEludDE2KGUtdGhpcy5vYmplY3Rfc3RhcnQpO3ZhciBuPShyKzIpKkouU0laRU9GX1NIT1JUO3RoaXMuYWRkSW50MTYobik7dmFyIGk9MCxvPXRoaXMuc3BhY2U7ZTpmb3IodD0wO3Q8dGhpcy52dGFibGVzLmxlbmd0aDt0Kyspe3ZhciBhPXRoaXMuYmIuY2FwYWNpdHkoKS10aGlzLnZ0YWJsZXNbdF07aWYobj09dGhpcy5iYi5yZWFkSW50MTYoYSkpe2Zvcih2YXIgdT1KLlNJWkVPRl9TSE9SVDt1PG47dSs9Si5TSVpFT0ZfU0hPUlQpaWYodGhpcy5iYi5yZWFkSW50MTYobyt1KSE9dGhpcy5iYi5yZWFkSW50MTYoYSt1KSljb250aW51ZSBlO2k9dGhpcy52dGFibGVzW3RdO2JyZWFrfX1yZXR1cm4gaT8odGhpcy5zcGFjZT10aGlzLmJiLmNhcGFjaXR5KCktZSx0aGlzLmJiLndyaXRlSW50MzIodGhpcy5zcGFjZSxpLWUpKToodGhpcy52dGFibGVzLnB1c2godGhpcy5vZmZzZXQoKSksdGhpcy5iYi53cml0ZUludDMyKHRoaXMuYmIuY2FwYWNpdHkoKS1lLHRoaXMub2Zmc2V0KCktZSkpLHRoaXMuaXNOZXN0ZWQ9ITEsZX0sSi5CdWlsZGVyLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/Si5TSVpFX1BSRUZJWF9MRU5HVEg6MDtpZih0KXt2YXIgaT10O2lmKHRoaXMucHJlcCh0aGlzLm1pbmFsaWduLEouU0laRU9GX0lOVCtKLkZJTEVfSURFTlRJRklFUl9MRU5HVEgrbiksaS5sZW5ndGghPUouRklMRV9JREVOVElGSUVSX0xFTkdUSCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBmaWxlIGlkZW50aWZpZXIgbXVzdCBiZSBsZW5ndGggIitKLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpO2Zvcih2YXIgbz1KLkZJTEVfSURFTlRJRklFUl9MRU5HVEgtMTtvPj0wO28tLSl0aGlzLndyaXRlSW50OChpLmNoYXJDb2RlQXQobykpfXRoaXMucHJlcCh0aGlzLm1pbmFsaWduLEouU0laRU9GX0lOVCtuKSx0aGlzLmFkZE9mZnNldChlKSxuJiZ0aGlzLmFkZEludDMyKHRoaXMuYmIuY2FwYWNpdHkoKS10aGlzLnNwYWNlKSx0aGlzLmJiLnNldFBvc2l0aW9uKHRoaXMuc3BhY2UpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaFNpemVQcmVmaXhlZD1mdW5jdGlvbihlLHQpe3RoaXMuZmluaXNoKGUsdCwhMCl9LEouQnVpbGRlci5wcm90b3R5cGUucmVxdWlyZWRGaWVsZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuY2FwYWNpdHkoKS1lLG49ci10aGlzLmJiLnJlYWRJbnQzMihyKTtpZighKDAhPXRoaXMuYmIucmVhZEludDE2KG4rdCkpKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IGZpZWxkICIrdCsiIG11c3QgYmUgc2V0Iil9LEouQnVpbGRlci5wcm90b3R5cGUuc3RhcnRWZWN0b3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubm90TmVzdGVkKCksdGhpcy52ZWN0b3JfbnVtX2VsZW1zPXQsdGhpcy5wcmVwKEouU0laRU9GX0lOVCxlKnQpLHRoaXMucHJlcChyLGUqdCl9LEouQnVpbGRlci5wcm90b3R5cGUuZW5kVmVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JpdGVJbnQzMih0aGlzLnZlY3Rvcl9udW1fZWxlbXMpLHRoaXMub2Zmc2V0KCl9LEouQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlU3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXZhciB0PWU7ZWxzZXt0PVtdO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KXt2YXIgbixpPWUuY2hhckNvZGVBdChyKyspO2lmKGk8NTUyOTZ8fGk+PTU2MzIwKW49aTtlbHNlIG49KGk8PDEwKStlLmNoYXJDb2RlQXQocisrKSstNTY2MTM4ODg7bjwxMjg/dC5wdXNoKG4pOihuPDIwNDg/dC5wdXNoKG4+PjYmMzF8MTkyKToobjw2NTUzNj90LnB1c2gobj4+MTImMTV8MjI0KTp0LnB1c2gobj4+MTgmN3wyNDAsbj4+MTImNjN8MTI4KSx0LnB1c2gobj4+NiY2M3wxMjgpKSx0LnB1c2goNjMmbnwxMjgpKX19dGhpcy5hZGRJbnQ4KDApLHRoaXMuc3RhcnRWZWN0b3IoMSx0Lmxlbmd0aCwxKSx0aGlzLmJiLnNldFBvc2l0aW9uKHRoaXMuc3BhY2UtPXQubGVuZ3RoKTtyPTA7Zm9yKHZhciBvPXRoaXMuc3BhY2UsYT10aGlzLmJiLmJ5dGVzKCk7cjx0Lmxlbmd0aDtyKyspYVtvKytdPXRbcl07cmV0dXJuIHRoaXMuZW5kVmVjdG9yKCl9LEouQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlTG9uZz1mdW5jdGlvbihlLHQpe3JldHVybiBKLkxvbmcuY3JlYXRlKGUsdCl9LEouQnl0ZUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLmJ5dGVzXz1lLHRoaXMucG9zaXRpb25fPTB9LEouQnl0ZUJ1ZmZlci5hbGxvY2F0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEouQnl0ZUJ1ZmZlcihuZXcgVWludDhBcnJheShlKSl9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uXz0wfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnl0ZXNffSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25ffSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMucG9zaXRpb25fPWV9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2FwYWNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlc18ubGVuZ3RofSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRVaW50OChlKTw8MjQ+PjI0fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ieXRlc19bZV19LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRVaW50MTYoZSk8PDE2Pj4xNn0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ5dGVzX1tlXXx0aGlzLmJ5dGVzX1tlKzFdPDw4fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ieXRlc19bZV18dGhpcy5ieXRlc19bZSsxXTw8OHx0aGlzLmJ5dGVzX1tlKzJdPDwxNnx0aGlzLmJ5dGVzX1tlKzNdPDwyNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRJbnQzMihlKT4+PjB9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDY0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSi5Mb25nKHRoaXMucmVhZEludDMyKGUpLHRoaXMucmVhZEludDMyKGUrNCkpfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50NjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKLkxvbmcodGhpcy5yZWFkVWludDMyKGUpLHRoaXMucmVhZFVpbnQzMihlKzQpKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXQzMj1mdW5jdGlvbihlKXtyZXR1cm4gSi5pbnQzMlswXT10aGlzLnJlYWRJbnQzMihlKSxKLmZsb2F0MzJbMF19LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0NjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEouaW50MzJbSi5pc0xpdHRsZUVuZGlhbj8wOjFdPXRoaXMucmVhZEludDMyKGUpLEouaW50MzJbSi5pc0xpdHRsZUVuZGlhbj8xOjBdPXRoaXMucmVhZEludDMyKGUrNCksSi5mbG9hdDY0WzBdfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OD1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2PWZ1bmN0aW9uKGUsdCl7dGhpcy5ieXRlc19bZV09dCx0aGlzLmJ5dGVzX1tlKzFdPXQ+Pjh9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44LHRoaXMuYnl0ZXNfW2UrMl09dD4+MTYsdGhpcy5ieXRlc19bZSszXT10Pj4yNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44LHRoaXMuYnl0ZXNfW2UrMl09dD4+MTYsdGhpcy5ieXRlc19bZSszXT10Pj4yNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDY0PWZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZUludDMyKGUsdC5sb3cpLHRoaXMud3JpdGVJbnQzMihlKzQsdC5oaWdoKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ2ND1mdW5jdGlvbihlLHQpe3RoaXMud3JpdGVVaW50MzIoZSx0LmxvdyksdGhpcy53cml0ZVVpbnQzMihlKzQsdC5oaWdoKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0MzI9ZnVuY3Rpb24oZSx0KXtKLmZsb2F0MzJbMF09dCx0aGlzLndyaXRlSW50MzIoZSxKLmludDMyWzBdKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0NjQ9ZnVuY3Rpb24oZSx0KXtKLmZsb2F0NjRbMF09dCx0aGlzLndyaXRlSW50MzIoZSxKLmludDMyW0ouaXNMaXR0bGVFbmRpYW4/MDoxXSksdGhpcy53cml0ZUludDMyKGUrNCxKLmludDMyW0ouaXNMaXR0bGVFbmRpYW4/MTowXSl9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuZ2V0QnVmZmVySWRlbnRpZmllcj1mdW5jdGlvbigpe2lmKHRoaXMuYnl0ZXNfLmxlbmd0aDx0aGlzLnBvc2l0aW9uXytKLlNJWkVPRl9JTlQrSi5GSUxFX0lERU5USUZJRVJfTEVOR1RIKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IEJ5dGVCdWZmZXIgaXMgdG9vIHNob3J0IHRvIGNvbnRhaW4gYW4gaWRlbnRpZmllci4iKTtmb3IodmFyIGU9IiIsdD0wO3Q8Si5GSUxFX0lERU5USUZJRVJfTEVOR1RIO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmVhZEludDgodGhpcy5wb3NpdGlvbl8rSi5TSVpFT0ZfSU5UK3QpKTtyZXR1cm4gZX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX29mZnNldD1mdW5jdGlvbihlLHQpe3ZhciByPWUtdGhpcy5yZWFkSW50MzIoZSk7cmV0dXJuIHQ8dGhpcy5yZWFkSW50MTYocik/dGhpcy5yZWFkSW50MTYocit0KTowfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLl9fdW5pb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5iYl9wb3M9dCt0aGlzLnJlYWRJbnQzMih0KSxlLmJiPXRoaXMsZX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3N0cmluZz1mdW5jdGlvbihlLHQpe2UrPXRoaXMucmVhZEludDMyKGUpO3ZhciByPXRoaXMucmVhZEludDMyKGUpLG49IiIsaT0wO2lmKGUrPUouU0laRU9GX0lOVCx0PT09Si5FbmNvZGluZy5VVEY4X0JZVEVTKXJldHVybiB0aGlzLmJ5dGVzXy5zdWJhcnJheShlLGUrcik7Zm9yKDtpPHI7KXt2YXIgbyxhPXRoaXMucmVhZFVpbnQ4KGUraSsrKTtpZihhPDE5MilvPWE7ZWxzZXt2YXIgdT10aGlzLnJlYWRVaW50OChlK2krKyk7aWYoYTwyMjQpbz0oMzEmYSk8PDZ8NjMmdTtlbHNle3ZhciBzPXRoaXMucmVhZFVpbnQ4KGUraSsrKTtpZihhPDI0MClvPSgxNSZhKTw8MTJ8KDYzJnUpPDw2fDYzJnM7ZWxzZSBvPSg3JmEpPDwxOHwoNjMmdSk8PDEyfCg2MyZzKTw8Nnw2MyZ0aGlzLnJlYWRVaW50OChlK2krKyl9fW88NjU1MzY/bis9U3RyaW5nLmZyb21DaGFyQ29kZShvKTooby09NjU1MzYsbis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5Nisobz4+MTApLDU2MzIwKygxMDIzJm8pKSl9cmV0dXJuIG59LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuX19pbmRpcmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLnJlYWRJbnQzMihlKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3ZlY3Rvcj1mdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLnJlYWRJbnQzMihlKStKLlNJWkVPRl9JTlR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuX192ZWN0b3JfbGVuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRJbnQzMihlK3RoaXMucmVhZEludDMyKGUpKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX2hhc19pZGVudGlmaWVyPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoIT1KLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogZmlsZSBpZGVudGlmaWVyIG11c3QgYmUgbGVuZ3RoICIrSi5GSUxFX0lERU5USUZJRVJfTEVOR1RIKTtmb3IodmFyIHQ9MDt0PEouRklMRV9JREVOVElGSUVSX0xFTkdUSDt0KyspaWYoZS5jaGFyQ29kZUF0KHQpIT10aGlzLnJlYWRJbnQ4KHRoaXMucG9zaXRpb25fK0ouU0laRU9GX0lOVCt0KSlyZXR1cm4hMTtyZXR1cm4hMH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5jcmVhdGVMb25nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEouTG9uZy5jcmVhdGUoZSx0KX07dmFyIFo9dihPYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxmbGF0YnVmZmVyczpKfSkpLEs9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEssIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEsuZW5jb2RlVXRmOD1LLmRlY29kZVV0Zjg9dm9pZCAwO3ZhciBYPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKTtLLmRlY29kZVV0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuIFguZGVjb2RlKGUpfTt2YXIgcT1uZXcgVGV4dEVuY29kZXI7Sy5lbmNvZGVVdGY4PWZ1bmN0aW9uKGUpe3JldHVybiBxLmVuY29kZShlKX07dmFyIFE9e30sJD17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQXN5bmNRdWV1ZT1lLlJlYWRhYmxlSW50ZXJvcD1lLkFycm93SlNPTj1lLklURVJBVE9SX0RPTkU9dm9pZCAwO3ZhciB0PUguZXhwb3J0cyxyPVk7ZS5JVEVSQVRPUl9ET05FPU9iamVjdC5mcmVlemUoe2RvbmU6ITAsdmFsdWU6dm9pZCAwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2pzb249ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzY2hlbWEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fanNvbi5zY2hlbWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2pzb24uYmF0Y2hlc3x8W119LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fanNvbi5kaWN0aW9uYXJpZXN8fFtdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7ZS5BcnJvd0pTT049bjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnRlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRET01TdHJlYW0oKS50ZWUoKX0sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9nZXROb2RlU3RyZWFtKCkucGlwZShlLHQpfSxlLnByb3RvdHlwZS5waXBlVG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0RE9NU3RyZWFtKCkucGlwZVRvKGUsdCl9LGUucHJvdG90eXBlLnBpcGVUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2dldERPTVN0cmVhbSgpLnBpcGVUaHJvdWdoKGUsdCl9LGUucHJvdG90eXBlLl9nZXRET01TdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRE9NU3RyZWFtfHwodGhpcy5fRE9NU3RyZWFtPXRoaXMudG9ET01TdHJlYW0oKSl9LGUucHJvdG90eXBlLl9nZXROb2RlU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVTdHJlYW18fCh0aGlzLl9ub2RlU3RyZWFtPXRoaXMudG9Ob2RlU3RyZWFtKCkpfSxlfSgpO2UuUmVhZGFibGVJbnRlcm9wPWk7dmFyIG89ZnVuY3Rpb24obil7ZnVuY3Rpb24gaSgpe3ZhciBlPW4uY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5fdmFsdWVzPVtdLGUucmVzb2x2ZXJzPVtdLGUuX2Nsb3NlZFByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jbG9zZWRQcm9taXNlUmVzb2x2ZT10fSkpLGV9cmV0dXJuIHQuX19leHRlbmRzKGksbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjbG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkUHJvbWlzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucmV0dXJuKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2Vuc3VyZU9wZW4oKSYmKHRoaXMucmVzb2x2ZXJzLmxlbmd0aDw9MD90aGlzLl92YWx1ZXMucHVzaChlKTp0aGlzLnJlc29sdmVycy5zaGlmdCgpLnJlc29sdmUoe2RvbmU6ITEsdmFsdWU6ZX0pKX0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSl7dGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUmJih0aGlzLnJlc29sdmVycy5sZW5ndGg8PTA/dGhpcy5fZXJyb3I9e2Vycm9yOmV9OnRoaXMucmVzb2x2ZXJzLnNoaWZ0KCkucmVqZWN0KHtkb25lOiEwLHZhbHVlOmV9KSl9LGkucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUpe2Zvcih2YXIgdD10aGlzLnJlc29sdmVyczt0Lmxlbmd0aD4wOyl0LnNoaWZ0KCkucmVzb2x2ZShlLklURVJBVE9SX0RPTkUpO3RoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKCksdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmU9dm9pZCAwfX0saS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnRvRE9NU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiByLmRlZmF1bHQudG9ET01TdHJlYW0odGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmV8fHRoaXMuX2Vycm9yP3RoaXM6dGhpcy5fdmFsdWVzLGUpfSxpLnByb3RvdHlwZS50b05vZGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmYXVsdC50b05vZGVTdHJlYW0odGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmV8fHRoaXMuX2Vycm9yP3RoaXM6dGhpcy5fdmFsdWVzLGUpfSxpLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihyKXtyZXR1cm4gdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5hYm9ydChyKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMixlLklURVJBVE9SX0RPTkVdfX0pKX0pKX0saS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKHIpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmNsb3NlKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIsZS5JVEVSQVRPUl9ET05FXX19KSl9KSl9LGkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dChlLCJyZWFkIildO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKS52YWx1ZV19fSkpfSkpfSxpLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoZSwicGVlayIpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pKX0pKX0saS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGg+MD9Qcm9taXNlLnJlc29sdmUoe2RvbmU6ITEsdmFsdWU6dGhpcy5fdmFsdWVzLnNoaWZ0KCl9KTp0aGlzLl9lcnJvcj9Qcm9taXNlLnJlamVjdCh7ZG9uZTohMCx2YWx1ZTp0aGlzLl9lcnJvci5lcnJvcn0pOnRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlP25ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe3QucmVzb2x2ZXJzLnB1c2goe3Jlc29sdmU6ZSxyZWplY3Q6cn0pfSkpOlByb21pc2UucmVzb2x2ZShlLklURVJBVE9SX0RPTkUpfSxpLnByb3RvdHlwZS5fZW5zdXJlT3Blbj1mdW5jdGlvbigpe2lmKHRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKXJldHVybiEwO3Rocm93IG5ldyBFcnJvcigiQXN5bmNRdWV1ZSBpcyBjbG9zZWQiKX0saX0oaSk7ZS5Bc3luY1F1ZXVlPW99KCQpLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmlzUmVhZGFibGVOb2RlU3RyZWFtPWUuaXNXcml0YWJsZU5vZGVTdHJlYW09ZS5pc1JlYWRhYmxlRE9NU3RyZWFtPWUuaXNXcml0YWJsZURPTVN0cmVhbT1lLmlzRmV0Y2hSZXNwb25zZT1lLmlzRlNSZWFkU3RyZWFtPWUuaXNGaWxlSGFuZGxlPWUuaXNVbmRlcmx5aW5nU2luaz1lLmlzSXRlcmF0b3JSZXN1bHQ9ZS5pc0FycmF5TGlrZT1lLmlzQXJyb3dKU09OPWUuaXNBc3luY0l0ZXJhYmxlPWUuaXNJdGVyYWJsZT1lLmlzT2JzZXJ2YWJsZT1lLmlzUHJvbWlzZT1lLmlzT2JqZWN0PWUuQmlnVWludDY0QXJyYXlBdmFpbGFibGU9ZS5CaWdVaW50NjRBcnJheT1lLkJpZ0ludDY0QXJyYXlBdmFpbGFibGU9ZS5CaWdJbnQ2NEFycmF5PWUuQmlnSW50QXZhaWxhYmxlPWUuQmlnSW50PXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj0kLG49dC5fX3JlYWQoZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQmlnSW50IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCIpfTtmdW5jdGlvbiB0KCl7dGhyb3cgZSgpfXJldHVybiB0LmFzSW50Tj1mdW5jdGlvbigpe3Rocm93IGUoKX0sdC5hc1VpbnROPWZ1bmN0aW9uKCl7dGhyb3cgZSgpfSwidW5kZWZpbmVkIiE9dHlwZW9mIEJpZ0ludD9bQmlnSW50LCEwXTpbdCwhMV19KCksMiksaT1uWzBdLG89blsxXTtlLkJpZ0ludD1pLGUuQmlnSW50QXZhaWxhYmxlPW87dmFyIGEsdSxzPXQuX19yZWFkKChhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJCaWdJbnQ2NEFycmF5IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCIpfSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3Rocm93IGEoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJZVEVTX1BFUl9FTEVNRU5UIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5vZj1mdW5jdGlvbigpe3Rocm93IGEoKX0sZS5mcm9tPWZ1bmN0aW9uKCl7dGhyb3cgYSgpfSxlfSgpLCJ1bmRlZmluZWQiIT10eXBlb2YgQmlnSW50NjRBcnJheT9bQmlnSW50NjRBcnJheSwhMF06W3UsITFdKSwyKSxjPXNbMF0sbD1zWzFdO2UuQmlnSW50NjRBcnJheT1jLGUuQmlnSW50NjRBcnJheUF2YWlsYWJsZT1sO3ZhciBmLGQscD10Ll9fcmVhZCgoZj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQmlnVWludDY0QXJyYXkgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Iil9LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhyb3cgZigpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQllURVNfUEVSX0VMRU1FTlQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gOH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLm9mPWZ1bmN0aW9uKCl7dGhyb3cgZigpfSxlLmZyb209ZnVuY3Rpb24oKXt0aHJvdyBmKCl9LGV9KCksInVuZGVmaW5lZCIhPXR5cGVvZiBCaWdVaW50NjRBcnJheT9bQmlnVWludDY0QXJyYXksITBdOltkLCExXSksMikseT1wWzBdLGg9cFsxXTtlLkJpZ1VpbnQ2NEFycmF5PXksZS5CaWdVaW50NjRBcnJheUF2YWlsYWJsZT1oO3ZhciBiPWZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX0sdj1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlfSxfPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfTtlLmlzT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZPYmplY3QoZSk9PT1lfSxlLmlzUHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnRoZW4pfSxlLmlzT2JzZXJ2YWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnN1YnNjcmliZSl9LGUuaXNJdGVyYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0W1N5bWJvbC5pdGVyYXRvcl0pfSxlLmlzQXN5bmNJdGVyYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSl9LGUuaXNBcnJvd0pTT049ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJmUuaXNPYmplY3QodC5zY2hlbWEpfSxlLmlzQXJyYXlMaWtlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiZiKHQubGVuZ3RoKX0sZS5pc0l0ZXJhdG9yUmVzdWx0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiYiZG9uZSJpbiB0JiYidmFsdWUiaW4gdH0sZS5pc1VuZGVybHlpbmdTaW5rPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiZfKHQuYWJvcnQpJiZfKHQuY2xvc2UpJiZfKHQuc3RhcnQpJiZfKHQud3JpdGUpfSxlLmlzRmlsZUhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnN0YXQpJiZiKHQuZmQpfSxlLmlzRlNSZWFkU3RyZWFtPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzUmVhZGFibGVOb2RlU3RyZWFtKHQpJiZiKHQuYnl0ZXNSZWFkKX0sZS5pc0ZldGNoUmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJmUuaXNSZWFkYWJsZURPTVN0cmVhbSh0LmJvZHkpfSxlLmlzV3JpdGFibGVET01TdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5hYm9ydCkmJl8odC5nZXRXcml0ZXIpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNSZWFkYWJsZURPTVN0cmVhbT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LmNhbmNlbCkmJl8odC5nZXRSZWFkZXIpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNXcml0YWJsZU5vZGVTdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5lbmQpJiZfKHQud3JpdGUpJiZ2KHQud3JpdGFibGUpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNSZWFkYWJsZU5vZGVTdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5yZWFkKSYmXyh0LnBpcGUpJiZ2KHQucmVhZGFibGUpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9fShRKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRy5jb21wYXJlQXJyYXlMaWtlPUcucmViYXNlVmFsdWVPZmZzZXRzPUcudG9VaW50OENsYW1wZWRBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0Zsb2F0NjRBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0Zsb2F0MzJBcnJheUFzeW5jSXRlcmF0b3I9Ry50b1VpbnQzMkFycmF5QXN5bmNJdGVyYXRvcj1HLnRvVWludDE2QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9VaW50OEFycmF5QXN5bmNJdGVyYXRvcj1HLnRvSW50MzJBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0ludDE2QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9JbnQ4QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9BcnJheUJ1ZmZlclZpZXdBc3luY0l0ZXJhdG9yPUcudG9VaW50OENsYW1wZWRBcnJheUl0ZXJhdG9yPUcudG9GbG9hdDY0QXJyYXlJdGVyYXRvcj1HLnRvRmxvYXQzMkFycmF5SXRlcmF0b3I9Ry50b1VpbnQzMkFycmF5SXRlcmF0b3I9Ry50b1VpbnQxNkFycmF5SXRlcmF0b3I9Ry50b1VpbnQ4QXJyYXlJdGVyYXRvcj1HLnRvSW50MzJBcnJheUl0ZXJhdG9yPUcudG9JbnQxNkFycmF5SXRlcmF0b3I9Ry50b0ludDhBcnJheUl0ZXJhdG9yPUcudG9BcnJheUJ1ZmZlclZpZXdJdGVyYXRvcj1HLnRvVWludDhDbGFtcGVkQXJyYXk9Ry50b0Zsb2F0NjRBcnJheT1HLnRvRmxvYXQzMkFycmF5PUcudG9CaWdVaW50NjRBcnJheT1HLnRvVWludDMyQXJyYXk9Ry50b1VpbnQxNkFycmF5PUcudG9VaW50OEFycmF5PUcudG9CaWdJbnQ2NEFycmF5PUcudG9JbnQzMkFycmF5PUcudG9JbnQxNkFycmF5PUcudG9JbnQ4QXJyYXk9Ry50b0FycmF5QnVmZmVyVmlldz1HLmpvaW5VaW50OEFycmF5cz1HLm1lbWNweT12b2lkIDA7dmFyIGVlPUguZXhwb3J0cyx0ZT1LLHJlPVouZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcixuZT1RLGllPSJ1bmRlZmluZWQiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXI7ZnVuY3Rpb24gb2UoZSx0LHIsbil7dm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09biYmKG49dC5ieXRlTGVuZ3RoKTt2YXIgaT1lLmJ5dGVMZW5ndGgsbz1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsaSksYT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsTWF0aC5taW4obixpKSk7cmV0dXJuIG8uc2V0KGEsciksZX1mdW5jdGlvbiBhZShlLHQpe3ZhciByPW5lLmlzSXRlcmF0b3JSZXN1bHQodCk/dC52YWx1ZTp0O3JldHVybiByIGluc3RhbmNlb2YgZT9lPT09VWludDhBcnJheT9uZXcgZShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTpyOnI/KCJzdHJpbmciPT10eXBlb2YgciYmKHI9dGUuZW5jb2RlVXRmOChyKSksciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxyIGluc3RhbmNlb2YgaWU/bmV3IGUocik6ciBpbnN0YW5jZW9mIHJlP2FlKGUsci5ieXRlcygpKTpBcnJheUJ1ZmZlci5pc1ZpZXcocik/ci5ieXRlTGVuZ3RoPD0wP25ldyBlKDApOm5ldyBlKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgvZS5CWVRFU19QRVJfRUxFTUVOVCk6ZS5mcm9tKHIpKTpuZXcgZSgwKX1HLm1lbWNweT1vZSxHLmpvaW5VaW50OEFycmF5cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuLGksbz1lWzBdP1tlWzBdXTpbXSxhPXZvaWQgMCx1PXZvaWQgMCxzPTAsYz0wLGw9ZS5sZW5ndGg7KytzPGw7KWE9b1tjXSx1PWVbc10sIWF8fCF1fHxhLmJ1ZmZlciE9PXUuYnVmZmVyfHx1LmJ5dGVPZmZzZXQ8YS5ieXRlT2Zmc2V0P3UmJihvWysrY109dSk6KHQ9YS5ieXRlT2Zmc2V0LG49YS5ieXRlTGVuZ3RoLHI9dS5ieXRlT2Zmc2V0LGk9dS5ieXRlTGVuZ3RoLHQrbjxyfHxyK2k8dD91JiYob1srK2NdPXUpOm9bY109bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsdCxyLXQraSkpO3JldHVybiBvfShlKSxhPW8ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLHU9MCxzPS0xLGM9TWF0aC5taW4odHx8MS8wLGEpLGw9by5sZW5ndGg7KytzPGw7KXtpZihjPD11KyhuPShyPW9bc10pLnN1YmFycmF5KDAsTWF0aC5taW4oci5sZW5ndGgsYy11KSkpLmxlbmd0aCl7bi5sZW5ndGg8ci5sZW5ndGg/b1tzXT1yLnN1YmFycmF5KG4ubGVuZ3RoKTpuLmxlbmd0aD09PXIubGVuZ3RoJiZzKyssaT9vZShpLG4sdSk6aT1uO2JyZWFrfW9lKGl8fChpPW5ldyBVaW50OEFycmF5KGMpKSxuLHUpLHUrPW4ubGVuZ3RofXJldHVybltpfHxuZXcgVWludDhBcnJheSgwKSxvLnNsaWNlKHMpLGEtKGk/aS5ieXRlTGVuZ3RoOjApXX0sRy50b0FycmF5QnVmZmVyVmlldz1hZSxHLnRvSW50OEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShJbnQ4QXJyYXksZSl9LEcudG9JbnQxNkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShJbnQxNkFycmF5LGUpfSxHLnRvSW50MzJBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gYWUoSW50MzJBcnJheSxlKX0sRy50b0JpZ0ludDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKG5lLkJpZ0ludDY0QXJyYXksZSl9LEcudG9VaW50OEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShVaW50OEFycmF5LGUpfSxHLnRvVWludDE2QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKFVpbnQxNkFycmF5LGUpfSxHLnRvVWludDMyQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKFVpbnQzMkFycmF5LGUpfSxHLnRvQmlnVWludDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKG5lLkJpZ1VpbnQ2NEFycmF5LGUpfSxHLnRvRmxvYXQzMkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShGbG9hdDMyQXJyYXksZSl9LEcudG9GbG9hdDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKEZsb2F0NjRBcnJheSxlKX0sRy50b1VpbnQ4Q2xhbXBlZEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShVaW50OENsYW1wZWRBcnJheSxlKX07dmFyIHVlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5leHQoKSxlfTtmdW5jdGlvbiBzZShlLHQpe3ZhciByLG47cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSxuPSJzdHJpbmciPT10eXBlb2YgdHx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQgaW5zdGFuY2VvZiBpZT9yKHQpOm5lLmlzSXRlcmFibGUodCk/dDpyKHQpLFs1LGVlLl9fdmFsdWVzKHVlKGZ1bmN0aW9uKHQpe3ZhciByLG4saTtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyPW51bGwsby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaT0obj10KS5uZXh0LFs0LGFlKGUscildO2Nhc2UgMjpyPWkuYXBwbHkobixbby5zZW50KCldKSxvLmxhYmVsPTM7Y2FzZSAzOmlmKCFyLmRvbmUpcmV0dXJuWzMsMV07by5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSkpfShuW1N5bWJvbC5pdGVyYXRvcl0oKSkpKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMixuZXcgZV19fSkpfWZ1bmN0aW9uIGNlKGUsdCl7cmV0dXJuIGVlLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7dmFyIHIsbixpLG8sYTtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbmUuaXNQcm9taXNlKHQpPyhyPWNlLG49W2VdLFs0LGVlLl9fYXdhaXQodCldKTpbMyw1XTtjYXNlIDE6cmV0dXJuWzUsZWUuX192YWx1ZXMoZWUuX19hc3luY0RlbGVnYXRvci5hcHBseSh2b2lkIDAsW2VlLl9fYXN5bmNWYWx1ZXMuYXBwbHkodm9pZCAwLFtyLmFwcGx5KHZvaWQgMCxuLmNvbmNhdChbdS5zZW50KCldKSldKV0pKV07Y2FzZSAyOmNhc2UgMzpjYXNlIDY6cmV0dXJuWzQsZWUuX19hd2FpdC5hcHBseSh2b2lkIDAsW3Uuc2VudCgpXSldO2Nhc2UgNDpjYXNlIDg6cmV0dXJuWzIsdS5zZW50KCldO2Nhc2UgNTpyZXR1cm4gaT1mdW5jdGlvbihlKXtyZXR1cm4gZWUuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxlZS5fX2F3YWl0KGUpXTtjYXNlIDE6cmV0dXJuWzQsZWUuX19hd2FpdC5hcHBseSh2b2lkIDAsW3Quc2VudCgpXSldO2Nhc2UgMjpyZXR1cm5bNCx0LnNlbnQoKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSkpfSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlZS5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe3JldHVybiBlZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls1LGVlLl9fdmFsdWVzKGVlLl9fYXN5bmNEZWxlZ2F0b3IoZWUuX19hc3luY1ZhbHVlcyh1ZShmdW5jdGlvbihlKXt2YXIgdCxyLG47cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6dD1udWxsLGkubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG49KHI9ZSkubmV4dCxbNCxudWxsPT10P3ZvaWQgMDp0LnZhbHVlXTtjYXNlIDI6dD1uLmFwcGx5KHIsW2kuc2VudCgpXSksaS5sYWJlbD0zO2Nhc2UgMzppZighdC5kb25lKXJldHVyblszLDFdO2kubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0oZVtTeW1ib2wuaXRlcmF0b3JdKCkpKSkpKV07Y2FzZSAxOnJldHVybls0LGVlLl9fYXdhaXQuYXBwbHkodm9pZCAwLFt0LnNlbnQoKV0pXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LGE9InN0cmluZyI9PXR5cGVvZiB0fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dCBpbnN0YW5jZW9mIGllP2kodCk6bmUuaXNJdGVyYWJsZSh0KT9vKHQpOm5lLmlzQXN5bmNJdGVyYWJsZSh0KT90OmkodCksWzUsZWUuX192YWx1ZXMoZWUuX19hc3luY0RlbGVnYXRvcihlZS5fX2FzeW5jVmFsdWVzKHVlKGZ1bmN0aW9uKHQpe3JldHVybiBlZS5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe3ZhciByLG4saTtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyPW51bGwsby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaT0obj10KS5uZXh0LFs0LGVlLl9fYXdhaXQoYWUoZSxyKSldO2Nhc2UgMjpyZXR1cm5bNCxvLnNlbnQoKV07Y2FzZSAzOnJldHVybls0LGVlLl9fYXdhaXQuYXBwbHkodm9pZCAwLFtpLmFwcGx5KG4sW28uc2VudCgpXSldKV07Y2FzZSA0OnI9by5zZW50KCksby5sYWJlbD01O2Nhc2UgNTppZighci5kb25lKXJldHVyblszLDFdO28ubGFiZWw9NjtjYXNlIDY6cmV0dXJuWzJdfX0pKX0pKX0oYVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSkpKSkpXTtjYXNlIDc6cmV0dXJuIHUuc2VudCgpLFs0LGVlLl9fYXdhaXQobmV3IGUpXX19KSl9KSl9Ry50b0FycmF5QnVmZmVyVmlld0l0ZXJhdG9yPXNlLEcudG9JbnQ4QXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gc2UoSW50OEFycmF5LGUpfSxHLnRvSW50MTZBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShJbnQxNkFycmF5LGUpfSxHLnRvSW50MzJBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShJbnQzMkFycmF5LGUpfSxHLnRvVWludDhBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShVaW50OEFycmF5LGUpfSxHLnRvVWludDE2QXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gc2UoVWludDE2QXJyYXksZSl9LEcudG9VaW50MzJBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShVaW50MzJBcnJheSxlKX0sRy50b0Zsb2F0MzJBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShGbG9hdDMyQXJyYXksZSl9LEcudG9GbG9hdDY0QXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gc2UoRmxvYXQ2NEFycmF5LGUpfSxHLnRvVWludDhDbGFtcGVkQXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gc2UoVWludDhDbGFtcGVkQXJyYXksZSl9LEcudG9BcnJheUJ1ZmZlclZpZXdBc3luY0l0ZXJhdG9yPWNlLEcudG9JbnQ4QXJyYXlBc3luY0l0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBjZShJbnQ4QXJyYXksZSl9LEcudG9JbnQxNkFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoSW50MTZBcnJheSxlKX0sRy50b0ludDMyQXJyYXlBc3luY0l0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBjZShJbnQzMkFycmF5LGUpfSxHLnRvVWludDhBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKFVpbnQ4QXJyYXksZSl9LEcudG9VaW50MTZBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKFVpbnQxNkFycmF5LGUpfSxHLnRvVWludDMyQXJyYXlBc3luY0l0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBjZShVaW50MzJBcnJheSxlKX0sRy50b0Zsb2F0MzJBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKEZsb2F0MzJBcnJheSxlKX0sRy50b0Zsb2F0NjRBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKEZsb2F0NjRBcnJheSxlKX0sRy50b1VpbnQ4Q2xhbXBlZEFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoVWludDhDbGFtcGVkQXJyYXksZSl9LEcucmViYXNlVmFsdWVPZmZzZXRzPWZ1bmN0aW9uKGUsdCxyKXtpZigwIT09ZSl7cj1yLnNsaWNlKDAsdCsxKTtmb3IodmFyIG49LTE7KytuPD10OylyW25dKz1lfXJldHVybiByfSxHLmNvbXBhcmVBcnJheUxpa2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj0wLG49ZS5sZW5ndGg7aWYobiE9PXQubGVuZ3RoKXJldHVybiExO2lmKG4+MClkb3tpZihlW3JdIT09dFtyXSlyZXR1cm4hMX13aGlsZSgrK3I8bik7cmV0dXJuITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShZLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbGU9SC5leHBvcnRzLGZlPUc7WS5kZWZhdWx0PXtmcm9tSXRlcmFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4icGVlayI9PT1hP2ZlLmpvaW5VaW50OEFycmF5cyhpLHUpWzBdOihlPWxlLl9fcmVhZChmZS5qb2luVWludDhBcnJheXMoaSx1KSwzKSxvPWVbMF0saT1lWzFdLHM9ZVsyXSxvKX12YXIgcixuLGksbyxhLHUscyxjLGwsZixkLHA7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHkpe3N3aXRjaCh5LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49ITEsaT1bXSxzPTAsWzQsbnVsbF07Y2FzZSAxOmY9eS5zZW50KCksYT1mLmNtZCx1PWYuc2l6ZSxjPWZlLnRvVWludDhBcnJheUl0ZXJhdG9yKGUpW1N5bWJvbC5pdGVyYXRvcl0oKSx5LmxhYmVsPTI7Y2FzZSAyOnkudHJ5cy5wdXNoKFsyLDksMTAsMTFdKSx5LmxhYmVsPTM7Y2FzZSAzOmlmKGQ9aXNOYU4odS1zKT9jLm5leHQodm9pZCAwKTpjLm5leHQodS1zKSxyPWQuZG9uZSxvPWQudmFsdWUsIXImJm8uYnl0ZUxlbmd0aD4wJiYoaS5wdXNoKG8pLHMrPW8uYnl0ZUxlbmd0aCksIShyfHx1PD1zKSlyZXR1cm5bMyw3XTt5LmxhYmVsPTQ7Y2FzZSA0OnJldHVybls0LHQoKV07Y2FzZSA1OnA9eS5zZW50KCksYT1wLmNtZCx1PXAuc2l6ZSx5LmxhYmVsPTY7Y2FzZSA2OmlmKHU8cylyZXR1cm5bMyw0XTt5LmxhYmVsPTc7Y2FzZSA3OmlmKCFyKXJldHVyblszLDNdO3kubGFiZWw9ODtjYXNlIDg6cmV0dXJuWzMsMTFdO2Nhc2UgOTpyZXR1cm4gbD15LnNlbnQoKSwobj0hMCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLnRocm93JiZjLnRocm93KGwpLFszLDExXTtjYXNlIDEwOnJldHVybiExPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGMucmV0dXJuJiZjLnJldHVybihudWxsKSxbN107Y2FzZSAxMTpyZXR1cm5bMixudWxsXX19KSl9KGUpKX0sZnJvbUFzeW5jSXRlcmFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGZ1bmN0aW9uKGUpe3JldHVybiBsZS5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4icGVlayI9PT1hP2ZlLmpvaW5VaW50OEFycmF5cyhpLHUpWzBdOihlPWxlLl9fcmVhZChmZS5qb2luVWludDhBcnJheXMoaSx1KSwzKSxvPWVbMF0saT1lWzFdLHM9ZVsyXSxvKX12YXIgcixuLGksbyxhLHUscyxjLGwsZixkLHAseTtyZXR1cm4gbGUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaCl7c3dpdGNoKGgubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj0hMSxpPVtdLHM9MCxbNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDE6cmV0dXJuWzQsaC5zZW50KCldO2Nhc2UgMjpkPWguc2VudCgpLGE9ZC5jbWQsdT1kLnNpemUsYz1mZS50b1VpbnQ4QXJyYXlBc3luY0l0ZXJhdG9yKGUpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpLGgubGFiZWw9MztjYXNlIDM6aC50cnlzLnB1c2goWzMsMTUsMTgsMjFdKSxoLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBpc05hTih1LXMpP1s0LGxlLl9fYXdhaXQoYy5uZXh0KHZvaWQgMCkpXTpbMyw2XTtjYXNlIDU6cmV0dXJuIGw9aC5zZW50KCksWzMsOF07Y2FzZSA2OnJldHVybls0LGxlLl9fYXdhaXQoYy5uZXh0KHUtcykpXTtjYXNlIDc6bD1oLnNlbnQoKSxoLmxhYmVsPTg7Y2FzZSA4OmlmKHI9KHA9bCkuZG9uZSxvPXAudmFsdWUsIXImJm8uYnl0ZUxlbmd0aD4wJiYoaS5wdXNoKG8pLHMrPW8uYnl0ZUxlbmd0aCksIShyfHx1PD1zKSlyZXR1cm5bMywxM107aC5sYWJlbD05O2Nhc2UgOTpyZXR1cm5bNCxsZS5fX2F3YWl0KHQoKSldO2Nhc2UgMTA6cmV0dXJuWzQsaC5zZW50KCldO2Nhc2UgMTE6eT1oLnNlbnQoKSxhPXkuY21kLHU9eS5zaXplLGgubGFiZWw9MTI7Y2FzZSAxMjppZih1PHMpcmV0dXJuWzMsOV07aC5sYWJlbD0xMztjYXNlIDEzOmlmKCFyKXJldHVyblszLDRdO2gubGFiZWw9MTQ7Y2FzZSAxNDpyZXR1cm5bMywyMV07Y2FzZSAxNTpyZXR1cm4gZj1oLnNlbnQoKSwobj0hMCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLnRocm93P1s0LGxlLl9fYXdhaXQoYy50aHJvdyhmKSldOlszLDE3XTtjYXNlIDE2Omguc2VudCgpLGgubGFiZWw9MTc7Y2FzZSAxNzpyZXR1cm5bMywyMV07Y2FzZSAxODpyZXR1cm4hMT09PW4mJiJmdW5jdGlvbiI9PXR5cGVvZiBjLnJldHVybj9bNCxsZS5fX2F3YWl0KGMucmV0dXJuKG5ldyBVaW50OEFycmF5KDApKSldOlszLDIwXTtjYXNlIDE5Omguc2VudCgpLGgubGFiZWw9MjA7Y2FzZSAyMDpyZXR1cm5bN107Y2FzZSAyMTpyZXR1cm5bNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDIyOnJldHVyblsyLGguc2VudCgpXX19KSl9KSl9KGUpKX0sZnJvbURPTVN0cmVhbTpmdW5jdGlvbihlKXtyZXR1cm4gZGUoZnVuY3Rpb24oZSl7cmV0dXJuIGxlLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiJwZWVrIj09PWE/ZmUuam9pblVpbnQ4QXJyYXlzKGksdSlbMF06KGU9bGUuX19yZWFkKGZlLmpvaW5VaW50OEFycmF5cyhpLHUpLDMpLG89ZVswXSxpPWVbMV0scz1lWzJdLG8pfXZhciByLG4saSxvLGEsdSxzLGMsbCxmLGQscCx5O3JldHVybiBsZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihoKXtzd2l0Y2goaC5sYWJlbCl7Y2FzZSAwOnJldHVybiByPSExLG49ITEsaT1bXSxzPTAsWzQsbGUuX19hd2FpdChudWxsKV07Y2FzZSAxOnJldHVybls0LGguc2VudCgpXTtjYXNlIDI6ZD1oLnNlbnQoKSxhPWQuY21kLHU9ZC5zaXplLGM9bmV3IHBlKGUpLGgubGFiZWw9MztjYXNlIDM6aC50cnlzLnB1c2goWzMsMTUsMTgsMjJdKSxoLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBpc05hTih1LXMpP1s0LGxlLl9fYXdhaXQoYy5yZWFkKHZvaWQgMCkpXTpbMyw2XTtjYXNlIDU6cmV0dXJuIGw9aC5zZW50KCksWzMsOF07Y2FzZSA2OnJldHVybls0LGxlLl9fYXdhaXQoYy5yZWFkKHUtcykpXTtjYXNlIDc6bD1oLnNlbnQoKSxoLmxhYmVsPTg7Y2FzZSA4OmlmKHI9KHA9bCkuZG9uZSxvPXAudmFsdWUsIXImJm8uYnl0ZUxlbmd0aD4wJiYoaS5wdXNoKGZlLnRvVWludDhBcnJheShvKSkscys9by5ieXRlTGVuZ3RoKSwhKHJ8fHU8PXMpKXJldHVyblszLDEzXTtoLmxhYmVsPTk7Y2FzZSA5OnJldHVybls0LGxlLl9fYXdhaXQodCgpKV07Y2FzZSAxMDpyZXR1cm5bNCxoLnNlbnQoKV07Y2FzZSAxMTp5PWguc2VudCgpLGE9eS5jbWQsdT15LnNpemUsaC5sYWJlbD0xMjtjYXNlIDEyOmlmKHU8cylyZXR1cm5bMyw5XTtoLmxhYmVsPTEzO2Nhc2UgMTM6aWYoIXIpcmV0dXJuWzMsNF07aC5sYWJlbD0xNDtjYXNlIDE0OnJldHVyblszLDIyXTtjYXNlIDE1OnJldHVybiBmPWguc2VudCgpLChuPSEwKT9bNCxsZS5fX2F3YWl0KGMuY2FuY2VsKGYpKV06WzMsMTddO2Nhc2UgMTY6aC5zZW50KCksaC5sYWJlbD0xNztjYXNlIDE3OnJldHVyblszLDIyXTtjYXNlIDE4OnJldHVybiExIT09bj9bMywyMF06WzQsbGUuX19hd2FpdChjLmNhbmNlbCgpKV07Y2FzZSAxOTpyZXR1cm4gaC5zZW50KCksWzMsMjFdO2Nhc2UgMjA6ZS5sb2NrZWQmJmMucmVsZWFzZUxvY2soKSxoLmxhYmVsPTIxO2Nhc2UgMjE6cmV0dXJuWzddO2Nhc2UgMjI6cmV0dXJuWzQsbGUuX19hd2FpdChudWxsKV07Y2FzZSAyMzpyZXR1cm5bMixoLnNlbnQoKV19fSkpfSkpfShlKSl9LGZyb21Ob2RlU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBkZShmdW5jdGlvbihlKXtyZXR1cm4gbGUuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuInBlZWsiPT09dT9mZS5qb2luVWludDhBcnJheXMobCxzKVswXTooZT1sZS5fX3JlYWQoZmUuam9pblVpbnQ4QXJyYXlzKGwscyksMyksZj1lWzBdLGw9ZVsxXSxjPWVbMl0sZil9ZnVuY3Rpb24gcih0LHIpe3JldHVybiBmPWw9bnVsbCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt2YXIgbyxhO3RyeXtmb3IodmFyIHU9bGUuX192YWx1ZXModCkscz11Lm5leHQoKTshcy5kb25lO3M9dS5uZXh0KCkpe3ZhciBjPWxlLl9fcmVhZChzLnZhbHVlLDIpLGw9Y1swXSxmPWNbMV07ZS5vZmYobCxmKX19Y2F0Y2gocCl7bz17ZXJyb3I6cH19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKGE9dS5yZXR1cm4pJiZhLmNhbGwodSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXRyeXt2YXIgZD1lLmRlc3Ryb3k7ZCYmZC5jYWxsKGUscikscj12b2lkIDB9Y2F0Y2goeSl7cj15fHxyfWZpbmFsbHl7bnVsbCE9cj9pKHIpOm4oKX19KSl9dmFyIG4saSxvLGEsdSxzLGMsbCxmLGQscCx5O3JldHVybiBsZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihoKXtzd2l0Y2goaC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPVtdLGk9ImVycm9yIixvPSExLGE9bnVsbCxjPTAsbD1bXSxbNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDE6cmV0dXJuWzQsaC5zZW50KCldO2Nhc2UgMjpyZXR1cm4gZD1oLnNlbnQoKSx1PWQuY21kLHM9ZC5zaXplLGUuaXNUVFk/WzQsbGUuX19hd2FpdChuZXcgVWludDhBcnJheSgwKSldOlszLDZdO2Nhc2UgMzpyZXR1cm5bNCxoLnNlbnQoKV07Y2FzZSA0OnJldHVybiBoLnNlbnQoKSxbNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDU6cmV0dXJuWzIsaC5zZW50KCldO2Nhc2UgNjpoLnRyeXMucHVzaChbNiwsMTUsMTddKSxuWzBdPWhlKGUsImVuZCIpLG5bMV09aGUoZSwiZXJyb3IiKSxoLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBuWzJdPWhlKGUsInJlYWRhYmxlIiksWzQsbGUuX19hd2FpdChQcm9taXNlLnJhY2Uobi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzJdfSkpKSldO2Nhc2UgODppZihwPWxlLl9fcmVhZC5hcHBseSh2b2lkIDAsW2guc2VudCgpLDJdKSxpPXBbMF0sYT1wWzFdLCJlcnJvciI9PT1pKXJldHVyblszLDE0XTtpZigobz0iZW5kIj09PWkpfHwoaXNGaW5pdGUocy1jKT8oZj1mZS50b1VpbnQ4QXJyYXkoZS5yZWFkKHMtYykpKS5ieXRlTGVuZ3RoPHMtYyYmKGY9ZmUudG9VaW50OEFycmF5KGUucmVhZCh2b2lkIDApKSk6Zj1mZS50b1VpbnQ4QXJyYXkoZS5yZWFkKHZvaWQgMCkpLGYuYnl0ZUxlbmd0aD4wJiYobC5wdXNoKGYpLGMrPWYuYnl0ZUxlbmd0aCkpLCEob3x8czw9YykpcmV0dXJuWzMsMTNdO2gubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzQsbGUuX19hd2FpdCh0KCkpXTtjYXNlIDEwOnJldHVybls0LGguc2VudCgpXTtjYXNlIDExOnk9aC5zZW50KCksdT15LmNtZCxzPXkuc2l6ZSxoLmxhYmVsPTEyO2Nhc2UgMTI6aWYoczxjKXJldHVyblszLDldO2gubGFiZWw9MTM7Y2FzZSAxMzppZighbylyZXR1cm5bMyw3XTtoLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuWzMsMTddO2Nhc2UgMTU6cmV0dXJuWzQsbGUuX19hd2FpdChyKG4sImVycm9yIj09PWk/YTpudWxsKSldO2Nhc2UgMTY6cmV0dXJuIGguc2VudCgpLFs3XTtjYXNlIDE3OnJldHVybls0LGxlLl9fYXdhaXQobnVsbCldO2Nhc2UgMTg6cmV0dXJuWzIsaC5zZW50KCldfX0pKX0pKX0oZSkpfSx0b0RPTVN0cmVhbTpmdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcignInRvRE9NU3RyZWFtIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX0sdG9Ob2RlU3RyZWFtOmZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IEVycm9yKCcidG9Ob2RlU3RyZWFtIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX19O3ZhciBkZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5uZXh0KCksZX07dmFyIHBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnNvdXJjZT1lLHRoaXMuYnlvYlJlYWRlcj1udWxsLHRoaXMuZGVmYXVsdFJlYWRlcj1udWxsO3RyeXt0aGlzLnN1cHBvcnRzQllPQj0hISh0aGlzLnJlYWRlcj10aGlzLmdldEJZT0JSZWFkZXIoKSl9Y2F0Y2godCl7dGhpcy5zdXBwb3J0c0JZT0I9ISh0aGlzLnJlYWRlcj10aGlzLmdldERlZmF1bHRSZWFkZXIoKSl9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNsb3NlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRlcj90aGlzLnJlYWRlci5jbG9zZWQuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpOlByb21pc2UucmVzb2x2ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlbGVhc2VMb2NrPWZ1bmN0aW9uKCl7dGhpcy5yZWFkZXImJnRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCksdGhpcy5yZWFkZXI9dGhpcy5ieW9iUmVhZGVyPXRoaXMuZGVmYXVsdFJlYWRlcj1udWxsfSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGxlLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybiBsZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiByPSh0PXRoaXMpLnJlYWRlcixuPXQuc291cmNlLHI/WzQsci5jYW5jZWwoZSkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpXTpbMywyXTtjYXNlIDE6aS5zZW50KCksaS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gbiYmbi5sb2NrZWQmJnRoaXMucmVsZWFzZUxvY2soKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3JldHVybiBsZS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIDA9PT1lP1syLHtkb25lOm51bGw9PXRoaXMucmVhZGVyLHZhbHVlOm5ldyBVaW50OEFycmF5KDApfV06dGhpcy5zdXBwb3J0c0JZT0ImJiJudW1iZXIiPT10eXBlb2YgZT9bMywyXTpbNCx0aGlzLmdldERlZmF1bHRSZWFkZXIoKS5yZWFkKCldO2Nhc2UgMTpyZXR1cm4gcj1uLnNlbnQoKSxbMyw0XTtjYXNlIDI6cmV0dXJuWzQsdGhpcy5yZWFkRnJvbUJZT0JSZWFkZXIoZSldO2Nhc2UgMzpyPW4uc2VudCgpLG4ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuISh0PXIpLmRvbmUmJih0LnZhbHVlPWZlLnRvVWludDhBcnJheSh0KSksWzIsdF19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0UmVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnlvYlJlYWRlciYmdGhpcy5yZWxlYXNlTG9jaygpLHRoaXMuZGVmYXVsdFJlYWRlcnx8KHRoaXMuZGVmYXVsdFJlYWRlcj10aGlzLnNvdXJjZS5nZXRSZWFkZXIoKSx0aGlzLmRlZmF1bHRSZWFkZXIuY2xvc2VkLmNhdGNoKChmdW5jdGlvbigpe30pKSksdGhpcy5yZWFkZXI9dGhpcy5kZWZhdWx0UmVhZGVyfSxlLnByb3RvdHlwZS5nZXRCWU9CUmVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFJlYWRlciYmdGhpcy5yZWxlYXNlTG9jaygpLHRoaXMuYnlvYlJlYWRlcnx8KHRoaXMuYnlvYlJlYWRlcj10aGlzLnNvdXJjZS5nZXRSZWFkZXIoe21vZGU6ImJ5b2IifSksdGhpcy5ieW9iUmVhZGVyLmNsb3NlZC5jYXRjaCgoZnVuY3Rpb24oKXt9KSkpLHRoaXMucmVhZGVyPXRoaXMuYnlvYlJlYWRlcn0sZS5wcm90b3R5cGUucmVhZEZyb21CWU9CUmVhZGVyPWZ1bmN0aW9uKGUpe3JldHVybiBsZS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBsZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHllKHRoaXMuZ2V0QllPQlJlYWRlcigpLG5ldyBBcnJheUJ1ZmZlcihlKSwwLGUpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldfX0pKX0pKX0sZX0oKTtmdW5jdGlvbiB5ZShlLHQscixuKXtyZXR1cm4gbGUuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxvLGE7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI+PW4/WzIse2RvbmU6ITEsdmFsdWU6bmV3IFVpbnQ4QXJyYXkodCwwLG4pfV06WzQsZS5yZWFkKG5ldyBVaW50OEFycmF5KHQscixuLXIpKV07Y2FzZSAxOnJldHVybiBpPXUuc2VudCgpLG89aS5kb25lLGE9aS52YWx1ZSwocis9YS5ieXRlTGVuZ3RoKTxuJiYhbz9bNCx5ZShlLGEuYnVmZmVyLHIsbildOlszLDNdO2Nhc2UgMjpyZXR1cm5bMix1LnNlbnQoKV07Y2FzZSAzOnJldHVyblsyLHtkb25lOm8sdmFsdWU6bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsMCxyKX1dfX0pKX0pKX12YXIgaGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPWZ1bmN0aW9uKGUpe3JldHVybiByKFt0LGVdKX07cmV0dXJuW3QsbixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSl7cmV0dXJuKHI9aSkmJmUub25jZSh0LG4pfSkpXX07dmFyIGJlPXt9LHZlPXt9LF9lPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShfZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX2UuVmVjdG9yPV9lLkFic3RyYWN0VmVjdG9yPXZvaWQgMDt2YXIgbWU9ZnVuY3Rpb24oKXt9O19lLkFic3RyYWN0VmVjdG9yPW1lLF9lLlZlY3Rvcj1tZSxtZS5wcm90b3R5cGUuZGF0YT1udWxsO3ZhciBnZT17fSxCZT17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU2NoZW1hPWUuQnVmZmVyPWUuRmllbGQ9ZS5EaWN0aW9uYXJ5RW5jb2Rpbmc9ZS5LZXlWYWx1ZT1lLkR1cmF0aW9uPWUuSW50ZXJ2YWw9ZS5UaW1lc3RhbXA9ZS5UaW1lPWUuRGF0ZT1lLkRlY2ltYWw9ZS5Cb29sPWUuRml4ZWRTaXplQmluYXJ5PWUuTGFyZ2VCaW5hcnk9ZS5MYXJnZVV0Zjg9ZS5CaW5hcnk9ZS5VdGY4PWUuRmxvYXRpbmdQb2ludD1lLkludD1lLlVuaW9uPWUuTWFwPWUuRml4ZWRTaXplTGlzdD1lLkxhcmdlTGlzdD1lLkxpc3Q9ZS5TdHJ1Y3RfPWUuTnVsbD1lLkVuZGlhbm5lc3M9ZS5EaWN0aW9uYXJ5S2luZD1lLlR5cGU9ZS5JbnRlcnZhbFVuaXQ9ZS5UaW1lVW5pdD1lLkRhdGVVbml0PWUuUHJlY2lzaW9uPWUuVW5pb25Nb2RlPWUuRmVhdHVyZT1lLk1ldGFkYXRhVmVyc2lvbj12b2lkIDA7dmFyIHQscixuLGksbyxhLHUscyxjLGwsZixkLHAseSxoLGIsdixfLG09WjsodD1lLk1ldGFkYXRhVmVyc2lvbnx8KGUuTWV0YWRhdGFWZXJzaW9uPXt9KSlbdC5WMT0wXT0iVjEiLHRbdC5WMj0xXT0iVjIiLHRbdC5WMz0yXT0iVjMiLHRbdC5WND0zXT0iVjQiLHRbdC5WNT00XT0iVjUiLChyPWUuRmVhdHVyZXx8KGUuRmVhdHVyZT17fSkpW3IuVU5VU0VEPTBdPSJVTlVTRUQiLHJbci5ESUNUSU9OQVJZX1JFUExBQ0VNRU5UPTFdPSJESUNUSU9OQVJZX1JFUExBQ0VNRU5UIixyW3IuQ09NUFJFU1NFRF9CT0RZPTJdPSJDT01QUkVTU0VEX0JPRFkiLChpPW49ZS5Vbmlvbk1vZGV8fChlLlVuaW9uTW9kZT17fSkpW2kuU3BhcnNlPTBdPSJTcGFyc2UiLGlbaS5EZW5zZT0xXT0iRGVuc2UiLChhPW89ZS5QcmVjaXNpb258fChlLlByZWNpc2lvbj17fSkpW2EuSEFMRj0wXT0iSEFMRiIsYVthLlNJTkdMRT0xXT0iU0lOR0xFIixhW2EuRE9VQkxFPTJdPSJET1VCTEUiLChzPXU9ZS5EYXRlVW5pdHx8KGUuRGF0ZVVuaXQ9e30pKVtzLkRBWT0wXT0iREFZIixzW3MuTUlMTElTRUNPTkQ9MV09Ik1JTExJU0VDT05EIiwobD1jPWUuVGltZVVuaXR8fChlLlRpbWVVbml0PXt9KSlbbC5TRUNPTkQ9MF09IlNFQ09ORCIsbFtsLk1JTExJU0VDT05EPTFdPSJNSUxMSVNFQ09ORCIsbFtsLk1JQ1JPU0VDT05EPTJdPSJNSUNST1NFQ09ORCIsbFtsLk5BTk9TRUNPTkQ9M109Ik5BTk9TRUNPTkQiLChkPWY9ZS5JbnRlcnZhbFVuaXR8fChlLkludGVydmFsVW5pdD17fSkpW2QuWUVBUl9NT05USD0wXT0iWUVBUl9NT05USCIsZFtkLkRBWV9USU1FPTFdPSJEQVlfVElNRSIsKHk9cD1lLlR5cGV8fChlLlR5cGU9e30pKVt5Lk5PTkU9MF09Ik5PTkUiLHlbeS5OdWxsPTFdPSJOdWxsIix5W3kuSW50PTJdPSJJbnQiLHlbeS5GbG9hdGluZ1BvaW50PTNdPSJGbG9hdGluZ1BvaW50Iix5W3kuQmluYXJ5PTRdPSJCaW5hcnkiLHlbeS5VdGY4PTVdPSJVdGY4Iix5W3kuQm9vbD02XT0iQm9vbCIseVt5LkRlY2ltYWw9N109IkRlY2ltYWwiLHlbeS5EYXRlPThdPSJEYXRlIix5W3kuVGltZT05XT0iVGltZSIseVt5LlRpbWVzdGFtcD0xMF09IlRpbWVzdGFtcCIseVt5LkludGVydmFsPTExXT0iSW50ZXJ2YWwiLHlbeS5MaXN0PTEyXT0iTGlzdCIseVt5LlN0cnVjdF89MTNdPSJTdHJ1Y3RfIix5W3kuVW5pb249MTRdPSJVbmlvbiIseVt5LkZpeGVkU2l6ZUJpbmFyeT0xNV09IkZpeGVkU2l6ZUJpbmFyeSIseVt5LkZpeGVkU2l6ZUxpc3Q9MTZdPSJGaXhlZFNpemVMaXN0Iix5W3kuTWFwPTE3XT0iTWFwIix5W3kuRHVyYXRpb249MThdPSJEdXJhdGlvbiIseVt5LkxhcmdlQmluYXJ5PTE5XT0iTGFyZ2VCaW5hcnkiLHlbeS5MYXJnZVV0Zjg9MjBdPSJMYXJnZVV0ZjgiLHlbeS5MYXJnZUxpc3Q9MjFdPSJMYXJnZUxpc3QiLChiPWg9ZS5EaWN0aW9uYXJ5S2luZHx8KGUuRGljdGlvbmFyeUtpbmQ9e30pKVtiLkRlbnNlQXJyYXk9MF09IkRlbnNlQXJyYXkiLChfPXY9ZS5FbmRpYW5uZXNzfHwoZS5FbmRpYW5uZXNzPXt9KSlbXy5MaXR0bGU9MF09IkxpdHRsZSIsX1tfLkJpZz0xXT0iQmlnIjt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTnVsbD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc051bGw9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnN0YXJ0TnVsbD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZE51bGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlTnVsbD1mdW5jdGlvbih0KXtyZXR1cm4gZS5zdGFydE51bGwodCksZS5lbmROdWxsKHQpfSxlfSgpO2UuTnVsbD1nO3ZhciBCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNTdHJ1Y3RfPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzU3RydWN0Xz1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnRTdHJ1Y3RfPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMCl9LGUuZW5kU3RydWN0Xz1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVTdHJ1Y3RfPWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0U3RydWN0Xyh0KSxlLmVuZFN0cnVjdF8odCl9LGV9KCk7ZS5TdHJ1Y3RfPUI7dmFyIFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0xpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydExpc3Q9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUxpc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRMaXN0KHQpLGUuZW5kTGlzdCh0KX0sZX0oKTtlLkxpc3Q9VDt2YXIgST1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTGFyZ2VMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTGFyZ2VMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydExhcmdlTGlzdD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZExhcmdlTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVMYXJnZUxpc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRMYXJnZUxpc3QodCksZS5lbmRMYXJnZUxpc3QodCl9LGV9KCk7ZS5MYXJnZUxpc3Q9STt2YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRml4ZWRTaXplTGlzdD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0ZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5saXN0U2l6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrZSk6MH0sZS5zdGFydEZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRMaXN0U2l6ZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQzMigwLHQsMCl9LGUuZW5kRml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnRGaXhlZFNpemVMaXN0KHQpLGUuYWRkTGlzdFNpemUodCxyKSxlLmVuZEZpeGVkU2l6ZUxpc3QodCl9LGV9KCk7ZS5GaXhlZFNpemVMaXN0PXc7dmFyIE89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc01hcD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc01hcD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmtleXNTb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiEhZSYmISF0aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpfSxlLnN0YXJ0TWFwPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMSl9LGUuYWRkS2V5c1NvcnRlZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDAsK3QsMCl9LGUuZW5kTWFwPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZU1hcD1mdW5jdGlvbih0LHIpe3JldHVybiBlLnN0YXJ0TWFwKHQpLGUuYWRkS2V5c1NvcnRlZCh0LHIpLGUuZW5kTWFwKHQpfSxlfSgpO2UuTWFwPU87dmFyIFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc1VuaW9uPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzVW5pb249ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5tb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpuLlNwYXJzZX0sZS5wcm90b3R5cGUudHlwZUlkcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiB0P3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrdCkrNCplKTowfSxlLnByb3RvdHlwZS50eXBlSWRzTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS50eXBlSWRzQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP25ldyBJbnQzMkFycmF5KHRoaXMuYmIuYnl0ZXMoKS5idWZmZXIsdGhpcy5iYi5ieXRlcygpLmJ5dGVPZmZzZXQrdGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytlKSx0aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKSk6bnVsbH0sZS5zdGFydFVuaW9uPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMil9LGUuYWRkTW9kZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsbi5TcGFyc2UpfSxlLmFkZFR5cGVJZHM9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5jcmVhdGVUeXBlSWRzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkSW50MzIodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRUeXBlSWRzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQsNCl9LGUuZW5kVW5pb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlVW5pb249ZnVuY3Rpb24odCxyLG4pe3JldHVybiBlLnN0YXJ0VW5pb24odCksZS5hZGRNb2RlKHQsciksZS5hZGRUeXBlSWRzKHQsbiksZS5lbmRVbmlvbih0KX0sZX0oKTtlLlVuaW9uPVM7dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0ludD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0ludD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmJpdFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQzMih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5pc1NpZ25lZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuISFlJiYhIXRoaXMuYmIucmVhZEludDgodGhpcy5iYl9wb3MrZSl9LGUuc3RhcnRJbnQ9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgyKX0sZS5hZGRCaXRXaWR0aD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQzMigwLHQsMCl9LGUuYWRkSXNTaWduZWQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50OCgxLCt0LDApfSxlLmVuZEludD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVJbnQ9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBlLnN0YXJ0SW50KHQpLGUuYWRkQml0V2lkdGgodCxyKSxlLmFkZElzU2lnbmVkKHQsbiksZS5lbmRJbnQodCl9LGV9KCk7ZS5JbnQ9QTt2YXIgRD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRmxvYXRpbmdQb2ludD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0Zsb2F0aW5nUG9pbnQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5wcmVjaXNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOm8uSEFMRn0sZS5zdGFydEZsb2F0aW5nUG9pbnQ9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRQcmVjaXNpb249ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LG8uSEFMRil9LGUuZW5kRmxvYXRpbmdQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVGbG9hdGluZ1BvaW50PWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnRGbG9hdGluZ1BvaW50KHQpLGUuYWRkUHJlY2lzaW9uKHQsciksZS5lbmRGbG9hdGluZ1BvaW50KHQpfSxlfSgpO2UuRmxvYXRpbmdQb2ludD1EO3ZhciBWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNVdGY4PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzVXRmOD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnRVdGY4PWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMCl9LGUuZW5kVXRmOD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVVdGY4PWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0VXRmOCh0KSxlLmVuZFV0ZjgodCl9LGV9KCk7ZS5VdGY4PVY7dmFyIFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0JpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0JpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnRCaW5hcnk9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRCaW5hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlQmluYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0QmluYXJ5KHQpLGUuZW5kQmluYXJ5KHQpfSxlfSgpO2UuQmluYXJ5PVA7dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0xhcmdlVXRmOD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0xhcmdlVXRmOD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnRMYXJnZVV0Zjg9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRMYXJnZVV0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlTGFyZ2VVdGY4PWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0TGFyZ2VVdGY4KHQpLGUuZW5kTGFyZ2VVdGY4KHQpfSxlfSgpO2UuTGFyZ2VVdGY4PU07dmFyIEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0xhcmdlQmluYXJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTGFyZ2VCaW5hcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnN0YXJ0TGFyZ2VCaW5hcnk9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRMYXJnZUJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVMYXJnZUJpbmFyeT1mdW5jdGlvbih0KXtyZXR1cm4gZS5zdGFydExhcmdlQmluYXJ5KHQpLGUuZW5kTGFyZ2VCaW5hcnkodCl9LGV9KCk7ZS5MYXJnZUJpbmFyeT1GO3ZhciBVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5ieXRlV2lkdGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK2UpOjB9LGUuc3RhcnRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRCeXRlV2lkdGg9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MzIoMCx0LDApfSxlLmVuZEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5zdGFydEZpeGVkU2l6ZUJpbmFyeSh0KSxlLmFkZEJ5dGVXaWR0aCh0LHIpLGUuZW5kRml4ZWRTaXplQmluYXJ5KHQpfSxlfSgpO2UuRml4ZWRTaXplQmluYXJ5PVU7dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0Jvb2w9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNCb29sPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydEJvb2w9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRCb29sPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUJvb2w9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRCb29sKHQpLGUuZW5kQm9vbCh0KX0sZX0oKTtlLkJvb2w9ajt2YXIgeD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRGVjaW1hbD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0RlY2ltYWw9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5wcmVjaXNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQzMih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5iaXRXaWR0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrZSk6MTI4fSxlLnN0YXJ0RGVjaW1hbD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDMpfSxlLmFkZFByZWNpc2lvbj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQzMigwLHQsMCl9LGUuYWRkU2NhbGU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MzIoMSx0LDApfSxlLmFkZEJpdFdpZHRoPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDMyKDIsdCwxMjgpfSxlLmVuZERlY2ltYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlRGVjaW1hbD1mdW5jdGlvbih0LHIsbixpKXtyZXR1cm4gZS5zdGFydERlY2ltYWwodCksZS5hZGRQcmVjaXNpb24odCxyKSxlLmFkZFNjYWxlKHQsbiksZS5hZGRCaXRXaWR0aCh0LGkpLGUuZW5kRGVjaW1hbCh0KX0sZX0oKTtlLkRlY2ltYWw9eDt2YXIgTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRGF0ZT1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0RhdGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS51bml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTp1Lk1JTExJU0VDT05EfSxlLnN0YXJ0RGF0ZT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDEpfSxlLmFkZFVuaXQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LHUuTUlMTElTRUNPTkQpfSxlLmVuZERhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlRGF0ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLnN0YXJ0RGF0ZSh0KSxlLmFkZFVuaXQodCxyKSxlLmVuZERhdGUodCl9LGV9KCk7ZS5EYXRlPUw7dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc1RpbWU9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNUaW1lPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUudW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MTYodGhpcy5iYl9wb3MrZSk6Yy5NSUxMSVNFQ09ORH0sZS5wcm90b3R5cGUuYml0V2lkdGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK2UpOjMyfSxlLnN0YXJ0VGltZT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDIpfSxlLmFkZFVuaXQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LGMuTUlMTElTRUNPTkQpfSxlLmFkZEJpdFdpZHRoPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDMyKDEsdCwzMil9LGUuZW5kVGltZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVUaW1lPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5zdGFydFRpbWUodCksZS5hZGRVbml0KHQsciksZS5hZGRCaXRXaWR0aCh0LG4pLGUuZW5kVGltZSh0KX0sZX0oKTtlLlRpbWU9Ujt2YXIgTj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzVGltZXN0YW1wPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzVGltZXN0YW1wPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUudW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MTYodGhpcy5iYl9wb3MrZSk6Yy5TRUNPTkR9LGUucHJvdG90eXBlLnRpbWV6b25lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIHQ/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3Bvcyt0LGUpOm51bGx9LGUuc3RhcnRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgyKX0sZS5hZGRVbml0PWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDE2KDAsdCxjLlNFQ09ORCl9LGUuYWRkVGltZXpvbmU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5lbmRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlVGltZXN0YW1wPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5zdGFydFRpbWVzdGFtcCh0KSxlLmFkZFVuaXQodCxyKSxlLmFkZFRpbWV6b25lKHQsbiksZS5lbmRUaW1lc3RhbXAodCl9LGV9KCk7ZS5UaW1lc3RhbXA9Tjt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzSW50ZXJ2YWw9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNJbnRlcnZhbD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnVuaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOmYuWUVBUl9NT05USH0sZS5zdGFydEludGVydmFsPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMSl9LGUuYWRkVW5pdD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsZi5ZRUFSX01PTlRIKX0sZS5lbmRJbnRlcnZhbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVJbnRlcnZhbD1mdW5jdGlvbih0LHIpe3JldHVybiBlLnN0YXJ0SW50ZXJ2YWwodCksZS5hZGRVbml0KHQsciksZS5lbmRJbnRlcnZhbCh0KX0sZX0oKTtlLkludGVydmFsPUU7dmFyIEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0R1cmF0aW9uPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRHVyYXRpb249ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS51bml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpjLk1JTExJU0VDT05EfSxlLnN0YXJ0RHVyYXRpb249ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRVbml0PWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDE2KDAsdCxjLk1JTExJU0VDT05EKX0sZS5lbmREdXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVEdXJhdGlvbj1mdW5jdGlvbih0LHIpe3JldHVybiBlLnN0YXJ0RHVyYXRpb24odCksZS5hZGRVbml0KHQsciksZS5lbmREdXJhdGlvbih0KX0sZX0oKTtlLkR1cmF0aW9uPUM7dmFyIHo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0tleVZhbHVlPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzS2V5VmFsdWU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gdD90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK3QsZSk6bnVsbH0sZS5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gdD90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK3QsZSk6bnVsbH0sZS5zdGFydEtleVZhbHVlPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMil9LGUuYWRkS2V5PWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgwLHQsMCl9LGUuYWRkVmFsdWU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5lbmRLZXlWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVLZXlWYWx1ZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIGUuc3RhcnRLZXlWYWx1ZSh0KSxlLmFkZEtleSh0LHIpLGUuYWRkVmFsdWUodCxuKSxlLmVuZEtleVZhbHVlKHQpfSxlfSgpO2UuS2V5VmFsdWU9ejt2YXIgaz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRGljdGlvbmFyeUVuY29kaW5nPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRGljdGlvbmFyeUVuY29kaW5nPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUuaWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zK2UpOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfSxlLnByb3RvdHlwZS5pbmRleFR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gdD8oZXx8bmV3IEEpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrdCksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuaXNPcmRlcmVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4hIWUmJiEhdGhpcy5iYi5yZWFkSW50OCh0aGlzLmJiX3BvcytlKX0sZS5wcm90b3R5cGUuZGljdGlvbmFyeUtpbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpoLkRlbnNlQXJyYXl9LGUuc3RhcnREaWN0aW9uYXJ5RW5jb2Rpbmc9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCg0KX0sZS5hZGRJZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ2NCgwLHQsZS5jcmVhdGVMb25nKDAsMCkpfSxlLmFkZEluZGV4VHlwZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMSx0LDApfSxlLmFkZElzT3JkZXJlZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDIsK3QsMCl9LGUuYWRkRGljdGlvbmFyeUtpbmQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMyx0LGguRGVuc2VBcnJheSl9LGUuZW5kRGljdGlvbmFyeUVuY29kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZURpY3Rpb25hcnlFbmNvZGluZz1mdW5jdGlvbih0LHIsbixpLG8pe3JldHVybiBlLnN0YXJ0RGljdGlvbmFyeUVuY29kaW5nKHQpLGUuYWRkSWQodCxyKSxlLmFkZEluZGV4VHlwZSh0LG4pLGUuYWRkSXNPcmRlcmVkKHQsaSksZS5hZGREaWN0aW9uYXJ5S2luZCh0LG8pLGUuZW5kRGljdGlvbmFyeUVuY29kaW5nKHQpfSxlfSgpO2UuRGljdGlvbmFyeUVuY29kaW5nPWs7dmFyIFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0ZpZWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRmllbGQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIHQ/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3Bvcyt0LGUpOm51bGx9LGUucHJvdG90eXBlLm51bGxhYmxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4hIWUmJiEhdGhpcy5iYi5yZWFkSW50OCh0aGlzLmJiX3BvcytlKX0sZS5wcm90b3R5cGUudHlwZVR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBlP3RoaXMuYmIucmVhZFVpbnQ4KHRoaXMuYmJfcG9zK2UpOnAuTk9ORX0sZS5wcm90b3R5cGUudHlwZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gdD90aGlzLmJiLl9fdW5pb24oZSx0aGlzLmJiX3Bvcyt0KTpudWxsfSxlLnByb3RvdHlwZS5kaWN0aW9uYXJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiB0PyhlfHxuZXcgaykuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3Bvcyt0KSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBuPyhyfHxuZXcgZSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK24pKzQqdCksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuY2hpbGRyZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE0KTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5jdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTYpO3JldHVybiByPyh0fHxuZXcgeikuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzQqZSksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuY3VzdG9tTWV0YWRhdGFMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE2KTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnN0YXJ0RmllbGQ9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCg3KX0sZS5hZGROYW1lPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgwLHQsMCl9LGUuYWRkTnVsbGFibGU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50OCgxLCt0LDApfSxlLmFkZFR5cGVUeXBlPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDgoMix0LHAuTk9ORSl9LGUuYWRkVHlwZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMyx0LDApfSxlLmFkZERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDQsdCwwKX0sZS5hZGRDaGlsZHJlbj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoNSx0LDApfSxlLmNyZWF0ZUNoaWxkcmVuVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkT2Zmc2V0KHRbcl0pO3JldHVybiBlLmVuZFZlY3RvcigpfSxlLnN0YXJ0Q2hpbGRyZW5WZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5hZGRDdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoNix0LDApfSxlLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkT2Zmc2V0KHRbcl0pO3JldHVybiBlLmVuZFZlY3RvcigpfSxlLnN0YXJ0Q3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5lbmRGaWVsZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVGaWVsZD1mdW5jdGlvbih0LHIsbixpLG8sYSx1LHMpe3JldHVybiBlLnN0YXJ0RmllbGQodCksZS5hZGROYW1lKHQsciksZS5hZGROdWxsYWJsZSh0LG4pLGUuYWRkVHlwZVR5cGUodCxpKSxlLmFkZFR5cGUodCxvKSxlLmFkZERpY3Rpb25hcnkodCxhKSxlLmFkZENoaWxkcmVuKHQsdSksZS5hZGRDdXN0b21NZXRhZGF0YSh0LHMpLGUuZW5kRmllbGQodCl9LGV9KCk7ZS5GaWVsZD1XO3ZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zKX0sZS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zKzgpfSxlLmNyZWF0ZUJ1ZmZlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUucHJlcCg4LDE2KSxlLndyaXRlSW50NjQociksZS53cml0ZUludDY0KHQpLGUub2Zmc2V0KCl9LGV9KCk7ZS5CdWZmZXI9WTt2YXIgSD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzU2NoZW1hPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzU2NoZW1hPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUuZW5kaWFubmVzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MTYodGhpcy5iYl9wb3MrZSk6di5MaXR0bGV9LGUucHJvdG90eXBlLmZpZWxkcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIHI/KHR8fG5ldyBXKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrNCplKSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5maWVsZHNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gcj8odHx8bmV3IHopLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSs0KmUpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5mZWF0dXJlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gdD90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3QpKzgqZSk6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9LGUucHJvdG90eXBlLmZlYXR1cmVzTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5zdGFydFNjaGVtYT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDQpfSxlLmFkZEVuZGlhbm5lc3M9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LHYuTGl0dGxlKX0sZS5hZGRGaWVsZHM9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5jcmVhdGVGaWVsZHNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRPZmZzZXQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRGaWVsZHNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5hZGRDdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMix0LDApfSxlLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkT2Zmc2V0KHRbcl0pO3JldHVybiBlLmVuZFZlY3RvcigpfSxlLnN0YXJ0Q3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5hZGRGZWF0dXJlcz1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMyx0LDApfSxlLmNyZWF0ZUZlYXR1cmVzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig4LHQubGVuZ3RoLDgpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkSW50NjQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRGZWF0dXJlc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoOCx0LDgpfSxlLmVuZFNjaGVtYT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5maW5pc2hTY2hlbWFCdWZmZXI9ZnVuY3Rpb24oZSx0KXtlLmZpbmlzaCh0KX0sZS5maW5pc2hTaXplUHJlZml4ZWRTY2hlbWFCdWZmZXI9ZnVuY3Rpb24oZSx0KXtlLmZpbmlzaCh0LHZvaWQgMCwhMCl9LGUuY3JlYXRlU2NoZW1hPWZ1bmN0aW9uKHQscixuLGksbyl7cmV0dXJuIGUuc3RhcnRTY2hlbWEodCksZS5hZGRFbmRpYW5uZXNzKHQsciksZS5hZGRGaWVsZHModCxuKSxlLmFkZEN1c3RvbU1ldGFkYXRhKHQsaSksZS5hZGRGZWF0dXJlcyh0LG8pLGUuZW5kU2NoZW1hKHQpfSxlfSgpO2UuU2NoZW1hPUh9KEJlKTt2YXIgVGU9e307IWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lc3NhZ2U9ZS5EaWN0aW9uYXJ5QmF0Y2g9ZS5SZWNvcmRCYXRjaD1lLkJvZHlDb21wcmVzc2lvbj1lLkZpZWxkTm9kZT1lLk1lc3NhZ2VIZWFkZXI9ZS5Cb2R5Q29tcHJlc3Npb25NZXRob2Q9ZS5Db21wcmVzc2lvblR5cGU9dm9pZCAwO3ZhciB0LHIsbixpLG8sYSx1PVoscz1CZTsocj10PWUuQ29tcHJlc3Npb25UeXBlfHwoZS5Db21wcmVzc2lvblR5cGU9e30pKVtyLkxaNF9GUkFNRT0wXT0iTFo0X0ZSQU1FIixyW3IuWlNURD0xXT0iWlNURCIsKGk9bj1lLkJvZHlDb21wcmVzc2lvbk1ldGhvZHx8KGUuQm9keUNvbXByZXNzaW9uTWV0aG9kPXt9KSlbaS5CVUZGRVI9MF09IkJVRkZFUiIsKGE9bz1lLk1lc3NhZ2VIZWFkZXJ8fChlLk1lc3NhZ2VIZWFkZXI9e30pKVthLk5PTkU9MF09Ik5PTkUiLGFbYS5TY2hlbWE9MV09IlNjaGVtYSIsYVthLkRpY3Rpb25hcnlCYXRjaD0yXT0iRGljdGlvbmFyeUJhdGNoIixhW2EuUmVjb3JkQmF0Y2g9M109IlJlY29yZEJhdGNoIixhW2EuVGVuc29yPTRdPSJUZW5zb3IiLGFbYS5TcGFyc2VUZW5zb3I9NV09IlNwYXJzZVRlbnNvciI7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MpfSxlLnByb3RvdHlwZS5udWxsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrOCl9LGUuY3JlYXRlRmllbGROb2RlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5wcmVwKDgsMTYpLGUud3JpdGVJbnQ2NChyKSxlLndyaXRlSW50NjQodCksZS5vZmZzZXQoKX0sZX0oKTtlLkZpZWxkTm9kZT1jO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNCb2R5Q29tcHJlc3Npb249ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNCb2R5Q29tcHJlc3Npb249ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrdS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5jb2RlYz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50OCh0aGlzLmJiX3BvcytlKTp0LkxaNF9GUkFNRX0sZS5wcm90b3R5cGUubWV0aG9kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpOm4uQlVGRkVSfSxlLnN0YXJ0Qm9keUNvbXByZXNzaW9uPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMil9LGUuYWRkQ29kZWM9ZnVuY3Rpb24oZSxyKXtlLmFkZEZpZWxkSW50OCgwLHIsdC5MWjRfRlJBTUUpfSxlLmFkZE1ldGhvZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDEsdCxuLkJVRkZFUil9LGUuZW5kQm9keUNvbXByZXNzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUJvZHlDb21wcmVzc2lvbj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIGUuc3RhcnRCb2R5Q29tcHJlc3Npb24odCksZS5hZGRDb2RlYyh0LHIpLGUuYWRkTWV0aG9kKHQsbiksZS5lbmRCb2R5Q29tcHJlc3Npb24odCl9LGV9KCk7ZS5Cb2R5Q29tcHJlc3Npb249bDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzUmVjb3JkQmF0Y2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNSZWNvcmRCYXRjaD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSt1LmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrZSk6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9LGUucHJvdG90eXBlLm5vZGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gcj8odHx8bmV3IGMpLl9faW5pdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzE2KmUsdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUubm9kZXNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmJ1ZmZlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiByPyh0fHxuZXcgcy5CdWZmZXIpLl9faW5pdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzE2KmUsdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuYnVmZmVyc0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5wcm90b3R5cGUuY29tcHJlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIHQ/KGV8fG5ldyBsKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK3QpLHRoaXMuYmIpOm51bGx9LGUuc3RhcnRSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDQpfSxlLmFkZExlbmd0aD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ2NCgwLHQsZS5jcmVhdGVMb25nKDAsMCkpfSxlLmFkZE5vZGVzPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgxLHQsMCl9LGUuc3RhcnROb2Rlc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoMTYsdCw4KX0sZS5hZGRCdWZmZXJzPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgyLHQsMCl9LGUuc3RhcnRCdWZmZXJzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3RvcigxNix0LDgpfSxlLmFkZENvbXByZXNzaW9uPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgzLHQsMCl9LGUuZW5kUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlUmVjb3JkQmF0Y2g9ZnVuY3Rpb24odCxyLG4saSxvKXtyZXR1cm4gZS5zdGFydFJlY29yZEJhdGNoKHQpLGUuYWRkTGVuZ3RoKHQsciksZS5hZGROb2Rlcyh0LG4pLGUuYWRkQnVmZmVycyh0LGkpLGUuYWRkQ29tcHJlc3Npb24odCxvKSxlLmVuZFJlY29yZEJhdGNoKHQpfSxlfSgpO2UuUmVjb3JkQmF0Y2g9Zjt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK3UuZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUuaWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zK2UpOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfSxlLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIHQ/KGV8fG5ldyBmKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK3QpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmlzRGVsdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiEhZSYmISF0aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpfSxlLnN0YXJ0RGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMyl9LGUuYWRkSWQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50NjQoMCx0LGUuY3JlYXRlTG9uZygwLDApKX0sZS5hZGREYXRhPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgxLHQsMCl9LGUuYWRkSXNEZWx0YT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDIsK3QsMCl9LGUuZW5kRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZURpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbih0LHIsbixpKXtyZXR1cm4gZS5zdGFydERpY3Rpb25hcnlCYXRjaCh0KSxlLmFkZElkKHQsciksZS5hZGREYXRhKHQsbiksZS5hZGRJc0RlbHRhKHQsaSksZS5lbmREaWN0aW9uYXJ5QmF0Y2godCl9LGV9KCk7ZS5EaWN0aW9uYXJ5QmF0Y2g9ZDt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTWVzc2FnZT1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc01lc3NhZ2U9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrdS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS52ZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpzLk1ldGFkYXRhVmVyc2lvbi5WMX0sZS5wcm90b3R5cGUuaGVhZGVyVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5yZWFkVWludDgodGhpcy5iYl9wb3MrZSk6by5OT05FfSxlLnByb3RvdHlwZS5oZWFkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gdD90aGlzLmJiLl9fdW5pb24oZSx0aGlzLmJiX3Bvcyt0KTpudWxsfSxlLnByb3RvdHlwZS5ib2R5TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrZSk6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIHI/KHR8fG5ldyBzLktleVZhbHVlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrNCplKSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5jdXN0b21NZXRhZGF0YUxlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUuc3RhcnRNZXNzYWdlPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoNSl9LGUuYWRkVmVyc2lvbj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQscy5NZXRhZGF0YVZlcnNpb24uVjEpfSxlLmFkZEhlYWRlclR5cGU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50OCgxLHQsby5OT05FKX0sZS5hZGRIZWFkZXI9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDIsdCwwKX0sZS5hZGRCb2R5TGVuZ3RoPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDY0KDMsdCxlLmNyZWF0ZUxvbmcoMCwwKSl9LGUuYWRkQ3VzdG9tTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDQsdCwwKX0sZS5jcmVhdGVDdXN0b21NZXRhZGF0YVZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0Lmxlbmd0aCw0KTtmb3IodmFyIHI9dC5sZW5ndGgtMTtyPj0wO3ItLSllLmFkZE9mZnNldCh0W3JdKTtyZXR1cm4gZS5lbmRWZWN0b3IoKX0sZS5zdGFydEN1c3RvbU1ldGFkYXRhVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQsNCl9LGUuZW5kTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5maW5pc2hNZXNzYWdlQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZS5maW5pc2godCl9LGUuZmluaXNoU2l6ZVByZWZpeGVkTWVzc2FnZUJ1ZmZlcj1mdW5jdGlvbihlLHQpe2UuZmluaXNoKHQsdm9pZCAwLCEwKX0sZS5jcmVhdGVNZXNzYWdlPWZ1bmN0aW9uKHQscixuLGksbyxhKXtyZXR1cm4gZS5zdGFydE1lc3NhZ2UodCksZS5hZGRWZXJzaW9uKHQsciksZS5hZGRIZWFkZXJUeXBlKHQsbiksZS5hZGRIZWFkZXIodCxpKSxlLmFkZEJvZHlMZW5ndGgodCxvKSxlLmFkZEN1c3RvbU1ldGFkYXRhKHQsYSksZS5lbmRNZXNzYWdlKHQpfSxlfSgpO2UuTWVzc2FnZT1wfShUZSksZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQnVmZmVyVHlwZT1lLlR5cGU9ZS5NZXNzYWdlSGVhZGVyPWUuTWV0YWRhdGFWZXJzaW9uPWUuSW50ZXJ2YWxVbml0PWUuVW5pb25Nb2RlPWUuUHJlY2lzaW9uPWUuVGltZVVuaXQ9ZS5EYXRlVW5pdD12b2lkIDA7dmFyIHQ9QmU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVVbml0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5EYXRlVW5pdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZVVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LlRpbWVVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJQcmVjaXNpb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LlByZWNpc2lvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25Nb2RlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Vbmlvbk1vZGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuSW50ZXJ2YWxVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXRhZGF0YVZlcnNpb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lk1ldGFkYXRhVmVyc2lvbn19KTt2YXIgcixuLGk9VGU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1lc3NhZ2VIZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLk1lc3NhZ2VIZWFkZXJ9fSksKHI9ZS5UeXBlfHwoZS5UeXBlPXt9KSlbci5OT05FPTBdPSJOT05FIixyW3IuTnVsbD0xXT0iTnVsbCIscltyLkludD0yXT0iSW50IixyW3IuRmxvYXQ9M109IkZsb2F0IixyW3IuQmluYXJ5PTRdPSJCaW5hcnkiLHJbci5VdGY4PTVdPSJVdGY4IixyW3IuQm9vbD02XT0iQm9vbCIscltyLkRlY2ltYWw9N109IkRlY2ltYWwiLHJbci5EYXRlPThdPSJEYXRlIixyW3IuVGltZT05XT0iVGltZSIscltyLlRpbWVzdGFtcD0xMF09IlRpbWVzdGFtcCIscltyLkludGVydmFsPTExXT0iSW50ZXJ2YWwiLHJbci5MaXN0PTEyXT0iTGlzdCIscltyLlN0cnVjdD0xM109IlN0cnVjdCIscltyLlVuaW9uPTE0XT0iVW5pb24iLHJbci5GaXhlZFNpemVCaW5hcnk9MTVdPSJGaXhlZFNpemVCaW5hcnkiLHJbci5GaXhlZFNpemVMaXN0PTE2XT0iRml4ZWRTaXplTGlzdCIscltyLk1hcD0xN109Ik1hcCIscltyLkRpY3Rpb25hcnk9LTFdPSJEaWN0aW9uYXJ5IixyW3IuSW50OD0tMl09IkludDgiLHJbci5JbnQxNj0tM109IkludDE2IixyW3IuSW50MzI9LTRdPSJJbnQzMiIscltyLkludDY0PS01XT0iSW50NjQiLHJbci5VaW50OD0tNl09IlVpbnQ4IixyW3IuVWludDE2PS03XT0iVWludDE2IixyW3IuVWludDMyPS04XT0iVWludDMyIixyW3IuVWludDY0PS05XT0iVWludDY0IixyW3IuRmxvYXQxNj0tMTBdPSJGbG9hdDE2IixyW3IuRmxvYXQzMj0tMTFdPSJGbG9hdDMyIixyW3IuRmxvYXQ2ND0tMTJdPSJGbG9hdDY0IixyW3IuRGF0ZURheT0tMTNdPSJEYXRlRGF5IixyW3IuRGF0ZU1pbGxpc2Vjb25kPS0xNF09IkRhdGVNaWxsaXNlY29uZCIscltyLlRpbWVzdGFtcFNlY29uZD0tMTVdPSJUaW1lc3RhbXBTZWNvbmQiLHJbci5UaW1lc3RhbXBNaWxsaXNlY29uZD0tMTZdPSJUaW1lc3RhbXBNaWxsaXNlY29uZCIscltyLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPS0xN109IlRpbWVzdGFtcE1pY3Jvc2Vjb25kIixyW3IuVGltZXN0YW1wTmFub3NlY29uZD0tMThdPSJUaW1lc3RhbXBOYW5vc2Vjb25kIixyW3IuVGltZVNlY29uZD0tMTldPSJUaW1lU2Vjb25kIixyW3IuVGltZU1pbGxpc2Vjb25kPS0yMF09IlRpbWVNaWxsaXNlY29uZCIscltyLlRpbWVNaWNyb3NlY29uZD0tMjFdPSJUaW1lTWljcm9zZWNvbmQiLHJbci5UaW1lTmFub3NlY29uZD0tMjJdPSJUaW1lTmFub3NlY29uZCIscltyLkRlbnNlVW5pb249LTIzXT0iRGVuc2VVbmlvbiIscltyLlNwYXJzZVVuaW9uPS0yNF09IlNwYXJzZVVuaW9uIixyW3IuSW50ZXJ2YWxEYXlUaW1lPS0yNV09IkludGVydmFsRGF5VGltZSIscltyLkludGVydmFsWWVhck1vbnRoPS0yNl09IkludGVydmFsWWVhck1vbnRoIiwobj1lLkJ1ZmZlclR5cGV8fChlLkJ1ZmZlclR5cGU9e30pKVtuLk9GRlNFVD0wXT0iT0ZGU0VUIixuW24uREFUQT0xXT0iREFUQSIsbltuLlZBTElESVRZPTJdPSJWQUxJRElUWSIsbltuLlRZUEU9M109IlRZUEUifShnZSk7dmFyIEllPXt9LHdlPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksd2UucG9wY250X3VpbnQzMj13ZS5wb3BjbnRfYXJyYXk9d2UucG9wY250X2JpdF9yYW5nZT13ZS5CaXRJdGVyYXRvcj13ZS5wYWNrQm9vbHM9d2UudHJ1bmNhdGVCaXRtYXA9d2Uuc2V0Qm9vbD13ZS5nZXRCaXQ9d2UuZ2V0Qm9vbD12b2lkIDA7dmFyIE9lPUguZXhwb3J0cztmdW5jdGlvbiBTZShlLHQscixuKXtyZXR1cm4gMCE9KHImMTw8bil9ZnVuY3Rpb24gQWUoZSx0LHIsbil7cmV0dXJuKHImMTw8bik+Pm59ZnVuY3Rpb24gRGUoZSl7dmFyIHQscixuPVtdLGk9MCxvPTAsYT0wO3RyeXtmb3IodmFyIHU9T2UuX192YWx1ZXMoZSkscz11Lm5leHQoKTshcy5kb25lO3M9dS5uZXh0KCkpe3MudmFsdWUmJihhfD0xPDxvKSw4PT0rK28mJihuW2krK109YSxhPW89MCl9fWNhdGNoKGwpe3Q9e2Vycm9yOmx9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPXUucmV0dXJuKSYmci5jYWxsKHUpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX0oMD09PWl8fG8+MCkmJihuW2krK109YSk7dmFyIGM9bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgrNyYtOCk7cmV0dXJuIGMuc2V0KG4pLGN9d2UuZ2V0Qm9vbD1TZSx3ZS5nZXRCaXQ9QWUsd2Uuc2V0Qm9vbD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI/ISEoZVt0Pj4zXXw9MTw8dCU4KXx8ITA6IShlW3Q+PjNdJj1+KDE8PHQlOCkpJiYhMX0sd2UudHJ1bmNhdGVCaXRtYXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIuYnl0ZUxlbmd0aCs3Ji04O2lmKGU+MHx8ci5ieXRlTGVuZ3RoPG4pe3ZhciBpPW5ldyBVaW50OEFycmF5KG4pO3JldHVybiBpLnNldChlJTg9PTA/ci5zdWJhcnJheShlPj4zKTpEZShuZXcgVmUocixlLHQsbnVsbCxTZSkpLnN1YmFycmF5KDAsbikpLGl9cmV0dXJuIHJ9LHdlLnBhY2tCb29scz1EZTt2YXIgVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4saSl7dGhpcy5ieXRlcz1lLHRoaXMubGVuZ3RoPXIsdGhpcy5jb250ZXh0PW4sdGhpcy5nZXQ9aSx0aGlzLmJpdD10JTgsdGhpcy5ieXRlSW5kZXg9dD4+Myx0aGlzLmJ5dGU9ZVt0aGlzLmJ5dGVJbmRleCsrXSx0aGlzLmluZGV4PTB9cmV0dXJuIGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleDx0aGlzLmxlbmd0aD8oOD09PXRoaXMuYml0JiYodGhpcy5iaXQ9MCx0aGlzLmJ5dGU9dGhpcy5ieXRlc1t0aGlzLmJ5dGVJbmRleCsrXSkse3ZhbHVlOnRoaXMuZ2V0KHRoaXMuY29udGV4dCx0aGlzLmluZGV4KyssdGhpcy5ieXRlLHRoaXMuYml0KyspfSk6e2RvbmU6ITAsdmFsdWU6bnVsbH19LGUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX0oKTtmdW5jdGlvbiBQZShlLHQscil7Zm9yKHZhciBuPTAsaT0wfHQsbz1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksYT12b2lkIDA9PT1yP2UuYnl0ZUxlbmd0aDppK3I7YS1pPj00OyluKz1NZShvLmdldFVpbnQzMihpKSksaSs9NDtmb3IoO2EtaT49Mjspbis9TWUoby5nZXRVaW50MTYoaSkpLGkrPTI7Zm9yKDthLWk+PTE7KW4rPU1lKG8uZ2V0VWludDgoaSkpLGkrPTE7cmV0dXJuIG59ZnVuY3Rpb24gTWUoZSl7dmFyIHQ9MHxlO3JldHVybiAxNjg0MzAwOSooKHQ9KDg1ODk5MzQ1OSYodC09dD4+PjEmMTQzMTY1NTc2NSkpKyh0Pj4+MiY4NTg5OTM0NTkpKSsodD4+PjQpJjI1MjY0NTEzNSk+Pj4yNH13ZS5CaXRJdGVyYXRvcj1WZSx3ZS5wb3BjbnRfYml0X3JhbmdlPWZ1bmN0aW9uIGUodCxyLG4pe3ZhciBpLG87aWYobi1yPD0wKXJldHVybiAwO2lmKG4tcjw4KXt2YXIgYT0wO3RyeXtmb3IodmFyIHU9T2UuX192YWx1ZXMobmV3IFZlKHQscixuLXIsdCxBZSkpLHM9dS5uZXh0KCk7IXMuZG9uZTtzPXUubmV4dCgpKXthKz1zLnZhbHVlfX1jYXRjaChmKXtpPXtlcnJvcjpmfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobz11LnJldHVybikmJm8uY2FsbCh1KX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIGF9dmFyIGM9bj4+Mzw8MyxsPXIrKHIlOD09MD8wOjgtciU4KTtyZXR1cm4gZSh0LHIsbCkrZSh0LGMsbikrUGUodCxsPj4zLGMtbD4+Myl9LHdlLnBvcGNudF9hcnJheT1QZSx3ZS5wb3BjbnRfdWludDMyPU1lO3ZhciBGZT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRmUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEZlLnN0cmlkZUZvclR5cGU9RmUuRGljdGlvbmFyeT1GZS5NYXBfPUZlLkZpeGVkU2l6ZUxpc3Q9RmUuRml4ZWRTaXplQmluYXJ5PUZlLlNwYXJzZVVuaW9uPUZlLkRlbnNlVW5pb249RmUuVW5pb249RmUuU3RydWN0PUZlLkxpc3Q9RmUuSW50ZXJ2YWxZZWFyTW9udGg9RmUuSW50ZXJ2YWxEYXlUaW1lPUZlLkludGVydmFsPUZlLlRpbWVzdGFtcE5hbm9zZWNvbmQ9RmUuVGltZXN0YW1wTWljcm9zZWNvbmQ9RmUuVGltZXN0YW1wTWlsbGlzZWNvbmQ9RmUuVGltZXN0YW1wU2Vjb25kPUZlLlRpbWVzdGFtcD1GZS5UaW1lTmFub3NlY29uZD1GZS5UaW1lTWljcm9zZWNvbmQ9RmUuVGltZU1pbGxpc2Vjb25kPUZlLlRpbWVTZWNvbmQ9RmUuVGltZT1GZS5EYXRlTWlsbGlzZWNvbmQ9RmUuRGF0ZURheT1GZS5EYXRlXz1GZS5EZWNpbWFsPUZlLkJvb2w9RmUuVXRmOD1GZS5CaW5hcnk9RmUuRmxvYXQ2ND1GZS5GbG9hdDMyPUZlLkZsb2F0MTY9RmUuRmxvYXQ9RmUuVWludDY0PUZlLlVpbnQzMj1GZS5VaW50MTY9RmUuVWludDg9RmUuSW50NjQ9RmUuSW50MzI9RmUuSW50MTY9RmUuSW50OD1GZS5JbnQ9RmUuTnVsbD1GZS5EYXRhVHlwZT12b2lkIDA7dmFyIFVlPUguZXhwb3J0cyxqZT1nZSx4ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9dmFyIHQ7cmV0dXJuIGUuaXNOdWxsPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLk51bGx9LGUuaXNJbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuSW50fSxlLmlzRmxvYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuRmxvYXR9LGUuaXNCaW5hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuQmluYXJ5fSxlLmlzVXRmOD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5VdGY4fSxlLmlzQm9vbD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5Cb29sfSxlLmlzRGVjaW1hbD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5EZWNpbWFsfSxlLmlzRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5EYXRlfSxlLmlzVGltZT1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5UaW1lfSxlLmlzVGltZXN0YW1wPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLlRpbWVzdGFtcH0sZS5pc0ludGVydmFsPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkludGVydmFsfSxlLmlzTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5MaXN0fSxlLmlzU3RydWN0PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLlN0cnVjdH0sZS5pc1VuaW9uPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLlVuaW9ufSxlLmlzRml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkZpeGVkU2l6ZUJpbmFyeX0sZS5pc0ZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuRml4ZWRTaXplTGlzdH0sZS5pc01hcD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5NYXB9LGUuaXNEaWN0aW9uYXJ5PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkRpY3Rpb25hcnl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuTk9ORX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlW1N5bWJvbC50b1N0cmluZ1RhZ109KCh0PWUucHJvdG90eXBlKS5jaGlsZHJlbj1udWxsLHQuQXJyYXlUeXBlPUFycmF5LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0iRGF0YVR5cGUiKSxlfSgpO0ZlLkRhdGFUeXBlPXhlO3ZhciBMZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iTnVsbCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuTnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0W1N5bWJvbC50b1N0cmluZ1RhZ109dC5wcm90b3R5cGVbU3ltYm9sLnRvU3RyaW5nVGFnXT0iTnVsbCIsdH0oeGUpO0ZlLk51bGw9TGU7dmFyIFJlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaXNTaWduZWQ9dCxuLmJpdFdpZHRoPXIsbn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5JbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5iaXRXaWR0aCl7Y2FzZSA4OnJldHVybiB0aGlzLmlzU2lnbmVkP0ludDhBcnJheTpVaW50OEFycmF5O2Nhc2UgMTY6cmV0dXJuIHRoaXMuaXNTaWduZWQ/SW50MTZBcnJheTpVaW50MTZBcnJheTtjYXNlIDMyOmNhc2UgNjQ6cmV0dXJuIHRoaXMuaXNTaWduZWQ/SW50MzJBcnJheTpVaW50MzJBcnJheX10aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCAiK3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSsiIHR5cGUiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLmlzU2lnbmVkPyJJIjoiVWkiKSsibnQiK3RoaXMuYml0V2lkdGh9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLmlzU2lnbmVkPW51bGwsci5iaXRXaWR0aD1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iSW50IiksdH0oeGUpO0ZlLkludD1SZTt2YXIgTmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMCw4KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oUmUpO0ZlLkludDg9TmU7dmFyIEVlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITAsMTYpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuSW50MTY9RWU7dmFyIENlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITAsMzIpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuSW50MzI9Q2U7dmFyIHplPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITAsNjQpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuSW50NjQ9emU7dmFyIGtlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITEsOCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5VaW50OD1rZTt2YXIgV2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMSwxNil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5VaW50MTY9V2U7dmFyIFllPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITEsMzIpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuVWludDMyPVllO3ZhciBIZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLCExLDY0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oUmUpO0ZlLlVpbnQ2ND1IZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTmUucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpJbnQ4QXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWUucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpJbnQxNkFycmF5fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KENlLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7dmFsdWU6SW50MzJBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh6ZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOkludDMyQXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoa2UucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpVaW50OEFycmF5fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7dmFsdWU6VWludDE2QXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWWUucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpVaW50MzJBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOlVpbnQzMkFycmF5fSk7dmFyIEdlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnByZWNpc2lvbj10LHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuRmxvYXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5wcmVjaXNpb24pe2Nhc2UgamUuUHJlY2lzaW9uLkhBTEY6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgamUuUHJlY2lzaW9uLlNJTkdMRTpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UgamUuUHJlY2lzaW9uLkRPVUJMRTpyZXR1cm4gRmxvYXQ2NEFycmF5fXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkICIrdGhpc1tTeW1ib2wudG9TdHJpbmdUYWddKyIgdHlwZSIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkZsb2F0IisodGhpcy5wcmVjaXNpb248PDV8fDE2KX0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkucHJlY2lzaW9uPW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJGbG9hdCIpLHR9KHhlKTtGZS5GbG9hdD1HZTt2YXIgSmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyxqZS5QcmVjaXNpb24uSEFMRil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KEdlKTtGZS5GbG9hdDE2PUplO3ZhciBaZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlByZWNpc2lvbi5TSU5HTEUpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShHZSk7RmUuRmxvYXQzMj1aZTt2YXIgS2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyxqZS5QcmVjaXNpb24uRE9VQkxFKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oR2UpO0ZlLkZsb2F0NjQ9S2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KEplLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7dmFsdWU6VWludDE2QXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWmUucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpGbG9hdDMyQXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2UucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpGbG9hdDY0QXJyYXl9KTt2YXIgWGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyl8fHRoaXN9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuQmluYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkJpbmFyeSJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLkFycmF5VHlwZT1VaW50OEFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iQmluYXJ5IiksdH0oeGUpO0ZlLkJpbmFyeT1YZTt2YXIgcWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyl8fHRoaXN9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuVXRmOH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJVdGY4In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuQXJyYXlUeXBlPVVpbnQ4QXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJVdGY4IiksdH0oeGUpO0ZlLlV0Zjg9cWU7dmFyIFFlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMpfHx0aGlzfXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkJvb2x9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQm9vbCJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLkFycmF5VHlwZT1VaW50OEFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iQm9vbCIpLHR9KHhlKTtGZS5Cb29sPVFlO3ZhciAkZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnNjYWxlPXQsbi5wcmVjaXNpb249cixufXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkRlY2ltYWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRGVjaW1hbFsiK3RoaXMucHJlY2lzaW9uKyJlIisodGhpcy5zY2FsZT4wPyIrIjoiIikrdGhpcy5zY2FsZSsiXSJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLnNjYWxlPW51bGwsci5wcmVjaXNpb249bnVsbCxyLkFycmF5VHlwZT1VaW50MzJBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IkRlY2ltYWwiKSx0fSh4ZSk7RmUuRGVjaW1hbD0kZTt2YXIgZXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIudW5pdD10LHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuRGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJEYXRlIiszMioodGhpcy51bml0KzEpKyI8IitqZS5EYXRlVW5pdFt0aGlzLnVuaXRdKyI+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkudW5pdD1udWxsLHIuQXJyYXlUeXBlPUludDMyQXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJEYXRlIiksdH0oeGUpO0ZlLkRhdGVfPWV0O3ZhciB0dD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLkRhdGVVbml0LkRBWSl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KGV0KTtGZS5EYXRlRGF5PXR0O3ZhciBydD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLkRhdGVVbml0Lk1JTExJU0VDT05EKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oZXQpO0ZlLkRhdGVNaWxsaXNlY29uZD1ydDt2YXIgbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi51bml0PXQsbi5iaXRXaWR0aD1yLG59dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuVGltZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJUaW1lIit0aGlzLmJpdFdpZHRoKyI8IitqZS5UaW1lVW5pdFt0aGlzLnVuaXRdKyI+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkudW5pdD1udWxsLHIuYml0V2lkdGg9bnVsbCxyLkFycmF5VHlwZT1JbnQzMkFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iVGltZSIpLHR9KHhlKTtGZS5UaW1lPW50O3ZhciBpdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlRpbWVVbml0LlNFQ09ORCwzMil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KG50KTtGZS5UaW1lU2Vjb25kPWl0O3ZhciBvdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlRpbWVVbml0Lk1JTExJU0VDT05ELDMyKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0obnQpO0ZlLlRpbWVNaWxsaXNlY29uZD1vdDt2YXIgYXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyxqZS5UaW1lVW5pdC5NSUNST1NFQ09ORCw2NCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KG50KTtGZS5UaW1lTWljcm9zZWNvbmQ9YXQ7dmFyIHV0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuTkFOT1NFQ09ORCw2NCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KG50KTtGZS5UaW1lTmFub3NlY29uZD11dDt2YXIgc3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi51bml0PXQsbi50aW1lem9uZT1yLG59dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuVGltZXN0YW1wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlRpbWVzdGFtcDwiK2plLlRpbWVVbml0W3RoaXMudW5pdF0rKHRoaXMudGltZXpvbmU/IiwgIit0aGlzLnRpbWV6b25lOiIiKSsiPiJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLnVuaXQ9bnVsbCxyLnRpbWV6b25lPW51bGwsci5BcnJheVR5cGU9SW50MzJBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IlRpbWVzdGFtcCIpLHR9KHhlKTtGZS5UaW1lc3RhbXA9c3Q7dmFyIGN0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlRpbWVVbml0LlNFQ09ORCx0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oc3QpO0ZlLlRpbWVzdGFtcFNlY29uZD1jdDt2YXIgbHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuTUlMTElTRUNPTkQsdCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KHN0KTtGZS5UaW1lc3RhbXBNaWxsaXNlY29uZD1sdDt2YXIgZnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuTUlDUk9TRUNPTkQsdCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KHN0KTtGZS5UaW1lc3RhbXBNaWNyb3NlY29uZD1mdDt2YXIgZHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuTkFOT1NFQ09ORCx0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oc3QpO0ZlLlRpbWVzdGFtcE5hbm9zZWNvbmQ9ZHQ7dmFyIHB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnVuaXQ9dCxyfXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkludGVydmFsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkludGVydmFsPCIramUuSW50ZXJ2YWxVbml0W3RoaXMudW5pdF0rIj4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS51bml0PW51bGwsci5BcnJheVR5cGU9SW50MzJBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IkludGVydmFsIiksdH0oeGUpO0ZlLkludGVydmFsPXB0O3ZhciB5dD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLkludGVydmFsVW5pdC5EQVlfVElNRSl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KHB0KTtGZS5JbnRlcnZhbERheVRpbWU9eXQ7dmFyIGh0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuSW50ZXJ2YWxVbml0LllFQVJfTU9OVEgpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShwdCk7RmUuSW50ZXJ2YWxZZWFyTW9udGg9aHQ7dmFyIGJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmNoaWxkcmVuPVt0XSxyfXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkxpc3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iTGlzdDwiK3RoaXMudmFsdWVUeXBlKyI+In0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVGaWVsZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuWzBdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiQXJyYXlUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5jaGlsZHJlbj1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iTGlzdCIpLHR9KHhlKTtGZS5MaXN0PWJ0O3ZhciB2dD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5jaGlsZHJlbj10LHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuU3RydWN0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlN0cnVjdDx7Iit0aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZSsiOiIrZS50eXBlfSkpLmpvaW4oIiwgIikrIn0+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuY2hpbGRyZW49bnVsbCxyW1N5bWJvbC50b1N0cmluZ1RhZ109IlN0cnVjdCIpLHR9KHhlKTtGZS5TdHJ1Y3Q9dnQ7dmFyIF90PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLG4pe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5tb2RlPXQsaS5jaGlsZHJlbj1uLGkudHlwZUlkcz1yPUludDMyQXJyYXkuZnJvbShyKSxpLnR5cGVJZFRvQ2hpbGRJbmRleD1yLnJlZHVjZSgoZnVuY3Rpb24oZSx0LHIpe3JldHVybihlW3RdPXIpJiZlfHxlfSksT2JqZWN0LmNyZWF0ZShudWxsKSksaX12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5Vbmlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ10rIjwiK3RoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIitlLnR5cGV9KSkuam9pbigiIHwgIikrIj4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5tb2RlPW51bGwsci50eXBlSWRzPW51bGwsci5jaGlsZHJlbj1udWxsLHIudHlwZUlkVG9DaGlsZEluZGV4PW51bGwsci5BcnJheVR5cGU9SW50OEFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iVW5pb24iKSx0fSh4ZSk7RmUuVW5pb249X3Q7dmFyIG10PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVW5pb25Nb2RlLkRlbnNlLHQscil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KF90KTtGZS5EZW5zZVVuaW9uPW10O3ZhciBndD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlVuaW9uTW9kZS5TcGFyc2UsdCxyKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oX3QpO0ZlLlNwYXJzZVVuaW9uPWd0O3ZhciBCdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5ieXRlV2lkdGg9dCxyfXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkZpeGVkU2l6ZUJpbmFyeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJGaXhlZFNpemVCaW5hcnlbIit0aGlzLmJ5dGVXaWR0aCsiXSJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLmJ5dGVXaWR0aD1udWxsLHIuQXJyYXlUeXBlPVVpbnQ4QXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJGaXhlZFNpemVCaW5hcnkiKSx0fSh4ZSk7RmUuRml4ZWRTaXplQmluYXJ5PUJ0O3ZhciBUdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmxpc3RTaXplPXQsbi5jaGlsZHJlbj1bcl0sbn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5GaXhlZFNpemVMaXN0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlRmllbGQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlblswXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRml4ZWRTaXplTGlzdFsiK3RoaXMubGlzdFNpemUrIl08Iit0aGlzLnZhbHVlVHlwZSsiPiJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLmNoaWxkcmVuPW51bGwsci5saXN0U2l6ZT1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iRml4ZWRTaXplTGlzdCIpLHR9KHhlKTtGZS5GaXhlZFNpemVMaXN0PVR0O3ZhciBJdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jaGlsZHJlbj1bdF0sbi5rZXlzU29ydGVkPXIsbn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5NYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJrZXlUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZS5jaGlsZHJlblswXS50eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZS5jaGlsZHJlblsxXS50eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIk1hcDx7Iit0aGlzLmNoaWxkcmVuWzBdLnR5cGUuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lKyI6IitlLnR5cGV9KSkuam9pbigiLCAiKSsifT4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5jaGlsZHJlbj1udWxsLHIua2V5c1NvcnRlZD1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iTWFwXyIpLHR9KHhlKTtGZS5NYXBfPUl0O3ZhciB3dCxPdD0od3Q9LTEsZnVuY3Rpb24oKXtyZXR1cm4rK3d0fSksU3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbixpKXt2YXIgbz1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uaW5kaWNlcz1yLG8uZGljdGlvbmFyeT10LG8uaXNPcmRlcmVkPWl8fCExLG8uaWQ9bnVsbD09bj9PdCgpOiJudW1iZXIiPT10eXBlb2Ygbj9uOm4ubG93LG99dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuRGljdGlvbmFyeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNoaWxkcmVuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jaGlsZHJlbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpY3Rpb25hcnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJEaWN0aW9uYXJ5PCIrdGhpcy5pbmRpY2VzKyIsICIrdGhpcy5kaWN0aW9uYXJ5KyI+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuaWQ9bnVsbCxyLmluZGljZXM9bnVsbCxyLmlzT3JkZXJlZD1udWxsLHIuZGljdGlvbmFyeT1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iRGljdGlvbmFyeSIpLHR9KHhlKTtGZS5EaWN0aW9uYXJ5PVN0LEZlLnN0cmlkZUZvclR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtzd2l0Y2goZS50eXBlSWQpe2Nhc2UgamUuVHlwZS5EZWNpbWFsOnJldHVybiA0O2Nhc2UgamUuVHlwZS5UaW1lc3RhbXA6cmV0dXJuIDI7Y2FzZSBqZS5UeXBlLkRhdGU6Y2FzZSBqZS5UeXBlLkludGVydmFsOnJldHVybiAxK3QudW5pdDtjYXNlIGplLlR5cGUuSW50OmNhc2UgamUuVHlwZS5UaW1lOnJldHVybisodC5iaXRXaWR0aD4zMikrMTtjYXNlIGplLlR5cGUuRml4ZWRTaXplTGlzdDpyZXR1cm4gdC5saXN0U2l6ZTtjYXNlIGplLlR5cGUuRml4ZWRTaXplQmluYXJ5OnJldHVybiB0LmJ5dGVXaWR0aDtkZWZhdWx0OnJldHVybiAxfX0sZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuRGF0YT1lLmtVbmtub3duTnVsbENvdW50PXZvaWQgMDt2YXIgdD13ZSxyPXdlLG49Z2UsaT1GZSxvPUc7ZS5rVW5rbm93bk51bGxDb3VudD0tMTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoZSx0LHIsbixvLHUscyl7dmFyIGM7dGhpcy50eXBlPWUsdGhpcy5kaWN0aW9uYXJ5PXMsdGhpcy5vZmZzZXQ9TWF0aC5mbG9vcihNYXRoLm1heCh0fHwwLDApKSx0aGlzLmxlbmd0aD1NYXRoLmZsb29yKE1hdGgubWF4KHJ8fDAsMCkpLHRoaXMuX251bGxDb3VudD1NYXRoLmZsb29yKE1hdGgubWF4KG58fDAsLTEpKSx0aGlzLmNoaWxkRGF0YT0odXx8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhP2U6ZS5kYXRhfSkpLG8gaW5zdGFuY2VvZiBhPyh0aGlzLnN0cmlkZT1vLnN0cmlkZSx0aGlzLnZhbHVlcz1vLnZhbHVlcyx0aGlzLnR5cGVJZHM9by50eXBlSWRzLHRoaXMubnVsbEJpdG1hcD1vLm51bGxCaXRtYXAsdGhpcy52YWx1ZU9mZnNldHM9by52YWx1ZU9mZnNldHMpOih0aGlzLnN0cmlkZT1pLnN0cmlkZUZvclR5cGUoZSksbyYmKChjPW9bMF0pJiYodGhpcy52YWx1ZU9mZnNldHM9YyksKGM9b1sxXSkmJih0aGlzLnZhbHVlcz1jKSwoYz1vWzJdKSYmKHRoaXMubnVsbEJpdG1hcD1jKSwoYz1vWzNdKSYmKHRoaXMudHlwZUlkcz1jKSkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUudHlwZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS5BcnJheVR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLCJidWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMudmFsdWVPZmZzZXRzLHRoaXMudmFsdWVzLHRoaXMubnVsbEJpdG1hcCx0aGlzLnR5cGVJZHNdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3ZhciBlPTAsdD10aGlzLHI9dC52YWx1ZU9mZnNldHMsbj10LnZhbHVlcyxpPXQubnVsbEJpdG1hcCxvPXQudHlwZUlkcztyZXR1cm4gciYmKGUrPXIuYnl0ZUxlbmd0aCksbiYmKGUrPW4uYnl0ZUxlbmd0aCksaSYmKGUrPWkuYnl0ZUxlbmd0aCksbyYmKGUrPW8uYnl0ZUxlbmd0aCksdGhpcy5jaGlsZERhdGEucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwibnVsbENvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLl9udWxsQ291bnQ7cmV0dXJuIG48PWUua1Vua25vd25OdWxsQ291bnQmJih0PXRoaXMubnVsbEJpdG1hcCkmJih0aGlzLl9udWxsQ291bnQ9bj10aGlzLmxlbmd0aC1yLnBvcGNudF9iaXRfcmFuZ2UodCx0aGlzLm9mZnNldCx0aGlzLm9mZnNldCt0aGlzLmxlbmd0aCkpLG59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLm9mZnNldCksdm9pZCAwPT09ciYmKHI9dGhpcy5sZW5ndGgpLHZvaWQgMD09PW4mJihuPXRoaXMuX251bGxDb3VudCksdm9pZCAwPT09aSYmKGk9dGhpcyksdm9pZCAwPT09byYmKG89dGhpcy5jaGlsZERhdGEpLG5ldyBhKGUsdCxyLG4saSxvLHRoaXMuZGljdGlvbmFyeSl9LGEucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuc3RyaWRlLGk9ci50eXBlSWQsbz1yLmNoaWxkRGF0YSxhPSsoMD09PXRoaXMuX251bGxDb3VudCktMSx1PTE2PT09aT9uOjEscz10aGlzLl9zbGljZUJ1ZmZlcnMoZSx0LG4saSk7cmV0dXJuIHRoaXMuY2xvbmUodGhpcy50eXBlLHRoaXMub2Zmc2V0K2UsdCxhLHMsIW8ubGVuZ3RofHx0aGlzLnZhbHVlT2Zmc2V0cz9vOnRoaXMuX3NsaWNlQ2hpbGRyZW4obyx1KmUsdSp0KSl9LGEucHJvdG90eXBlLl9jaGFuZ2VMZW5ndGhBbmRCYWNrZmlsbE51bGxCaXRtYXA9ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlSWQ9PT1uLlR5cGUuTnVsbClyZXR1cm4gdGhpcy5jbG9uZSh0aGlzLnR5cGUsMCxlLDApO3ZhciByPXRoaXMubGVuZ3RoLGk9dGhpcy5udWxsQ291bnQsbz1uZXcgVWludDhBcnJheSgoZSs2MyYtNjQpPj4zKS5maWxsKDI1NSwwLHI+PjMpO29bcj4+M109KDE8PHItKC04JnIpKS0xLGk+MCYmby5zZXQodC50cnVuY2F0ZUJpdG1hcCh0aGlzLm9mZnNldCxyLHRoaXMubnVsbEJpdG1hcCksMCk7dmFyIGE9dGhpcy5idWZmZXJzO3JldHVybiBhW24uQnVmZmVyVHlwZS5WQUxJRElUWV09byx0aGlzLmNsb25lKHRoaXMudHlwZSwwLGUsaSsoZS1yKSxhKX0sYS5wcm90b3R5cGUuX3NsaWNlQnVmZmVycz1mdW5jdGlvbihlLHQscixpKXt2YXIgbyxhPXRoaXMuYnVmZmVycztyZXR1cm4obz1hW24uQnVmZmVyVHlwZS5UWVBFXSkmJihhW24uQnVmZmVyVHlwZS5UWVBFXT1vLnN1YmFycmF5KGUsZSt0KSksKG89YVtuLkJ1ZmZlclR5cGUuT0ZGU0VUXSkmJihhW24uQnVmZmVyVHlwZS5PRkZTRVRdPW8uc3ViYXJyYXkoZSxlK3QrMSkpfHwobz1hW24uQnVmZmVyVHlwZS5EQVRBXSkmJihhW24uQnVmZmVyVHlwZS5EQVRBXT02PT09aT9vOm8uc3ViYXJyYXkociplLHIqKGUrdCkpKSxhfSxhLnByb3RvdHlwZS5fc2xpY2VDaGlsZHJlbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zbGljZSh0LHIpfSkpfSxhLm5ldz1mdW5jdGlvbihlLHQscixpLG8sdSxzKXtzd2l0Y2gobyBpbnN0YW5jZW9mIGE/bz1vLmJ1ZmZlcnM6b3x8KG89W10pLGUudHlwZUlkKXtjYXNlIG4uVHlwZS5OdWxsOnJldHVybiBhLk51bGwoZSx0LHIpO2Nhc2Ugbi5UeXBlLkludDpyZXR1cm4gYS5JbnQoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5EaWN0aW9uYXJ5OnJldHVybiBhLkRpY3Rpb25hcnkoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdLHMpO2Nhc2Ugbi5UeXBlLkZsb2F0OnJldHVybiBhLkZsb2F0KGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuQm9vbDpyZXR1cm4gYS5Cb29sKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuRGVjaW1hbDpyZXR1cm4gYS5EZWNpbWFsKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuRGF0ZTpyZXR1cm4gYS5EYXRlKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuVGltZTpyZXR1cm4gYS5UaW1lKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuVGltZXN0YW1wOnJldHVybiBhLlRpbWVzdGFtcChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10pO2Nhc2Ugbi5UeXBlLkludGVydmFsOnJldHVybiBhLkludGVydmFsKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuRml4ZWRTaXplQmluYXJ5OnJldHVybiBhLkZpeGVkU2l6ZUJpbmFyeShlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10pO2Nhc2Ugbi5UeXBlLkJpbmFyeTpyZXR1cm4gYS5CaW5hcnkoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuT0ZGU0VUXXx8W10sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5VdGY4OnJldHVybiBhLlV0ZjgoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuT0ZGU0VUXXx8W10sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5MaXN0OnJldHVybiBhLkxpc3QoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuT0ZGU0VUXXx8W10sKHV8fFtdKVswXSk7Y2FzZSBuLlR5cGUuRml4ZWRTaXplTGlzdDpyZXR1cm4gYS5GaXhlZFNpemVMaXN0KGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLCh1fHxbXSlbMF0pO2Nhc2Ugbi5UeXBlLlN0cnVjdDpyZXR1cm4gYS5TdHJ1Y3QoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sdXx8W10pO2Nhc2Ugbi5UeXBlLk1hcDpyZXR1cm4gYS5NYXAoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuT0ZGU0VUXXx8W10sKHV8fFtdKVswXSk7Y2FzZSBuLlR5cGUuVW5pb246cmV0dXJuIGEuVW5pb24oZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuVFlQRV18fFtdLG9bbi5CdWZmZXJUeXBlLk9GRlNFVF18fHUsdSl9dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgdHlwZUlkICIrZS50eXBlSWQpfSxhLk51bGw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgYShlLHQsciwwKX0sYS5JbnQ9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkRpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0LHIsbixpLHUscyl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW3ZvaWQgMCxvLnRvQXJyYXlCdWZmZXJWaWV3KGUuaW5kaWNlcy5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldLFtdLHMpfSxhLkZsb2F0PWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5Cb29sPWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5EZWNpbWFsPWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5EYXRlPWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5UaW1lPWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5UaW1lc3RhbXA9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkludGVydmFsPWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdSksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5GaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkJpbmFyeT1mdW5jdGlvbihlLHQscixuLGksdSxzKXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbby50b0ludDMyQXJyYXkodSksby50b1VpbnQ4QXJyYXkocyksby50b1VpbnQ4QXJyYXkoaSldKX0sYS5VdGY4PWZ1bmN0aW9uKGUsdCxyLG4saSx1LHMpe3JldHVybiBuZXcgYShlLHQscixuLFtvLnRvSW50MzJBcnJheSh1KSxvLnRvVWludDhBcnJheShzKSxvLnRvVWludDhBcnJheShpKV0pfSxhLkxpc3Q9ZnVuY3Rpb24oZSx0LHIsbixpLHUscyl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW28udG9JbnQzMkFycmF5KHUpLHZvaWQgMCxvLnRvVWludDhBcnJheShpKV0scz9bc106W10pfSxhLkZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsdm9pZCAwLG8udG9VaW50OEFycmF5KGkpXSx1P1t1XTpbXSl9LGEuU3RydWN0PWZ1bmN0aW9uKGUsdCxyLG4saSx1KXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLHZvaWQgMCxvLnRvVWludDhBcnJheShpKV0sdSl9LGEuTWFwPWZ1bmN0aW9uKGUsdCxyLG4saSx1LHMpe3JldHVybiBuZXcgYShlLHQscixuLFtvLnRvSW50MzJBcnJheSh1KSx2b2lkIDAsby50b1VpbnQ4QXJyYXkoaSldLHM/W3NdOltdKX0sYS5Vbmlvbj1mdW5jdGlvbihlLHQscixpLHUscyxjLGwpe3ZhciBmPVt2b2lkIDAsdm9pZCAwLG8udG9VaW50OEFycmF5KHUpLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUscyldO3JldHVybiBlLm1vZGU9PT1uLlVuaW9uTW9kZS5TcGFyc2U/bmV3IGEoZSx0LHIsaSxmLGMpOihmW24uQnVmZmVyVHlwZS5PRkZTRVRdPW8udG9JbnQzMkFycmF5KGMpLG5ldyBhKGUsdCxyLGksZixsKSl9LGF9KCk7ZS5EYXRhPWEsYS5wcm90b3R5cGUuY2hpbGREYXRhPU9iamVjdC5mcmVlemUoW10pfShJZSk7dmFyIEF0PXt9LER0PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShEdCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRHQudmFsdWVUb1N0cmluZz12b2lkIDA7RHQudmFsdWVUb1N0cmluZz1mdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYodW5kZWZpbmVkPT09ZSlyZXR1cm4idW5kZWZpbmVkIjtzd2l0Y2godHlwZW9mIGUpe2Nhc2UibnVtYmVyIjpjYXNlImJpZ2ludCI6cmV0dXJuIiIrZTtjYXNlInN0cmluZyI6cmV0dXJuJyInK2UrJyInfXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlW1N5bWJvbC50b1ByaW1pdGl2ZV0/ZVtTeW1ib2wudG9QcmltaXRpdmVdKCJzdHJpbmciKTpBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/IlsiK2UrIl0iOkpTT04uc3RyaW5naWZ5KGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEF0LmNyZWF0ZUlzVmFsaWRGdW5jdGlvbj12b2lkIDA7dmFyIFZ0PUR0LFB0PVE7QXQuY3JlYXRlSXNWYWxpZEZ1bmN0aW9uPWZ1bmN0aW9uKGUpe2lmKCFlfHxlLmxlbmd0aDw9MClyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuITB9O3ZhciB0PSIiLHI9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT1lfSkpO3JldHVybiByLmxlbmd0aD4wJiYodD0iXG4gICAgc3dpdGNoICh4KSB7IityLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIlxuICAgICAgICBjYXNlICIrZnVuY3Rpb24oZSl7aWYoImJpZ2ludCIhPXR5cGVvZiBlKXJldHVybiBWdC52YWx1ZVRvU3RyaW5nKGUpO2lmKFB0LkJpZ0ludEF2YWlsYWJsZSlyZXR1cm4gVnQudmFsdWVUb1N0cmluZyhlKSsibiI7cmV0dXJuJyInK1Z0LnZhbHVlVG9TdHJpbmcoZSkrJyInfShlKSsiOiJ9KSkuam9pbigiIikrIlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0iKSxlLmxlbmd0aCE9PXIubGVuZ3RoJiYodD0iaWYgKHggIT09IHgpIHJldHVybiBmYWxzZTtcbiIrdCksbmV3IEZ1bmN0aW9uKCJ4Iix0KyJcbnJldHVybiB0cnVlOyIpfTt2YXIgTXQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KE10LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxNdC5XaWRlQnVmZmVyQnVpbGRlcj1NdC5PZmZzZXRzQnVmZmVyQnVpbGRlcj1NdC5CaXRtYXBCdWZmZXJCdWlsZGVyPU10LkRhdGFCdWZmZXJCdWlsZGVyPU10LkJ1ZmZlckJ1aWxkZXI9dm9pZCAwO3ZhciBGdD1ILmV4cG9ydHMsVXQ9RyxqdD1RLHh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUqdCs2MyYtNjR8fDY0KS90fSxMdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2b2lkIDA9PT10JiYodD0xKSx0aGlzLmJ1ZmZlcj1lLHRoaXMuc3RyaWRlPXQsdGhpcy5CWVRFU19QRVJfRUxFTUVOVD1lLkJZVEVTX1BFUl9FTEVNRU5ULHRoaXMuQXJyYXlUeXBlPWUuY29uc3RydWN0b3IsdGhpcy5fcmVzaXplKHRoaXMubGVuZ3RoPWUubGVuZ3RoL3R8MCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aCp0aGlzLnN0cmlkZSp0aGlzLkJZVEVTX1BFUl9FTEVNRU5UfDB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZXNlcnZlZExlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGgvdGhpcy5zdHJpZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZXNlcnZlZEJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldCh0aGlzLmxlbmd0aCxlKX0sZS5wcm90b3R5cGUucmVzZXJ2ZT1mdW5jdGlvbihlKXtpZihlPjApe3RoaXMubGVuZ3RoKz1lO3ZhciB0PXRoaXMuc3RyaWRlLHI9dGhpcy5sZW5ndGgqdCxuPXRoaXMuYnVmZmVyLmxlbmd0aDtyPj1uJiZ0aGlzLl9yZXNpemUoeHQoMD09PW4/MSpyOjIqcix0aGlzLkJZVEVTX1BFUl9FTEVNRU5UKSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXRoaXMubGVuZ3RoKSxlPXh0KGUqdGhpcy5zdHJpZGUsdGhpcy5CWVRFU19QRVJfRUxFTUVOVCk7dmFyIHQscixuPSh0PXRoaXMuYnVmZmVyLHZvaWQgMD09PShyPWUpJiYocj0wKSx0Lmxlbmd0aD49cj90LnN1YmFycmF5KDAscik6VXQubWVtY3B5KG5ldyB0LmNvbnN0cnVjdG9yKHIpLHQsMCkpO3JldHVybiB0aGlzLmNsZWFyKCksbn0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9MCx0aGlzLl9yZXNpemUoMCksdGhpc30sZS5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5idWZmZXI9VXQubWVtY3B5KG5ldyB0aGlzLkFycmF5VHlwZShlKSx0aGlzLmJ1ZmZlcil9LGV9KCk7TXQuQnVmZmVyQnVpbGRlcj1MdCxMdC5wcm90b3R5cGUub2Zmc2V0PTA7dmFyIFJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGdC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KHRoaXMubGVuZ3RoLTEpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYnVmZmVyW2VdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZXNlcnZlKGUtdGhpcy5sZW5ndGgrMSksdGhpcy5idWZmZXJbZSp0aGlzLnN0cmlkZV09dCx0aGlzfSx0fShMdCk7TXQuRGF0YUJ1ZmZlckJ1aWxkZXI9UnQ7dmFyIE50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bmV3IFVpbnQ4QXJyYXkoMCkpO3ZhciByPWUuY2FsbCh0aGlzLHQsMS84KXx8dGhpcztyZXR1cm4gci5udW1WYWxpZD0wLHJ9cmV0dXJuIEZ0Ll9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtSW52YWxpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aC10aGlzLm51bVZhbGlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5idWZmZXJbZT4+M10+PmUlOCYxfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnJlc2VydmUoZS10aGlzLmxlbmd0aCsxKS5idWZmZXIsbj1lPj4zLGk9ZSU4LG89cltuXT4+aSYxO3JldHVybiB0PzA9PT1vJiYocltuXXw9MTw8aSwrK3RoaXMubnVtVmFsaWQpOjE9PT1vJiYocltuXSY9figxPDxpKSwtLXRoaXMubnVtVmFsaWQpLHRoaXN9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtVmFsaWQ9MCxlLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSx0fShSdCk7TXQuQml0bWFwQnVmZmVyQnVpbGRlcj1OdDt2YXIgRXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IEludDMyQXJyYXkoMSkpLGUuY2FsbCh0aGlzLHQsMSl8fHRoaXN9cmV0dXJuIEZ0Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXQodGhpcy5sZW5ndGgtMSxlKX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sZW5ndGgtMSxuPXRoaXMucmVzZXJ2ZShlLXIrMSkuYnVmZmVyO3JldHVybiByPGUrKyYmbi5maWxsKG5bcl0scixlKSxuW2VdPW5bZS0xXSt0LHRoaXN9LHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLmxlbmd0aC0xKSx0PnRoaXMubGVuZ3RoJiZ0aGlzLnNldCh0LTEsMCksZS5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzLHQrMSl9LHR9KFJ0KTtNdC5PZmZzZXRzQnVmZmVyQnVpbGRlcj1FdDt2YXIgQ3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZ0Ll9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiQXJyYXlUeXBlNjQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQXJyYXlUeXBlNjR8fCh0aGlzLl9BcnJheVR5cGU2ND10aGlzLmJ1ZmZlciBpbnN0YW5jZW9mIEludDMyQXJyYXk/anQuQmlnSW50NjRBcnJheTpqdC5CaWdVaW50NjRBcnJheSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHRoaXMucmVzZXJ2ZShlLXRoaXMubGVuZ3RoKzEpLHR5cGVvZiB0KXtjYXNlImJpZ2ludCI6dGhpcy5idWZmZXI2NFtlXT10O2JyZWFrO2Nhc2UibnVtYmVyIjp0aGlzLmJ1ZmZlcltlKnRoaXMuc3RyaWRlXT10O2JyZWFrO2RlZmF1bHQ6dGhpcy5idWZmZXIuc2V0KHQsZSp0aGlzLnN0cmlkZSl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24odCl7dmFyIHI9ZS5wcm90b3R5cGUuX3Jlc2l6ZS5jYWxsKHRoaXMsdCksbj1yLmJ5dGVMZW5ndGgvKHRoaXMuQllURVNfUEVSX0VMRU1FTlQqdGhpcy5zdHJpZGUpO3JldHVybiBqdC5CaWdJbnRBdmFpbGFibGUmJih0aGlzLmJ1ZmZlcjY0PW5ldyB0aGlzLkFycmF5VHlwZTY0KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxuKSkscn0sdH0oTHQpO010LldpZGVCdWZmZXJCdWlsZGVyPUN0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2ZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdmUuVmFyaWFibGVXaWR0aEJ1aWxkZXI9dmUuRml4ZWRXaWR0aEJ1aWxkZXI9dmUuQnVpbGRlcj12b2lkIDA7dmFyIHp0PUguZXhwb3J0cyxrdD1fZSxXdD1nZSxZdD1JZSxIdD1BdCxHdD1NdCxKdD1GZSxadD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9ZS50eXBlLHI9ZS5udWxsVmFsdWVzO3RoaXMubGVuZ3RoPTAsdGhpcy5maW5pc2hlZD0hMSx0aGlzLnR5cGU9dCx0aGlzLmNoaWxkcmVuPVtdLHRoaXMubnVsbFZhbHVlcz1yLHRoaXMuc3RyaWRlPUp0LnN0cmlkZUZvclR5cGUodCksdGhpcy5fbnVsbHM9bmV3IEd0LkJpdG1hcEJ1ZmZlckJ1aWxkZXIsciYmci5sZW5ndGg+MCYmKHRoaXMuX2lzVmFsaWQ9SHQuY3JlYXRlSXNWYWxpZEZ1bmN0aW9uKHIpKX1yZXR1cm4gZS5uZXc9ZnVuY3Rpb24oZSl7fSxlLnRocm91Z2hOb2RlPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcignInRocm91Z2hOb2RlIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX0sZS50aHJvdWdoRE9NPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcignInRocm91Z2hET00iIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSxlLnRocm91Z2hJdGVyYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWV1ZWluZ1N0cmF0ZWd5LHI9dm9pZCAwPT09dD8iY291bnQiOnQsbj1lLmhpZ2hXYXRlck1hcmssaT12b2lkIDA9PT1uPyJieXRlcyIhPT1yPzFlMzpNYXRoLnBvdygyLDE0KTpuLG89ImJ5dGVzIiE9PXI/Imxlbmd0aCI6ImJ5dGVMZW5ndGgiO3JldHVybiBmdW5jdGlvbih0KXt2YXIgcixuLGEsdSxzLGMsbCxmO3JldHVybiB6dC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOnI9MCxuPVp0Lm5ldyhlKSxkLmxhYmVsPTE7Y2FzZSAxOmQudHJ5cy5wdXNoKFsxLDcsOCw5XSksYT16dC5fX3ZhbHVlcyh0KSx1PWEubmV4dCgpLGQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHUuZG9uZT9bMyw2XToocz11LnZhbHVlLG4uYXBwZW5kKHMpW29dPj1pPysrcj9bNCxuLnRvVmVjdG9yKCldOlszLDRdOlszLDVdKTtjYXNlIDM6ZC5zZW50KCksZC5sYWJlbD00O2Nhc2UgNDpkLmxhYmVsPTU7Y2FzZSA1OnJldHVybiB1PWEubmV4dCgpLFszLDJdO2Nhc2UgNjpyZXR1cm5bMyw5XTtjYXNlIDc6cmV0dXJuIGM9ZC5zZW50KCksbD17ZXJyb3I6Y30sWzMsOV07Y2FzZSA4OnRyeXt1JiYhdS5kb25lJiYoZj1hLnJldHVybikmJmYuY2FsbChhKX1maW5hbGx5e2lmKGwpdGhyb3cgbC5lcnJvcn1yZXR1cm5bN107Y2FzZSA5OnJldHVybiBuLmZpbmlzaCgpLmxlbmd0aD4wfHwwPT09cj9bNCxuLnRvVmVjdG9yKCldOlszLDExXTtjYXNlIDEwOmQuc2VudCgpLGQubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm5bMl19fSkpfX0oZSl9LGUudGhyb3VnaEFzeW5jSXRlcmFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUucXVldWVpbmdTdHJhdGVneSxyPXZvaWQgMD09PXQ/ImNvdW50Ijp0LG49ZS5oaWdoV2F0ZXJNYXJrLGk9dm9pZCAwPT09bj8iYnl0ZXMiIT09cj8xZTM6TWF0aC5wb3coMiwxNCk6bixvPSJieXRlcyIhPT1yPyJsZW5ndGgiOiJieXRlTGVuZ3RoIjtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHp0Ll9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7dmFyIHIsbixhLHUscyxjLGwsZjtyZXR1cm4genQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDpyPTAsbj1adC5uZXcoZSksZC5sYWJlbD0xO2Nhc2UgMTpkLnRyeXMucHVzaChbMSw5LDEwLDE1XSksYT16dC5fX2FzeW5jVmFsdWVzKHQpLGQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsenQuX19hd2FpdChhLm5leHQoKSldO2Nhc2UgMzpyZXR1cm4odT1kLnNlbnQoKSkuZG9uZT9bMyw4XToocz11LnZhbHVlLG4uYXBwZW5kKHMpW29dPj1pPysrcj9bNCx6dC5fX2F3YWl0KG4udG9WZWN0b3IoKSldOlszLDZdOlszLDddKTtjYXNlIDQ6cmV0dXJuWzQsZC5zZW50KCldO2Nhc2UgNTpkLnNlbnQoKSxkLmxhYmVsPTY7Y2FzZSA2OmQubGFiZWw9NztjYXNlIDc6cmV0dXJuWzMsMl07Y2FzZSA4OnJldHVyblszLDE1XTtjYXNlIDk6cmV0dXJuIGM9ZC5zZW50KCksbD17ZXJyb3I6Y30sWzMsMTVdO2Nhc2UgMTA6cmV0dXJuIGQudHJ5cy5wdXNoKFsxMCwsMTMsMTRdKSx1JiYhdS5kb25lJiYoZj1hLnJldHVybik/WzQsenQuX19hd2FpdChmLmNhbGwoYSkpXTpbMywxMl07Y2FzZSAxMTpkLnNlbnQoKSxkLmxhYmVsPTEyO2Nhc2UgMTI6cmV0dXJuWzMsMTRdO2Nhc2UgMTM6aWYobCl0aHJvdyBsLmVycm9yO3JldHVybls3XTtjYXNlIDE0OnJldHVybls3XTtjYXNlIDE1OnJldHVybiBuLmZpbmlzaCgpLmxlbmd0aD4wfHwwPT09cj9bNCx6dC5fX2F3YWl0KG4udG9WZWN0b3IoKSldOlszLDE4XTtjYXNlIDE2OnJldHVybls0LGQuc2VudCgpXTtjYXNlIDE3OmQuc2VudCgpLGQubGFiZWw9MTg7Y2FzZSAxODpyZXR1cm5bMl19fSkpfSkpfX0oZSl9LGUucHJvdG90eXBlLnRvVmVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGt0LlZlY3Rvci5uZXcodGhpcy5mbHVzaCgpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bGxDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udWxscy5udW1JbnZhbGlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtQ2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gdGhpcy5fb2Zmc2V0cyYmKGUrPXRoaXMuX29mZnNldHMuYnl0ZUxlbmd0aCksdGhpcy5fdmFsdWVzJiYoZSs9dGhpcy5fdmFsdWVzLmJ5dGVMZW5ndGgpLHRoaXMuX251bGxzJiYoZSs9dGhpcy5fbnVsbHMuYnl0ZUxlbmd0aCksdGhpcy5fdHlwZUlkcyYmKGUrPXRoaXMuX3R5cGVJZHMuYnl0ZUxlbmd0aCksdGhpcy5jaGlsZHJlbi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdC5ieXRlTGVuZ3RofSksZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZXNlcnZlZExlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udWxscy5yZXNlcnZlZExlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlc2VydmVkQnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIHRoaXMuX29mZnNldHMmJihlKz10aGlzLl9vZmZzZXRzLnJlc2VydmVkQnl0ZUxlbmd0aCksdGhpcy5fdmFsdWVzJiYoZSs9dGhpcy5fdmFsdWVzLnJlc2VydmVkQnl0ZUxlbmd0aCksdGhpcy5fbnVsbHMmJihlKz10aGlzLl9udWxscy5yZXNlcnZlZEJ5dGVMZW5ndGgpLHRoaXMuX3R5cGVJZHMmJihlKz10aGlzLl90eXBlSWRzLnJlc2VydmVkQnl0ZUxlbmd0aCksdGhpcy5jaGlsZHJlbi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdC5yZXNlcnZlZEJ5dGVMZW5ndGh9KSxlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInZhbHVlT2Zmc2V0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZzZXRzP3RoaXMuX29mZnNldHMuYnVmZmVyOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2YWx1ZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzP3RoaXMuX3ZhbHVlcy5idWZmZXI6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bGxCaXRtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVsbHM/dGhpcy5fbnVsbHMuYnVmZmVyOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0eXBlSWRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGVJZHM/dGhpcy5fdHlwZUlkcy5idWZmZXI6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0KHRoaXMubGVuZ3RoLGUpfSxlLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkKGUpfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRWYWxpZChlLHRoaXMuaXNWYWxpZCh0KSkmJnRoaXMuc2V0VmFsdWUoZSx0KSx0aGlzfSxlLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3NldFZhbHVlKHRoaXMsZSx0KX0sZS5wcm90b3R5cGUuc2V0VmFsaWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sZW5ndGg9dGhpcy5fbnVsbHMuc2V0KGUsK3QpLmxlbmd0aCx0fSxlLnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlLHQpe3Rocm93IHZvaWQgMD09PXQmJih0PSIiK3RoaXMubnVtQ2hpbGRyZW4pLG5ldyBFcnJvcignQ2Fubm90IGFwcGVuZCBjaGlsZHJlbiB0byBub24tbmVzdGVkIHR5cGUgIicrdGhpcy50eXBlKyciJyl9LGUucHJvdG90eXBlLmdldENoaWxkQXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bZV18fG51bGx9LGUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzLl92YWx1ZXMscj10aGlzLl9vZmZzZXRzLG49dGhpcy5fdHlwZUlkcyxpPXRoaXMubGVuZ3RoLG89dGhpcy5udWxsQ291bnQ7bj8oZVtXdC5CdWZmZXJUeXBlLlRZUEVdPW4uZmx1c2goaSksciYmKGVbV3QuQnVmZmVyVHlwZS5PRkZTRVRdPXIuZmx1c2goaSkpKTpyPyh0JiYoZVtXdC5CdWZmZXJUeXBlLkRBVEFdPXQuZmx1c2goci5sYXN0KCkpKSxlW1d0LkJ1ZmZlclR5cGUuT0ZGU0VUXT1yLmZsdXNoKGkpKTp0JiYoZVtXdC5CdWZmZXJUeXBlLkRBVEFdPXQuZmx1c2goaSkpLG8+MCYmKGVbV3QuQnVmZmVyVHlwZS5WQUxJRElUWV09dGhpcy5fbnVsbHMuZmx1c2goaSkpO3ZhciBhPVl0LkRhdGEubmV3KHRoaXMudHlwZSwwLGksbyxlLHRoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5mbHVzaCgpfSkpKTtyZXR1cm4gdGhpcy5jbGVhcigpLGF9LGUucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbmlzaGVkPSEwLHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmluaXNoKCl9KSksdGhpc30sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9MCx0aGlzLl9vZmZzZXRzJiZ0aGlzLl9vZmZzZXRzLmNsZWFyKCksdGhpcy5fdmFsdWVzJiZ0aGlzLl92YWx1ZXMuY2xlYXIoKSx0aGlzLl9udWxscyYmdGhpcy5fbnVsbHMuY2xlYXIoKSx0aGlzLl90eXBlSWRzJiZ0aGlzLl90eXBlSWRzLmNsZWFyKCksdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGVhcigpfSkpLHRoaXN9LGV9KCk7dmUuQnVpbGRlcj1adCxadC5wcm90b3R5cGUubGVuZ3RoPTEsWnQucHJvdG90eXBlLnN0cmlkZT0xLFp0LnByb3RvdHlwZS5jaGlsZHJlbj1udWxsLFp0LnByb3RvdHlwZS5maW5pc2hlZD0hMSxadC5wcm90b3R5cGUubnVsbFZhbHVlcz1udWxsLFp0LnByb3RvdHlwZS5faXNWYWxpZD1mdW5jdGlvbigpe3JldHVybiEwfTt2YXIgS3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5fdmFsdWVzPW5ldyBHdC5EYXRhQnVmZmVyQnVpbGRlcihuZXcgci5BcnJheVR5cGUoMCksci5zdHJpZGUpLHJ9cmV0dXJuIHp0Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5fdmFsdWVzO3JldHVybiBuLnJlc2VydmUodC1uLmxlbmd0aCsxKSxlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCxyKX0sdH0oWnQpO3ZlLkZpeGVkV2lkdGhCdWlsZGVyPUt0O3ZhciBYdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl9wZW5kaW5nTGVuZ3RoPTAsci5fb2Zmc2V0cz1uZXcgR3QuT2Zmc2V0c0J1ZmZlckJ1aWxkZXIscn1yZXR1cm4genQuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9wZW5kaW5nfHwodGhpcy5fcGVuZGluZz1uZXcgTWFwKSxuPXIuZ2V0KGUpO24mJih0aGlzLl9wZW5kaW5nTGVuZ3RoLT1uLmxlbmd0aCksdGhpcy5fcGVuZGluZ0xlbmd0aCs9dC5sZW5ndGgsci5zZXQoZSx0KX0sdC5wcm90b3R5cGUuc2V0VmFsaWQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4hIWUucHJvdG90eXBlLnNldFZhbGlkLmNhbGwodGhpcyx0LHIpfHwoKHRoaXMuX3BlbmRpbmd8fCh0aGlzLl9wZW5kaW5nPW5ldyBNYXApKS5zZXQodCx2b2lkIDApLCExKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0xlbmd0aD0wLHRoaXMuX3BlbmRpbmc9dm9pZCAwLGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZsdXNoKCksZS5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZsdXNoKCksZS5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9mbHVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BlbmRpbmcsdD10aGlzLl9wZW5kaW5nTGVuZ3RoO3JldHVybiB0aGlzLl9wZW5kaW5nTGVuZ3RoPTAsdGhpcy5fcGVuZGluZz12b2lkIDAsZSYmZS5zaXplPjAmJnRoaXMuX2ZsdXNoUGVuZGluZyhlLHQpLHRoaXN9LHR9KFp0KTt2ZS5WYXJpYWJsZVdpZHRoQnVpbGRlcj1YdDt2YXIgcXQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHF0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxxdC5Cb29sQnVpbGRlcj12b2lkIDA7dmFyIFF0PUguZXhwb3J0cywkdD1NdCxlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl92YWx1ZXM9bmV3ICR0LkJpdG1hcEJ1ZmZlckJ1aWxkZXIscn1yZXR1cm4gUXQuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZXMuc2V0KGUsK3QpfSx0fSh2ZS5CdWlsZGVyKTtxdC5Cb29sQnVpbGRlcj1lcjt2YXIgdHI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHRyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0ci5OdWxsQnVpbGRlcj12b2lkIDA7dmFyIHJyPUguZXhwb3J0cyxucj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcnIuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt9LHQucHJvdG90eXBlLnNldFZhbGlkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubGVuZ3RoPU1hdGgubWF4KGUrMSx0aGlzLmxlbmd0aCksdH0sdH0odmUuQnVpbGRlcik7dHIuTnVsbEJ1aWxkZXI9bnI7dmFyIGlyPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShpciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaXIuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcj1pci5EYXRlRGF5QnVpbGRlcj1pci5EYXRlQnVpbGRlcj12b2lkIDA7dmFyIG9yPUguZXhwb3J0cyxhcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gb3IuX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO2lyLkRhdGVCdWlsZGVyPWFyO3ZhciB1cj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gb3IuX19leHRlbmRzKHQsZSksdH0oYXIpO2lyLkRhdGVEYXlCdWlsZGVyPXVyO3ZhciBzcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gb3IuX19leHRlbmRzKHQsZSksdH0oYXIpO2lyLkRhdGVNaWxsaXNlY29uZEJ1aWxkZXI9c3I7dmFyIGNyPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShjciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksY3IuRGVjaW1hbEJ1aWxkZXI9dm9pZCAwO3ZhciBscj1ILmV4cG9ydHMsZnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGxyLl9fZXh0ZW5kcyh0LGUpLHR9KHZlLkZpeGVkV2lkdGhCdWlsZGVyKTtjci5EZWNpbWFsQnVpbGRlcj1mcjt2YXIgZHI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGRyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkci5EaWN0aW9uYXJ5QnVpbGRlcj12b2lkIDA7dmFyIHByPUguZXhwb3J0cyx5cj1GZSxocj12ZSxicj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPXQudHlwZSxuPXQubnVsbFZhbHVlcyxpPXQuZGljdGlvbmFyeUhhc2hGdW5jdGlvbixvPWUuY2FsbCh0aGlzLHt0eXBlOm5ldyB5ci5EaWN0aW9uYXJ5KHIuZGljdGlvbmFyeSxyLmluZGljZXMsci5pZCxyLmlzT3JkZXJlZCl9KXx8dGhpcztyZXR1cm4gby5fbnVsbHM9bnVsbCxvLl9kaWN0aW9uYXJ5T2Zmc2V0PTAsby5fa2V5c1RvSW5kaWNlcz1PYmplY3QuY3JlYXRlKG51bGwpLG8uaW5kaWNlcz1oci5CdWlsZGVyLm5ldyh7dHlwZTpvLnR5cGUuaW5kaWNlcyxudWxsVmFsdWVzOm59KSxvLmRpY3Rpb25hcnk9aHIuQnVpbGRlci5uZXcoe3R5cGU6by50eXBlLmRpY3Rpb25hcnksbnVsbFZhbHVlczpudWxsfSksImZ1bmN0aW9uIj09dHlwZW9mIGkmJihvLnZhbHVlVG9LZXk9aSksb31yZXR1cm4gcHIuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRpY2VzLnZhbHVlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bGxDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMubnVsbENvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVsbEJpdG1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMubnVsbEJpdG1hcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRpY2VzLmJ5dGVMZW5ndGgrdGhpcy5kaWN0aW9uYXJ5LmJ5dGVMZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJyZXNlcnZlZExlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMucmVzZXJ2ZWRMZW5ndGgrdGhpcy5kaWN0aW9uYXJ5LnJlc2VydmVkTGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwicmVzZXJ2ZWRCeXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5yZXNlcnZlZEJ5dGVMZW5ndGgrdGhpcy5kaWN0aW9uYXJ5LnJlc2VydmVkQnl0ZUxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGljZXMuaXNWYWxpZChlKX0sdC5wcm90b3R5cGUuc2V0VmFsaWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmluZGljZXM7cmV0dXJuIHQ9ci5zZXRWYWxpZChlLHQpLHRoaXMubGVuZ3RoPXIubGVuZ3RoLHR9LHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fa2V5c1RvSW5kaWNlcyxuPXRoaXMudmFsdWVUb0tleSh0KSxpPXJbbl07cmV0dXJuIHZvaWQgMD09PWkmJihyW25dPWk9dGhpcy5fZGljdGlvbmFyeU9mZnNldCt0aGlzLmRpY3Rpb25hcnkuYXBwZW5kKHQpLmxlbmd0aC0xKSx0aGlzLmluZGljZXMuc2V0VmFsdWUoZSxpKX0sdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGUsdD10aGlzLl9kaWN0aW9uYXJ5LHI9dGhpcy5kaWN0aW9uYXJ5LnRvVmVjdG9yKCksbj10aGlzLmluZGljZXMuZmx1c2goKS5jbG9uZShlKTtyZXR1cm4gbi5kaWN0aW9uYXJ5PXQ/dC5jb25jYXQocik6cix0aGlzLmZpbmlzaGVkfHwodGhpcy5fZGljdGlvbmFyeU9mZnNldCs9ci5sZW5ndGgpLHRoaXMuX2RpY3Rpb25hcnk9bi5kaWN0aW9uYXJ5LHRoaXMuY2xlYXIoKSxufSx0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRpY2VzLmZpbmlzaCgpLHRoaXMuZGljdGlvbmFyeS5maW5pc2goKSx0aGlzLl9kaWN0aW9uYXJ5T2Zmc2V0PTAsdGhpcy5fa2V5c1RvSW5kaWNlcz1PYmplY3QuY3JlYXRlKG51bGwpLGUucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMuY2xlYXIoKSx0aGlzLmRpY3Rpb25hcnkuY2xlYXIoKSxlLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS52YWx1ZVRvS2V5PWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOiIiK2V9LHR9KGhyLkJ1aWxkZXIpO2RyLkRpY3Rpb25hcnlCdWlsZGVyPWJyO3ZhciB2cj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodnIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHZyLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXI9dm9pZCAwO3ZhciBfcj1ILmV4cG9ydHMsbXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9yLl9fZXh0ZW5kcyh0LGUpLHR9KHZlLkZpeGVkV2lkdGhCdWlsZGVyKTt2ci5GaXhlZFNpemVCaW5hcnlCdWlsZGVyPW1yO3ZhciBncj17fSxCcj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQnIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEJyLmZsb2F0NjRUb1VpbnQxNj1Cci51aW50MTZUb0Zsb2F0NjQ9dm9pZCAwO3ZhciBUcj1uZXcgRmxvYXQ2NEFycmF5KDEpLElyPW5ldyBVaW50MzJBcnJheShUci5idWZmZXIpO0JyLnVpbnQxNlRvRmxvYXQ2ND1mdW5jdGlvbihlKXt2YXIgdD0oMzE3NDQmZSk+PjEwLHI9KDEwMjMmZSkvMTAyNCxuPU1hdGgucG93KC0xLCgzMjc2OCZlKT4+MTUpO3N3aXRjaCh0KXtjYXNlIDMxOnJldHVybiBuKihyP05hTjoxLzApO2Nhc2UgMDpyZXR1cm4gbioocj82MTAzNTE1NjI1ZS0xNCpyOjApfXJldHVybiBuKk1hdGgucG93KDIsdC0xNSkqKDErcil9LEJyLmZsb2F0NjRUb1VpbnQxNj1mdW5jdGlvbihlKXtpZihlIT1lKXJldHVybiAzMjI1NjtUclswXT1lO3ZhciB0PSgyMTQ3NDgzNjQ4JklyWzFdKT4+MTYmNjU1MzUscj0yMTQ2NDM1MDcyJklyWzFdLG49MDtyZXR1cm4gcj49MTA4OTQ3MDQ2ND9JclswXT4wP3I9MzE3NDQ6KHI9KDIwODAzNzQ3ODQmcik+PjE2LG49KDEwNDg1NzUmSXJbMV0pPj4xMCk6cjw9MTA1Njk2NDYwOD8obj0xMDQ4NTc2Kygobj0xMDQ4NTc2KygxMDQ4NTc1JklyWzFdKSk8PChyPj4yMCktOTk4KT4+MjEscj0wKToocj1yLTEwNTY5NjQ2MDg+PjEwLG49NTEyKygxMDQ4NTc1JklyWzFdKT4+MTApLHR8cnw2NTUzNSZufSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZ3IsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGdyLkZsb2F0NjRCdWlsZGVyPWdyLkZsb2F0MzJCdWlsZGVyPWdyLkZsb2F0MTZCdWlsZGVyPWdyLkZsb2F0QnVpbGRlcj12b2lkIDA7dmFyIHdyPUguZXhwb3J0cyxPcj1CcixTcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gd3IuX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO2dyLkZsb2F0QnVpbGRlcj1Tcjt2YXIgQXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHdyLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLnNldChlLE9yLmZsb2F0NjRUb1VpbnQxNih0KSl9LHR9KFNyKTtnci5GbG9hdDE2QnVpbGRlcj1Bcjt2YXIgRHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHdyLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLnNldChlLHQpfSx0fShTcik7Z3IuRmxvYXQzMkJ1aWxkZXI9RHI7dmFyIFZyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB3ci5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlcy5zZXQoZSx0KX0sdH0oU3IpO2dyLkZsb2F0NjRCdWlsZGVyPVZyO3ZhciBQcj17fSxNcj17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQk49ZS5iaWdudW1Ub0JpZ0ludD1lLmJpZ251bVRvU3RyaW5nPWUuaXNBcnJvd0JpZ051bVN5bWJvbD12b2lkIDA7dmFyIHQ9SC5leHBvcnRzLHI9RyxuPVE7ZnVuY3Rpb24gaShlKXtmb3IodmFyIG4saT1bXSxvPTE7bzxhcmd1bWVudHMubGVuZ3RoO28rKylpW28tMV09YXJndW1lbnRzW29dO3JldHVybiAwPT09aS5sZW5ndGg/T2JqZWN0LnNldFByb3RvdHlwZU9mKHIudG9BcnJheUJ1ZmZlclZpZXcodGhpcy5UeXBlZEFycmF5LGUpLHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlKTpPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3KChuPXRoaXMuVHlwZWRBcnJheSkuYmluZC5hcHBseShuLHQuX19zcHJlYWQoW3ZvaWQgMCxlXSxpKSkpLHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlKX1mdW5jdGlvbiBvKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBpLmFwcGx5KHRoaXMsZSl9ZnVuY3Rpb24gYSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gaS5hcHBseSh0aGlzLGUpfWZ1bmN0aW9uIHUoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGkuYXBwbHkodGhpcyxlKX1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdCxyLG49ZS5idWZmZXIsaT1lLmJ5dGVPZmZzZXQsbz1lLmxlbmd0aCxhPWUuc2lnbmVkLHU9bmV3IEludDMyQXJyYXkobixpLG8pLHM9MCxjPTAsbD11Lmxlbmd0aDtjPGw7KXI9dVtjKytdLHQ9dVtjKytdLGF8fCh0Pj4+PTApLHMrPShyPj4+MCkrdCpNYXRoLnBvdyhjLDMyKTtyZXR1cm4gc31mdW5jdGlvbiBjKGUpe3ZhciB0PSIiLHI9bmV3IFVpbnQzMkFycmF5KDIpLG49bmV3IFVpbnQxNkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgvMiksaT1uZXcgVWludDMyQXJyYXkoKG49bmV3IFVpbnQxNkFycmF5KG4pLnJldmVyc2UoKSkuYnVmZmVyKSxvPS0xLGE9bi5sZW5ndGgtMTtkb3tmb3IoclswXT1uW289MF07bzxhOyluW28rK109clsxXT1yWzBdLzEwLHJbMF09KHJbMF0tMTAqclsxXTw8MTYpK25bb107bltvXT1yWzFdPXJbMF0vMTAsclswXT1yWzBdLTEwKnJbMV0sdD0iIityWzBdK3R9d2hpbGUoaVswXXx8aVsxXXx8aVsyXXx8aVszXSk7cmV0dXJuIHR8fCIwIn1lLmlzQXJyb3dCaWdOdW1TeW1ib2w9U3ltYm9sLmZvcigiaXNBcnJvd0JpZ051bSIpLGkucHJvdG90eXBlW2UuaXNBcnJvd0JpZ051bVN5bWJvbF09ITAsaS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuJyInK2UuYmlnbnVtVG9TdHJpbmcodGhpcykrJyInfSxpLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcyl9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYmlnbnVtVG9TdHJpbmcodGhpcyl9LGkucHJvdG90eXBlW1N5bWJvbC50b1ByaW1pdGl2ZV09ZnVuY3Rpb24odCl7c3dpdGNoKHZvaWQgMD09PXQmJih0PSJkZWZhdWx0IiksdCl7Y2FzZSJudW1iZXIiOnJldHVybiBzKHRoaXMpO2Nhc2Uic3RyaW5nIjpyZXR1cm4gZS5iaWdudW1Ub1N0cmluZyh0aGlzKTtjYXNlImRlZmF1bHQiOnJldHVybiBlLmJpZ251bVRvQmlnSW50KHRoaXMpfXJldHVybiBlLmJpZ251bVRvU3RyaW5nKHRoaXMpfSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoby5wcm90b3R5cGUsT2JqZWN0LmNyZWF0ZShJbnQzMkFycmF5LnByb3RvdHlwZSkpLE9iamVjdC5zZXRQcm90b3R5cGVPZihhLnByb3RvdHlwZSxPYmplY3QuY3JlYXRlKFVpbnQzMkFycmF5LnByb3RvdHlwZSkpLE9iamVjdC5zZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSxPYmplY3QuY3JlYXRlKFVpbnQzMkFycmF5LnByb3RvdHlwZSkpLE9iamVjdC5hc3NpZ24oby5wcm90b3R5cGUsaS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOm8sc2lnbmVkOiEwLFR5cGVkQXJyYXk6SW50MzJBcnJheSxCaWdJbnRBcnJheTpuLkJpZ0ludDY0QXJyYXl9KSxPYmplY3QuYXNzaWduKGEucHJvdG90eXBlLGkucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjphLHNpZ25lZDohMSxUeXBlZEFycmF5OlVpbnQzMkFycmF5LEJpZ0ludEFycmF5Om4uQmlnVWludDY0QXJyYXl9KSxPYmplY3QuYXNzaWduKHUucHJvdG90eXBlLGkucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp1LHNpZ25lZDohMCxUeXBlZEFycmF5OlVpbnQzMkFycmF5LEJpZ0ludEFycmF5Om4uQmlnVWludDY0QXJyYXl9KSxuLkJpZ0ludEF2YWlsYWJsZT8oZS5iaWdudW1Ub0JpZ0ludD1mdW5jdGlvbihlKXtyZXR1cm4gOD09PWUuYnl0ZUxlbmd0aD9uZXcgZS5CaWdJbnRBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsMSlbMF06YyhlKX0sZS5iaWdudW1Ub1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gOD09PWUuYnl0ZUxlbmd0aD8iIituZXcgZS5CaWdJbnRBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsMSlbMF06YyhlKX0pOihlLmJpZ251bVRvU3RyaW5nPWMsZS5iaWdudW1Ub0JpZ0ludD1lLmJpZ251bVRvU3RyaW5nKTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtyZXR1cm4gZS5uZXcodCxyKX1yZXR1cm4gZS5uZXc9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSEwOnJldHVybiBuZXcgbyhlKTtjYXNlITE6cmV0dXJuIG5ldyBhKGUpfXN3aXRjaChlLmNvbnN0cnVjdG9yKXtjYXNlIEludDhBcnJheTpjYXNlIEludDE2QXJyYXk6Y2FzZSBJbnQzMkFycmF5OmNhc2Ugbi5CaWdJbnQ2NEFycmF5OnJldHVybiBuZXcgbyhlKX1yZXR1cm4gMTY9PT1lLmJ5dGVMZW5ndGg/bmV3IHUoZSk6bmV3IGEoZSl9LGUuc2lnbmVkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhlKX0sZS51bnNpZ25lZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoZSl9LGUuZGVjaW1hbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoZSl9LGV9KCk7ZS5CTj1sfShNciksT2JqZWN0LmRlZmluZVByb3BlcnR5KFByLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxQci5VaW50NjRCdWlsZGVyPVByLlVpbnQzMkJ1aWxkZXI9UHIuVWludDE2QnVpbGRlcj1Qci5VaW50OEJ1aWxkZXI9UHIuSW50NjRCdWlsZGVyPVByLkludDMyQnVpbGRlcj1Qci5JbnQxNkJ1aWxkZXI9UHIuSW50OEJ1aWxkZXI9UHIuSW50QnVpbGRlcj12b2lkIDA7dmFyIEZyPUguZXhwb3J0cyxVcj1Ncixqcj1NdCx4cj1RLExyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlcy5zZXQoZSx0KX0sdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO1ByLkludEJ1aWxkZXI9THI7dmFyIFJyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuSW50OEJ1aWxkZXI9UnI7dmFyIE5yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuSW50MTZCdWlsZGVyPU5yO3ZhciBFcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gRnIuX19leHRlbmRzKHQsZSksdH0oTHIpO1ByLkludDMyQnVpbGRlcj1Fcjt2YXIgQ3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj10aGlzO3JldHVybiB0Lm51bGxWYWx1ZXMmJih0Lm51bGxWYWx1ZXM9dC5udWxsVmFsdWVzLm1hcChHcikpLChyPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5fdmFsdWVzPW5ldyBqci5XaWRlQnVmZmVyQnVpbGRlcihuZXcgSW50MzJBcnJheSgwKSwyKSxyfXJldHVybiBGci5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlczY0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5idWZmZXI2NH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBlLnByb3RvdHlwZS5pc1ZhbGlkLmNhbGwodGhpcyxHcih0KSl9LHR9KExyKTtQci5JbnQ2NEJ1aWxkZXI9Q3I7dmFyIHpyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuVWludDhCdWlsZGVyPXpyO3ZhciBrcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gRnIuX19leHRlbmRzKHQsZSksdH0oTHIpO1ByLlVpbnQxNkJ1aWxkZXI9a3I7dmFyIFdyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuVWludDMyQnVpbGRlcj1Xcjt2YXIgWXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj10aGlzO3JldHVybiB0Lm51bGxWYWx1ZXMmJih0Lm51bGxWYWx1ZXM9dC5udWxsVmFsdWVzLm1hcChHcikpLChyPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5fdmFsdWVzPW5ldyBqci5XaWRlQnVmZmVyQnVpbGRlcihuZXcgVWludDMyQXJyYXkoMCksMikscn1yZXR1cm4gRnIuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZXM2NCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXMuYnVmZmVyNjR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbih0KXtyZXR1cm4gZS5wcm90b3R5cGUuaXNWYWxpZC5jYWxsKHRoaXMsR3IodCkpfSx0fShMcik7UHIuVWludDY0QnVpbGRlcj1Zcjt2YXIgSHIsR3I9KEhyPXtCaWdJbnRBcnJheTp4ci5CaWdJbnQ2NEFycmF5fSxmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGUpJiYoSHIuYnVmZmVyPWUuYnVmZmVyLEhyLmJ5dGVPZmZzZXQ9ZS5ieXRlT2Zmc2V0LEhyLmJ5dGVMZW5ndGg9ZS5ieXRlTGVuZ3RoLGU9VXIuYmlnbnVtVG9CaWdJbnQoSHIpLEhyLmJ1ZmZlcj1udWxsKSxlfSksSnI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEpyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxKci5UaW1lTmFub3NlY29uZEJ1aWxkZXI9SnIuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcj1Kci5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyPUpyLlRpbWVTZWNvbmRCdWlsZGVyPUpyLlRpbWVCdWlsZGVyPXZvaWQgMDt2YXIgWnI9SC5leHBvcnRzLEtyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBaci5fX2V4dGVuZHModCxlKSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7SnIuVGltZUJ1aWxkZXI9S3I7dmFyIFhyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBaci5fX2V4dGVuZHModCxlKSx0fShLcik7SnIuVGltZVNlY29uZEJ1aWxkZXI9WHI7dmFyIHFyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBaci5fX2V4dGVuZHModCxlKSx0fShLcik7SnIuVGltZU1pbGxpc2Vjb25kQnVpbGRlcj1xcjt2YXIgUXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFpyLl9fZXh0ZW5kcyh0LGUpLHR9KEtyKTtKci5UaW1lTWljcm9zZWNvbmRCdWlsZGVyPVFyO3ZhciAkcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWnIuX19leHRlbmRzKHQsZSksdH0oS3IpO0pyLlRpbWVOYW5vc2Vjb25kQnVpbGRlcj0kcjt2YXIgZW49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGVuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlbi5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcj1lbi5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXI9ZW4uVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyPWVuLlRpbWVzdGFtcFNlY29uZEJ1aWxkZXI9ZW4uVGltZXN0YW1wQnVpbGRlcj12b2lkIDA7dmFyIHRuPUguZXhwb3J0cyxybj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdG4uX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO2VuLlRpbWVzdGFtcEJ1aWxkZXI9cm47dmFyIG5uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB0bi5fX2V4dGVuZHModCxlKSx0fShybik7ZW4uVGltZXN0YW1wU2Vjb25kQnVpbGRlcj1ubjt2YXIgb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHRuLl9fZXh0ZW5kcyh0LGUpLHR9KHJuKTtlbi5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXI9b247dmFyIGFuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB0bi5fX2V4dGVuZHModCxlKSx0fShybik7ZW4uVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyPWFuO3ZhciB1bj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdG4uX19leHRlbmRzKHQsZSksdH0ocm4pO2VuLlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyPXVuO3ZhciBzbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc24sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHNuLkludGVydmFsWWVhck1vbnRoQnVpbGRlcj1zbi5JbnRlcnZhbERheVRpbWVCdWlsZGVyPXNuLkludGVydmFsQnVpbGRlcj12b2lkIDA7dmFyIGNuPUguZXhwb3J0cyxsbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gY24uX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO3NuLkludGVydmFsQnVpbGRlcj1sbjt2YXIgZm49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGNuLl9fZXh0ZW5kcyh0LGUpLHR9KGxuKTtzbi5JbnRlcnZhbERheVRpbWVCdWlsZGVyPWZuO3ZhciBkbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gY24uX19leHRlbmRzKHQsZSksdH0obG4pO3NuLkludGVydmFsWWVhck1vbnRoQnVpbGRlcj1kbjt2YXIgcG49e30seW49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHluLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx5bi5CaW5hcnlCdWlsZGVyPXZvaWQgMDt2YXIgaG49SC5leHBvcnRzLGJuPUcsdm49TXQsX249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5fdmFsdWVzPW5ldyB2bi5CdWZmZXJCdWlsZGVyKG5ldyBVaW50OEFycmF5KDApKSxyfXJldHVybiBobi5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wZW5kaW5nTGVuZ3RoKzQqdGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMuX29mZnNldHMmJihlKz10aGlzLl9vZmZzZXRzLmJ5dGVMZW5ndGgpLHRoaXMuX3ZhbHVlcyYmKGUrPXRoaXMuX3ZhbHVlcy5ieXRlTGVuZ3RoKSx0aGlzLl9udWxscyYmKGUrPXRoaXMuX251bGxzLmJ5dGVMZW5ndGgpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLHQsYm4udG9VaW50OEFycmF5KHIpKX0sdC5wcm90b3R5cGUuX2ZsdXNoUGVuZGluZz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLGE9dGhpcy5fb2Zmc2V0cyx1PXRoaXMuX3ZhbHVlcy5yZXNlcnZlKHQpLmJ1ZmZlcixzPTAsYz0wLGw9MDt0cnl7Zm9yKHZhciBmPWhuLl9fdmFsdWVzKGUpLGQ9Zi5uZXh0KCk7IWQuZG9uZTtkPWYubmV4dCgpKXM9KGk9aG4uX19yZWFkKGQudmFsdWUsMikpWzBdLHZvaWQgMD09PShvPWlbMV0pP2Euc2V0KHMsMCk6KGM9by5sZW5ndGgsdS5zZXQobyxsKSxhLnNldChzLGMpLGwrPWMpfWNhdGNoKHApe3I9e2Vycm9yOnB9fWZpbmFsbHl7dHJ5e2QmJiFkLmRvbmUmJihuPWYucmV0dXJuKSYmbi5jYWxsKGYpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX19LHR9KHZlLlZhcmlhYmxlV2lkdGhCdWlsZGVyKTt5bi5CaW5hcnlCdWlsZGVyPV9uLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkscG4uVXRmOEJ1aWxkZXI9dm9pZCAwO3ZhciBtbj1ILmV4cG9ydHMsZ249SyxCbj15bixUbj1NdCxJbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl92YWx1ZXM9bmV3IFRuLkJ1ZmZlckJ1aWxkZXIobmV3IFVpbnQ4QXJyYXkoMCkpLHJ9cmV0dXJuIG1uLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BlbmRpbmdMZW5ndGgrNCp0aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5fb2Zmc2V0cyYmKGUrPXRoaXMuX29mZnNldHMuYnl0ZUxlbmd0aCksdGhpcy5fdmFsdWVzJiYoZSs9dGhpcy5fdmFsdWVzLmJ5dGVMZW5ndGgpLHRoaXMuX251bGxzJiYoZSs9dGhpcy5fbnVsbHMuYnl0ZUxlbmd0aCksZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCxnbi5lbmNvZGVVdGY4KHIpKX0sdC5wcm90b3R5cGUuX2ZsdXNoUGVuZGluZz1mdW5jdGlvbihlLHQpe30sdH0odmUuVmFyaWFibGVXaWR0aEJ1aWxkZXIpO3BuLlV0ZjhCdWlsZGVyPUluLEluLnByb3RvdHlwZS5fZmx1c2hQZW5kaW5nPUJuLkJpbmFyeUJ1aWxkZXIucHJvdG90eXBlLl9mbHVzaFBlbmRpbmc7dmFyIHduPXt9LE9uPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShPbiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT24uUnVuPXZvaWQgMDt2YXIgU249X2UsQW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXMubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmFsdWVzW2VdfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXM9bnVsbCx0aGlzfSxlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgU24uVmVjdG9yP2U6KHRoaXMuX3ZhbHVlcz1lLHRoaXMpfSxlfSgpO09uLlJ1bj1Bbjt2YXIgRG49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KERuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxEbi5GaWVsZD1Ebi5TY2hlbWE9dm9pZCAwO3ZhciBWbj1ILmV4cG9ydHMsUG49RmUsTW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5maWVsZHM9ZXx8W10sdGhpcy5tZXRhZGF0YT10fHxuZXcgTWFwLHJ8fChyPWpuKGUpKSx0aGlzLmRpY3Rpb25hcmllcz1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsU3ltYm9sLnRvU3RyaW5nVGFnLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iU2NoZW1hIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJTY2hlbWE8eyAiK3RoaXMuZmllbGRzLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCsiOiAiK2V9KSkuam9pbigiLCAiKSsiIH0+In0sZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3ZhciBuPXQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybihlW3RdPSEwKSYmZX0pLE9iamVjdC5jcmVhdGUobnVsbCkpO3JldHVybiBuZXcgZSh0aGlzLmZpZWxkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2UubmFtZV19KSksdGhpcy5tZXRhZGF0YSl9LGUucHJvdG90eXBlLnNlbGVjdEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMscj1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gbmV3IGUoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpZWxkc1tlXX0pKS5maWx0ZXIoQm9vbGVhbiksdGhpcy5tZXRhZGF0YSl9LGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTt2YXIgbj10WzBdaW5zdGFuY2VvZiBlP3RbMF06QXJyYXkuaXNBcnJheSh0WzBdKT9uZXcgZSh0WzBdKTpuZXcgZSh0KSxpPVZuLl9fc3ByZWFkKHRoaXMuZmllbGRzKSxvPVVuKFVuKG5ldyBNYXAsdGhpcy5tZXRhZGF0YSksbi5tZXRhZGF0YSksYT1uLmZpZWxkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpO3JldHVybiF+dHx8KGlbdF09ZS5jbG9uZSh7bWV0YWRhdGE6VW4oVW4obmV3IE1hcCxpW3RdLm1ldGFkYXRhKSxlLm1ldGFkYXRhKX0pKSYmITF9KSksdT1qbihhLG5ldyBNYXApO3JldHVybiBuZXcgZShWbi5fX3NwcmVhZChpLGEpLG8sbmV3IE1hcChWbi5fX3NwcmVhZCh0aGlzLmRpY3Rpb25hcmllcyx1KSkpfSxlfSgpO0RuLlNjaGVtYT1Nbjt2YXIgRm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4pe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLm5hbWU9ZSx0aGlzLnR5cGU9dCx0aGlzLm51bGxhYmxlPXIsdGhpcy5tZXRhZGF0YT1ufHxuZXcgTWFwfXJldHVybiBlLm5ldz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTt2YXIgbj1Wbi5fX3JlYWQodCw0KSxpPW5bMF0sbz1uWzFdLGE9blsyXSx1PW5bM107cmV0dXJuIHRbMF0mJiJvYmplY3QiPT10eXBlb2YgdFswXSYmKGk9dFswXS5uYW1lLHZvaWQgMD09PW8mJihvPXRbMF0udHlwZSksdm9pZCAwPT09YSYmKGE9dFswXS5udWxsYWJsZSksdm9pZCAwPT09dSYmKHU9dFswXS5tZXRhZGF0YSkpLG5ldyBlKCIiK2ksbyxhLHUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUudHlwZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxTeW1ib2wudG9TdHJpbmdUYWcse2dldDpmdW5jdGlvbigpe3JldHVybiJGaWVsZCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyI6ICIrdGhpcy50eXBlfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxyLG4saSxvLGEsdSxzLGMsbCxmPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKWZbZF09YXJndW1lbnRzW2RdO3ZhciBwPVZuLl9fcmVhZChmLDQpLHk9cFswXSxoPXBbMV0sYj1wWzJdLHY9cFszXTtyZXR1cm4gZlswXSYmIm9iamVjdCI9PXR5cGVvZiBmWzBdPyh5PXZvaWQgMD09PSh1PShhPWZbMF0pLm5hbWUpP3RoaXMubmFtZTp1LGg9dm9pZCAwPT09KHM9YS50eXBlKT90aGlzLnR5cGU6cyxiPXZvaWQgMD09PShjPWEubnVsbGFibGUpP3RoaXMubnVsbGFibGU6Yyx2PXZvaWQgMD09PShsPWEubWV0YWRhdGEpP3RoaXMubWV0YWRhdGE6bCk6KHk9dm9pZCAwPT09KHI9KHQ9Vm4uX19yZWFkKGYsNCkpWzBdKT90aGlzLm5hbWU6cixoPXZvaWQgMD09PShuPXRbMV0pP3RoaXMudHlwZTpuLGI9dm9pZCAwPT09KGk9dFsyXSk/dGhpcy5udWxsYWJsZTppLHY9dm9pZCAwPT09KG89dFszXSk/dGhpcy5tZXRhZGF0YTpvKSxlLm5ldyh5LGgsYix2KX0sZX0oKTtmdW5jdGlvbiBVbihlLHQpe3JldHVybiBuZXcgTWFwKFZuLl9fc3ByZWFkKGV8fG5ldyBNYXAsdHx8bmV3IE1hcCkpfWZ1bmN0aW9uIGpuKGUsdCl7dm9pZCAwPT09dCYmKHQ9bmV3IE1hcCk7Zm9yKHZhciByPS0xLG49ZS5sZW5ndGg7KytyPG47KXt2YXIgaT1lW3JdLnR5cGU7aWYoUG4uRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KGkpKWlmKHQuaGFzKGkuaWQpKXtpZih0LmdldChpLmlkKSE9PWkuZGljdGlvbmFyeSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgU2NoZW1hIGNvbnRhaW5pbmcgdHdvIGRpZmZlcmVudCBkaWN0aW9uYXJpZXMgd2l0aCB0aGUgc2FtZSBJZCIpfWVsc2UgdC5zZXQoaS5pZCxpLmRpY3Rpb25hcnkpO2kuY2hpbGRyZW4mJmkuY2hpbGRyZW4ubGVuZ3RoPjAmJmpuKGkuY2hpbGRyZW4sdCl9cmV0dXJuIHR9RG4uRmllbGQ9Rm4sTW4ucHJvdG90eXBlLmZpZWxkcz1udWxsLE1uLnByb3RvdHlwZS5tZXRhZGF0YT1udWxsLE1uLnByb3RvdHlwZS5kaWN0aW9uYXJpZXM9bnVsbCxGbi5wcm90b3R5cGUudHlwZT1udWxsLEZuLnByb3RvdHlwZS5uYW1lPW51bGwsRm4ucHJvdG90eXBlLm51bGxhYmxlPW51bGwsRm4ucHJvdG90eXBlLm1ldGFkYXRhPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KHduLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx3bi5MaXN0QnVpbGRlcj12b2lkIDA7dmFyIHhuPUguZXhwb3J0cyxMbj1PbixSbj1EbixObj1GZSxFbj1NdCxDbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl9ydW49bmV3IExuLlJ1bixyLl9vZmZzZXRzPW5ldyBFbi5PZmZzZXRzQnVmZmVyQnVpbGRlcixyfXJldHVybiB4bi5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSIwIiksdGhpcy5udW1DaGlsZHJlbj4wKXRocm93IG5ldyBFcnJvcigiTGlzdEJ1aWxkZXIgY2FuIG9ubHkgaGF2ZSBvbmUgY2hpbGQuIik7cmV0dXJuIHRoaXMuY2hpbGRyZW5bdGhpcy5udW1DaGlsZHJlbl09ZSx0aGlzLnR5cGU9bmV3IE5uLkxpc3QobmV3IFJuLkZpZWxkKHQsZS50eXBlLCEwKSksdGhpcy5udW1DaGlsZHJlbi0xfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW4uY2xlYXIoKSxlLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fZmx1c2hQZW5kaW5nPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLG89dGhpcy5fcnVuLGE9dGhpcy5fb2Zmc2V0cyx1PXRoaXMuX3NldFZhbHVlLHM9MDt0cnl7Zm9yKHZhciBjPXhuLl9fdmFsdWVzKGUpLGw9Yy5uZXh0KCk7IWwuZG9uZTtsPWMubmV4dCgpKXM9KG49eG4uX19yZWFkKGwudmFsdWUsMikpWzBdLHZvaWQgMD09PShpPW5bMV0pP2Euc2V0KHMsMCk6KGEuc2V0KHMsaS5sZW5ndGgpLHUodGhpcyxzLG8uYmluZChpKSkpfWNhdGNoKGYpe3Q9e2Vycm9yOmZ9fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19LHR9KHZlLlZhcmlhYmxlV2lkdGhCdWlsZGVyKTt3bi5MaXN0QnVpbGRlcj1Dbjt2YXIgem49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHpuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx6bi5GaXhlZFNpemVMaXN0QnVpbGRlcj12b2lkIDA7dmFyIGtuPUguZXhwb3J0cyxXbj1PbixZbj1EbixIbj1GZSxHbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9ydW49bmV3IFduLlJ1bix0fXJldHVybiBrbi5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LHIpe2UucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyx0LHRoaXMuX3J1bi5iaW5kKHIpKX0sdC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0iMCIpLHRoaXMubnVtQ2hpbGRyZW4+MCl0aHJvdyBuZXcgRXJyb3IoIkZpeGVkU2l6ZUxpc3RCdWlsZGVyIGNhbiBvbmx5IGhhdmUgb25lIGNoaWxkLiIpO3ZhciByPXRoaXMuY2hpbGRyZW4ucHVzaChlKTtyZXR1cm4gdGhpcy50eXBlPW5ldyBIbi5GaXhlZFNpemVMaXN0KHRoaXMudHlwZS5saXN0U2l6ZSxuZXcgWW4uRmllbGQodCxlLnR5cGUsITApKSxyfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW4uY2xlYXIoKSxlLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSx0fSh2ZS5CdWlsZGVyKTt6bi5GaXhlZFNpemVMaXN0QnVpbGRlcj1Hbjt2YXIgSm49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEpuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxKbi5NYXBCdWlsZGVyPXZvaWQgMDt2YXIgWm49SC5leHBvcnRzLEtuPURuLFhuPUZlLHFuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBabi5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5wcm90b3R5cGUuc2V0LmNhbGwodGhpcyx0LHIpfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3Q9dCBpbnN0YW5jZW9mIE1hcD90Om5ldyBNYXAoT2JqZWN0LmVudHJpZXModCkpO3ZhciByPXRoaXMuX3BlbmRpbmd8fCh0aGlzLl9wZW5kaW5nPW5ldyBNYXApLG49ci5nZXQoZSk7biYmKHRoaXMuX3BlbmRpbmdMZW5ndGgtPW4uc2l6ZSksdGhpcy5fcGVuZGluZ0xlbmd0aCs9dC5zaXplLHIuc2V0KGUsdCl9LHQucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9IiIrdGhpcy5udW1DaGlsZHJlbiksdGhpcy5udW1DaGlsZHJlbj4wKXRocm93IG5ldyBFcnJvcigiTGlzdEJ1aWxkZXIgY2FuIG9ubHkgaGF2ZSBvbmUgY2hpbGQuIik7cmV0dXJuIHRoaXMuY2hpbGRyZW5bdGhpcy5udW1DaGlsZHJlbl09ZSx0aGlzLnR5cGU9bmV3IFhuLk1hcF8obmV3IEtuLkZpZWxkKHQsZS50eXBlLCEwKSx0aGlzLnR5cGUua2V5c1NvcnRlZCksdGhpcy5udW1DaGlsZHJlbi0xfSx0LnByb3RvdHlwZS5fZmx1c2hQZW5kaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLl9vZmZzZXRzLG49dGhpcy5fc2V0VmFsdWU7ZS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe3ZvaWQgMD09PWU/ci5zZXQoaSwwKTooci5zZXQoaSxlLnNpemUpLG4odCxpLGUpKX0pKX0sdH0odmUuVmFyaWFibGVXaWR0aEJ1aWxkZXIpO0puLk1hcEJ1aWxkZXI9cW47dmFyIFFuPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRbiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksUW4uU3RydWN0QnVpbGRlcj12b2lkIDA7dmFyICRuPUguZXhwb3J0cyxlaT1Ebix0aT1GZSxyaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gJG4uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0iIit0aGlzLm51bUNoaWxkcmVuKTt2YXIgcj10aGlzLmNoaWxkcmVuLnB1c2goZSk7cmV0dXJuIHRoaXMudHlwZT1uZXcgdGkuU3RydWN0KCRuLl9fc3ByZWFkKHRoaXMudHlwZS5jaGlsZHJlbixbbmV3IGVpLkZpZWxkKHQsZS50eXBlLCEwKV0pKSxyfSx0fSh2ZS5CdWlsZGVyKTtRbi5TdHJ1Y3RCdWlsZGVyPXJpO3ZhciBuaT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobmksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG5pLkRlbnNlVW5pb25CdWlsZGVyPW5pLlNwYXJzZVVuaW9uQnVpbGRlcj1uaS5VbmlvbkJ1aWxkZXI9dm9pZCAwO3ZhciBpaT1ILmV4cG9ydHMsb2k9RG4sYWk9TXQsdWk9RmUsc2k9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5fdHlwZUlkcz1uZXcgYWkuRGF0YUJ1ZmZlckJ1aWxkZXIobmV3IEludDhBcnJheSgwKSwxKSwiZnVuY3Rpb24iPT10eXBlb2YgdC52YWx1ZVRvQ2hpbGRUeXBlSWQmJihyLl92YWx1ZVRvQ2hpbGRUeXBlSWQ9dC52YWx1ZVRvQ2hpbGRUeXBlSWQpLHJ9cmV0dXJuIGlpLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkVG9DaGlsZEluZGV4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS50eXBlSWRUb0NoaWxkSW5kZXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0KHRoaXMubGVuZ3RoLGUsdCl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXRoaXMuX3ZhbHVlVG9DaGlsZFR5cGVJZCh0aGlzLHQsZSkpLHRoaXMuc2V0VmFsaWQoZSx0aGlzLmlzVmFsaWQodCkpJiZ0aGlzLnNldFZhbHVlKGUsdCxyKSx0aGlzfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LHIsbil7dGhpcy5fdHlwZUlkcy5zZXQodCxuKSxlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCxyKX0sdC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0iIit0aGlzLmNoaWxkcmVuLmxlbmd0aCk7dmFyIHI9dGhpcy5jaGlsZHJlbi5wdXNoKGUpLG49dGhpcy50eXBlLGk9bi5jaGlsZHJlbixvPW4ubW9kZSxhPW4udHlwZUlkcyx1PWlpLl9fc3ByZWFkKGksW25ldyBvaS5GaWVsZCh0LGUudHlwZSldKTtyZXR1cm4gdGhpcy50eXBlPW5ldyB1aS5VbmlvbihvLGlpLl9fc3ByZWFkKGEsW3JdKSx1KSxyfSx0LnByb3RvdHlwZS5fdmFsdWVUb0NoaWxkVHlwZUlkPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBtYXAgVW5pb25CdWlsZGVyIHZhbHVlIHRvIGNoaWxkIHR5cGVJZC4gUGFzcyB0aGUgYGNoaWxkVHlwZUlkYCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHVuaW9uQnVpbGRlci5hcHBlbmQoKSwgb3Igc3VwcGx5IGEgYHZhbHVlVG9DaGlsZFR5cGVJZGAgZnVuY3Rpb24gYXMgcGFydCBvZiB0aGUgVW5pb25CdWlsZGVyIGNvbnN0cnVjdG9yIG9wdGlvbnMuIil9LHR9KHZlLkJ1aWxkZXIpO25pLlVuaW9uQnVpbGRlcj1zaTt2YXIgY2k9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGlpLl9fZXh0ZW5kcyh0LGUpLHR9KHNpKTtuaS5TcGFyc2VVbmlvbkJ1aWxkZXI9Y2k7dmFyIGxpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX29mZnNldHM9bmV3IGFpLkRhdGFCdWZmZXJCdWlsZGVyKG5ldyBJbnQzMkFycmF5KDApKSxyfXJldHVybiBpaS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LHIsbil7dmFyIGk9dGhpcy50eXBlLnR5cGVJZFRvQ2hpbGRJbmRleFtuXTtyZXR1cm4gdGhpcy5fb2Zmc2V0cy5zZXQodCx0aGlzLmdldENoaWxkQXQoaSkubGVuZ3RoKSxlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCxyLG4pfSx0fShzaSk7bmkuRGVuc2VVbmlvbkJ1aWxkZXI9bGk7dmFyIGZpPXt9LGRpPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZGkuVmlzaXRvcj12b2lkIDA7dmFyIHBpPUguZXhwb3J0cyx5aT1JZSxoaT1fZSxiaT1nZSx2aT1GZSxfaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnZpc2l0TWFueT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxyPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGUubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0LnZpc2l0LmFwcGx5KHQscGkuX19zcHJlYWQoW2VdLHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVtuXX0pKSkpfSkpfSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gdGhpcy5nZXRWaXNpdEZuKGVbMF0sITEpLmFwcGx5KHRoaXMsZSl9LGUucHJvdG90eXBlLmdldFZpc2l0Rm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLGZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG49bnVsbCxpPWJpLlR5cGUuTk9ORTt0IGluc3RhbmNlb2YgeWkuRGF0YXx8dCBpbnN0YW5jZW9mIGhpLlZlY3Rvcj9pPW1pKHQudHlwZSk6dCBpbnN0YW5jZW9mIHZpLkRhdGFUeXBlP2k9bWkodCk6Im51bWJlciIhPXR5cGVvZihpPXQpJiYoaT1iaS5UeXBlW3RdKTtzd2l0Y2goaSl7Y2FzZSBiaS5UeXBlLk51bGw6bj1lLnZpc2l0TnVsbDticmVhaztjYXNlIGJpLlR5cGUuQm9vbDpuPWUudmlzaXRCb29sO2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnQ6bj1lLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnQ4Om49ZS52aXNpdEludDh8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkludDE2Om49ZS52aXNpdEludDE2fHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnQzMjpuPWUudmlzaXRJbnQzMnx8ZS52aXNpdEludDticmVhaztjYXNlIGJpLlR5cGUuSW50NjQ6bj1lLnZpc2l0SW50NjR8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLlVpbnQ4Om49ZS52aXNpdFVpbnQ4fHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5VaW50MTY6bj1lLnZpc2l0VWludDE2fHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5VaW50MzI6bj1lLnZpc2l0VWludDMyfHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5VaW50NjQ6bj1lLnZpc2l0VWludDY0fHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5GbG9hdDpuPWUudmlzaXRGbG9hdDticmVhaztjYXNlIGJpLlR5cGUuRmxvYXQxNjpuPWUudmlzaXRGbG9hdDE2fHxlLnZpc2l0RmxvYXQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkZsb2F0MzI6bj1lLnZpc2l0RmxvYXQzMnx8ZS52aXNpdEZsb2F0O2JyZWFrO2Nhc2UgYmkuVHlwZS5GbG9hdDY0Om49ZS52aXNpdEZsb2F0NjR8fGUudmlzaXRGbG9hdDticmVhaztjYXNlIGJpLlR5cGUuVXRmODpuPWUudmlzaXRVdGY4O2JyZWFrO2Nhc2UgYmkuVHlwZS5CaW5hcnk6bj1lLnZpc2l0QmluYXJ5O2JyZWFrO2Nhc2UgYmkuVHlwZS5GaXhlZFNpemVCaW5hcnk6bj1lLnZpc2l0Rml4ZWRTaXplQmluYXJ5O2JyZWFrO2Nhc2UgYmkuVHlwZS5EYXRlOm49ZS52aXNpdERhdGU7YnJlYWs7Y2FzZSBiaS5UeXBlLkRhdGVEYXk6bj1lLnZpc2l0RGF0ZURheXx8ZS52aXNpdERhdGU7YnJlYWs7Y2FzZSBiaS5UeXBlLkRhdGVNaWxsaXNlY29uZDpuPWUudmlzaXREYXRlTWlsbGlzZWNvbmR8fGUudmlzaXREYXRlO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lc3RhbXA6bj1lLnZpc2l0VGltZXN0YW1wO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lc3RhbXBTZWNvbmQ6bj1lLnZpc2l0VGltZXN0YW1wU2Vjb25kfHxlLnZpc2l0VGltZXN0YW1wO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZDpuPWUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZHx8ZS52aXNpdFRpbWVzdGFtcDticmVhaztjYXNlIGJpLlR5cGUuVGltZXN0YW1wTWljcm9zZWNvbmQ6bj1lLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmR8fGUudmlzaXRUaW1lc3RhbXA7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ6bj1lLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZHx8ZS52aXNpdFRpbWVzdGFtcDticmVhaztjYXNlIGJpLlR5cGUuVGltZTpuPWUudmlzaXRUaW1lO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lU2Vjb25kOm49ZS52aXNpdFRpbWVTZWNvbmR8fGUudmlzaXRUaW1lO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lTWlsbGlzZWNvbmQ6bj1lLnZpc2l0VGltZU1pbGxpc2Vjb25kfHxlLnZpc2l0VGltZTticmVhaztjYXNlIGJpLlR5cGUuVGltZU1pY3Jvc2Vjb25kOm49ZS52aXNpdFRpbWVNaWNyb3NlY29uZHx8ZS52aXNpdFRpbWU7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVOYW5vc2Vjb25kOm49ZS52aXNpdFRpbWVOYW5vc2Vjb25kfHxlLnZpc2l0VGltZTticmVhaztjYXNlIGJpLlR5cGUuRGVjaW1hbDpuPWUudmlzaXREZWNpbWFsO2JyZWFrO2Nhc2UgYmkuVHlwZS5MaXN0Om49ZS52aXNpdExpc3Q7YnJlYWs7Y2FzZSBiaS5UeXBlLlN0cnVjdDpuPWUudmlzaXRTdHJ1Y3Q7YnJlYWs7Y2FzZSBiaS5UeXBlLlVuaW9uOm49ZS52aXNpdFVuaW9uO2JyZWFrO2Nhc2UgYmkuVHlwZS5EZW5zZVVuaW9uOm49ZS52aXNpdERlbnNlVW5pb258fGUudmlzaXRVbmlvbjticmVhaztjYXNlIGJpLlR5cGUuU3BhcnNlVW5pb246bj1lLnZpc2l0U3BhcnNlVW5pb258fGUudmlzaXRVbmlvbjticmVhaztjYXNlIGJpLlR5cGUuRGljdGlvbmFyeTpuPWUudmlzaXREaWN0aW9uYXJ5O2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnRlcnZhbDpuPWUudmlzaXRJbnRlcnZhbDticmVhaztjYXNlIGJpLlR5cGUuSW50ZXJ2YWxEYXlUaW1lOm49ZS52aXNpdEludGVydmFsRGF5VGltZXx8ZS52aXNpdEludGVydmFsO2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnRlcnZhbFllYXJNb250aDpuPWUudmlzaXRJbnRlcnZhbFllYXJNb250aHx8ZS52aXNpdEludGVydmFsO2JyZWFrO2Nhc2UgYmkuVHlwZS5GaXhlZFNpemVMaXN0Om49ZS52aXNpdEZpeGVkU2l6ZUxpc3Q7YnJlYWs7Y2FzZSBiaS5UeXBlLk1hcDpuPWUudmlzaXRNYXB9aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIG47aWYoIXIpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3Rocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHR5cGUgJyIrYmkuVHlwZVtpXSsiJyIpfSh0aGlzLGUsdCl9LGUucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRGbG9hdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRNYXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGV9KCk7ZnVuY3Rpb24gbWkoZSl7c3dpdGNoKGUudHlwZUlkKXtjYXNlIGJpLlR5cGUuTnVsbDpyZXR1cm4gYmkuVHlwZS5OdWxsO2Nhc2UgYmkuVHlwZS5JbnQ6dmFyIHQ9ZSxyPXQuYml0V2lkdGgsbj10LmlzU2lnbmVkO3N3aXRjaChyKXtjYXNlIDg6cmV0dXJuIG4/YmkuVHlwZS5JbnQ4OmJpLlR5cGUuVWludDg7Y2FzZSAxNjpyZXR1cm4gbj9iaS5UeXBlLkludDE2OmJpLlR5cGUuVWludDE2O2Nhc2UgMzI6cmV0dXJuIG4/YmkuVHlwZS5JbnQzMjpiaS5UeXBlLlVpbnQzMjtjYXNlIDY0OnJldHVybiBuP2JpLlR5cGUuSW50NjQ6YmkuVHlwZS5VaW50NjR9cmV0dXJuIGJpLlR5cGUuSW50O2Nhc2UgYmkuVHlwZS5GbG9hdDpzd2l0Y2goZS5wcmVjaXNpb24pe2Nhc2UgYmkuUHJlY2lzaW9uLkhBTEY6cmV0dXJuIGJpLlR5cGUuRmxvYXQxNjtjYXNlIGJpLlByZWNpc2lvbi5TSU5HTEU6cmV0dXJuIGJpLlR5cGUuRmxvYXQzMjtjYXNlIGJpLlByZWNpc2lvbi5ET1VCTEU6cmV0dXJuIGJpLlR5cGUuRmxvYXQ2NH1yZXR1cm4gYmkuVHlwZS5GbG9hdDtjYXNlIGJpLlR5cGUuQmluYXJ5OnJldHVybiBiaS5UeXBlLkJpbmFyeTtjYXNlIGJpLlR5cGUuVXRmODpyZXR1cm4gYmkuVHlwZS5VdGY4O2Nhc2UgYmkuVHlwZS5Cb29sOnJldHVybiBiaS5UeXBlLkJvb2w7Y2FzZSBiaS5UeXBlLkRlY2ltYWw6cmV0dXJuIGJpLlR5cGUuRGVjaW1hbDtjYXNlIGJpLlR5cGUuVGltZTpzd2l0Y2goZS51bml0KXtjYXNlIGJpLlRpbWVVbml0LlNFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lU2Vjb25kO2Nhc2UgYmkuVGltZVVuaXQuTUlMTElTRUNPTkQ6cmV0dXJuIGJpLlR5cGUuVGltZU1pbGxpc2Vjb25kO2Nhc2UgYmkuVGltZVVuaXQuTUlDUk9TRUNPTkQ6cmV0dXJuIGJpLlR5cGUuVGltZU1pY3Jvc2Vjb25kO2Nhc2UgYmkuVGltZVVuaXQuTkFOT1NFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lTmFub3NlY29uZH1yZXR1cm4gYmkuVHlwZS5UaW1lO2Nhc2UgYmkuVHlwZS5UaW1lc3RhbXA6c3dpdGNoKGUudW5pdCl7Y2FzZSBiaS5UaW1lVW5pdC5TRUNPTkQ6cmV0dXJuIGJpLlR5cGUuVGltZXN0YW1wU2Vjb25kO2Nhc2UgYmkuVGltZVVuaXQuTUlMTElTRUNPTkQ6cmV0dXJuIGJpLlR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ7Y2FzZSBiaS5UaW1lVW5pdC5NSUNST1NFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZDtjYXNlIGJpLlRpbWVVbml0Lk5BTk9TRUNPTkQ6cmV0dXJuIGJpLlR5cGUuVGltZXN0YW1wTmFub3NlY29uZH1yZXR1cm4gYmkuVHlwZS5UaW1lc3RhbXA7Y2FzZSBiaS5UeXBlLkRhdGU6c3dpdGNoKGUudW5pdCl7Y2FzZSBiaS5EYXRlVW5pdC5EQVk6cmV0dXJuIGJpLlR5cGUuRGF0ZURheTtjYXNlIGJpLkRhdGVVbml0Lk1JTExJU0VDT05EOnJldHVybiBiaS5UeXBlLkRhdGVNaWxsaXNlY29uZH1yZXR1cm4gYmkuVHlwZS5EYXRlO2Nhc2UgYmkuVHlwZS5JbnRlcnZhbDpzd2l0Y2goZS51bml0KXtjYXNlIGJpLkludGVydmFsVW5pdC5EQVlfVElNRTpyZXR1cm4gYmkuVHlwZS5JbnRlcnZhbERheVRpbWU7Y2FzZSBiaS5JbnRlcnZhbFVuaXQuWUVBUl9NT05USDpyZXR1cm4gYmkuVHlwZS5JbnRlcnZhbFllYXJNb250aH1yZXR1cm4gYmkuVHlwZS5JbnRlcnZhbDtjYXNlIGJpLlR5cGUuTWFwOnJldHVybiBiaS5UeXBlLk1hcDtjYXNlIGJpLlR5cGUuTGlzdDpyZXR1cm4gYmkuVHlwZS5MaXN0O2Nhc2UgYmkuVHlwZS5TdHJ1Y3Q6cmV0dXJuIGJpLlR5cGUuU3RydWN0O2Nhc2UgYmkuVHlwZS5Vbmlvbjpzd2l0Y2goZS5tb2RlKXtjYXNlIGJpLlVuaW9uTW9kZS5EZW5zZTpyZXR1cm4gYmkuVHlwZS5EZW5zZVVuaW9uO2Nhc2UgYmkuVW5pb25Nb2RlLlNwYXJzZTpyZXR1cm4gYmkuVHlwZS5TcGFyc2VVbmlvbn1yZXR1cm4gYmkuVHlwZS5VbmlvbjtjYXNlIGJpLlR5cGUuRml4ZWRTaXplQmluYXJ5OnJldHVybiBiaS5UeXBlLkZpeGVkU2l6ZUJpbmFyeTtjYXNlIGJpLlR5cGUuRml4ZWRTaXplTGlzdDpyZXR1cm4gYmkuVHlwZS5GaXhlZFNpemVMaXN0O2Nhc2UgYmkuVHlwZS5EaWN0aW9uYXJ5OnJldHVybiBiaS5UeXBlLkRpY3Rpb25hcnl9dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgdHlwZSAnIitiaS5UeXBlW2UudHlwZUlkXSsiJyIpfWRpLlZpc2l0b3I9X2ksX2kucHJvdG90eXBlLnZpc2l0SW50OD1udWxsLF9pLnByb3RvdHlwZS52aXNpdEludDE2PW51bGwsX2kucHJvdG90eXBlLnZpc2l0SW50MzI9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRJbnQ2ND1udWxsLF9pLnByb3RvdHlwZS52aXNpdFVpbnQ4PW51bGwsX2kucHJvdG90eXBlLnZpc2l0VWludDE2PW51bGwsX2kucHJvdG90eXBlLnZpc2l0VWludDMyPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VWludDY0PW51bGwsX2kucHJvdG90eXBlLnZpc2l0RmxvYXQxNj1udWxsLF9pLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRGbG9hdDY0PW51bGwsX2kucHJvdG90eXBlLnZpc2l0RGF0ZURheT1udWxsLF9pLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbj1udWxsLF9pLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPW51bGwsX2kucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPW51bGwsX2kucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZmksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZpLmluc3RhbmNlPWZpLlNldFZpc2l0b3I9dm9pZCAwO3ZhciBnaT1ILmV4cG9ydHMsQmk9X2UsVGk9SyxJaT1Ccix3aT1HLE9pPWdlLFNpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBnaS5fX2V4dGVuZHModCxlKSx0fShkaS5WaXNpdG9yKTtmaS5TZXRWaXNpdG9yPVNpO3ZhciBBaT1mdW5jdGlvbihlLHQscil7ZVt0XT1yJTQyOTQ5NjcyOTZ8MCxlW3QrMV09ci80Mjk0OTY3Mjk2fDB9LERpPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXQsbz1pW3JdLGE9aVtyKzFdO251bGwhPW8mJm51bGwhPWEmJmUuc2V0KG4uc3ViYXJyYXkoMCxhLW8pLG8pfSxWaT1mdW5jdGlvbihlLHQscil7IWZ1bmN0aW9uKGUsdCxyKXtlW3RdPXIvODY0ZTV8MH0oZS52YWx1ZXMsdCxyLnZhbHVlT2YoKSl9LFBpPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnZhbHVlcztBaShuLDIqdCxyLnZhbHVlT2YoKSl9LE1pPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnN0cmlkZTtlLnZhbHVlc1tuKnRdPXJ9LEZpPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnN0cmlkZTtlLnZhbHVlc1tuKnRdPUlpLmZsb2F0NjRUb1VpbnQxNihyKX0sVWk9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaCh0eXBlb2Ygcil7Y2FzZSJiaWdpbnQiOmUudmFsdWVzNjRbdF09cjticmVhaztjYXNlIm51bWJlciI6ZS52YWx1ZXNbdCplLnN0cmlkZV09cjticmVhaztkZWZhdWx0OnZhciBuPXIsaT1lLnN0cmlkZSxvPWUuQXJyYXlUeXBlLGE9d2kudG9BcnJheUJ1ZmZlclZpZXcobyxuKTtlLnZhbHVlcy5zZXQoYS5zdWJhcnJheSgwLGkpLGkqdCl9fSxqaT1mdW5jdGlvbihlLHQscil7dmFyIG49ZS52YWx1ZXM7cmV0dXJuIEFpKG4sMip0LHIvMWUzKX0seGk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUudmFsdWVzO3JldHVybiBBaShuLDIqdCxyKX0sTGk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscil7ZVt0XT0xZTMqciU0Mjk0OTY3Mjk2fDAsZVt0KzFdPTFlMypyLzQyOTQ5NjcyOTZ8MH0oZS52YWx1ZXMsMip0LHIpfSxSaT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtlW3RdPTFlNipyJTQyOTQ5NjcyOTZ8MCxlW3QrMV09MWU2KnIvNDI5NDk2NzI5NnwwfShlLnZhbHVlcywyKnQscil9LE5pPWZ1bmN0aW9uKGUsdCxyKXtlLnZhbHVlc1tlLnN0cmlkZSp0XT1yfSxFaT1mdW5jdGlvbihlLHQscil7ZS52YWx1ZXNbZS5zdHJpZGUqdF09cn0sQ2k9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzLnNldChyLnN1YmFycmF5KDAsMiksMip0KX0semk9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzLnNldChyLnN1YmFycmF5KDAsMiksMip0KX0sa2k9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUudHlwZUlkVG9DaGlsZEluZGV4W2UudHlwZUlkc1t0XV0saT1lLmdldENoaWxkQXQobik7aSYmaS5zZXQoZS52YWx1ZU9mZnNldHNbdF0scil9LFdpPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnR5cGVJZFRvQ2hpbGRJbmRleFtlLnR5cGVJZHNbdF1dLGk9ZS5nZXRDaGlsZEF0KG4pO2kmJmkuc2V0KHQscil9LFlpPWZ1bmN0aW9uKGUsdCxyKXtlLnZhbHVlcy5zZXQoci5zdWJhcnJheSgwLDIpLDIqdCl9LEhpPWZ1bmN0aW9uKGUsdCxyKXtlLnZhbHVlc1t0XT0xMipyWzBdK3JbMV0lMTJ9O1NpLnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUub2Zmc2V0LGk9ZS52YWx1ZXMsbz1uK3Q7cj9pW28+PjNdfD0xPDxvJTg6aVtvPj4zXSY9figxPDxvJTgpfSxTaS5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oZSx0LHIpe2UudHlwZS5iaXRXaWR0aDw2ND9NaShlLHQscik6VWkoZSx0LHIpfSxTaS5wcm90b3R5cGUudmlzaXRJbnQ4PU1pLFNpLnByb3RvdHlwZS52aXNpdEludDE2PU1pLFNpLnByb3RvdHlwZS52aXNpdEludDMyPU1pLFNpLnByb3RvdHlwZS52aXNpdEludDY0PVVpLFNpLnByb3RvdHlwZS52aXNpdFVpbnQ4PU1pLFNpLnByb3RvdHlwZS52aXNpdFVpbnQxNj1NaSxTaS5wcm90b3R5cGUudmlzaXRVaW50MzI9TWksU2kucHJvdG90eXBlLnZpc2l0VWludDY0PVVpLFNpLnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUsdCxyKXtlLnR5cGUucHJlY2lzaW9uIT09T2kuUHJlY2lzaW9uLkhBTEY/TWkoZSx0LHIpOkZpKGUsdCxyKX0sU2kucHJvdG90eXBlLnZpc2l0RmxvYXQxNj1GaSxTaS5wcm90b3R5cGUudmlzaXRGbG9hdDMyPU1pLFNpLnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9TWksU2kucHJvdG90eXBlLnZpc2l0VXRmOD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS52YWx1ZXMsaT1lLnZhbHVlT2Zmc2V0cztEaShuLGksdCxUaS5lbmNvZGVVdGY4KHIpKX0sU2kucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnZhbHVlcyxpPWUudmFsdWVPZmZzZXRzO3JldHVybiBEaShuLGksdCxyKX0sU2kucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnN0cmlkZTtlLnZhbHVlcy5zZXQoci5zdWJhcnJheSgwLG4pLG4qdCl9LFNpLnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oZSx0LHIpe2UudHlwZS51bml0PT09T2kuRGF0ZVVuaXQuREFZP1ZpKGUsdCxyKTpQaShlLHQscil9LFNpLnByb3RvdHlwZS52aXNpdERhdGVEYXk9VmksU2kucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPVBpLFNpLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbihlLHQscil7c3dpdGNoKGUudHlwZS51bml0KXtjYXNlIE9pLlRpbWVVbml0LlNFQ09ORDpyZXR1cm4gamkoZSx0LHIpO2Nhc2UgT2kuVGltZVVuaXQuTUlMTElTRUNPTkQ6cmV0dXJuIHhpKGUsdCxyKTtjYXNlIE9pLlRpbWVVbml0Lk1JQ1JPU0VDT05EOnJldHVybiBMaShlLHQscik7Y2FzZSBPaS5UaW1lVW5pdC5OQU5PU0VDT05EOnJldHVybiBSaShlLHQscil9fSxTaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9amksU2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9eGksU2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9TGksU2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1SaSxTaS5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUsdCxyKXtzd2l0Y2goZS50eXBlLnVuaXQpe2Nhc2UgT2kuVGltZVVuaXQuU0VDT05EOnJldHVybiBOaShlLHQscik7Y2FzZSBPaS5UaW1lVW5pdC5NSUxMSVNFQ09ORDpyZXR1cm4gRWkoZSx0LHIpO2Nhc2UgT2kuVGltZVVuaXQuTUlDUk9TRUNPTkQ6cmV0dXJuIENpKGUsdCxyKTtjYXNlIE9pLlRpbWVVbml0Lk5BTk9TRUNPTkQ6cmV0dXJuIHppKGUsdCxyKX19LFNpLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9TmksU2kucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPUVpLFNpLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1DaSxTaS5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZD16aSxTaS5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUsdCxyKXtlLnZhbHVlcy5zZXQoci5zdWJhcnJheSgwLDQpLDQqdCl9LFNpLnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lLmdldENoaWxkQXQoMCksaT1lLnZhbHVlT2Zmc2V0cyxvPS0xLGE9aVt0XSx1PWlbdCsxXTthPHU7KW4uc2V0KGErKyxyLmdldCgrK28pKX0sU2kucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixpLG89ciBpbnN0YW5jZW9mIE1hcD8obj10LGk9cixmdW5jdGlvbihlLHQscil7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmUuc2V0KG4saS5nZXQodC5uYW1lKSl9KTpyIGluc3RhbmNlb2YgQmkuVmVjdG9yP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gbnVsbD09cj92b2lkIDA6ci5zZXQoZSx0LmdldChpKSl9fSh0LHIpOkFycmF5LmlzQXJyYXkocik/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuLGkpe3JldHVybiBudWxsPT1yP3ZvaWQgMDpyLnNldChlLHRbaV0pfX0odCxyKTpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4saSl7cmV0dXJuIG51bGw9PXI/dm9pZCAwOnIuc2V0KGUsdFtuLm5hbWVdKX19KHQscik7ZS50eXBlLmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIG8oZS5nZXRDaGlsZEF0KHIpLHQscil9KSl9LFNpLnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUsdCxyKXtlLnR5cGUubW9kZT09PU9pLlVuaW9uTW9kZS5EZW5zZT9raShlLHQscik6V2koZSx0LHIpfSxTaS5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPWtpLFNpLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPVdpLFNpLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0S2V5KHQpO251bGwhPT1uJiZlLnNldFZhbHVlKG4scil9LFNpLnByb3RvdHlwZS52aXNpdEludGVydmFsPWZ1bmN0aW9uKGUsdCxyKXtlLnR5cGUudW5pdD09PU9pLkludGVydmFsVW5pdC5EQVlfVElNRT9ZaShlLHQscik6SGkoZSx0LHIpfSxTaS5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9WWksU2kucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9SGksU2kucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUuZ2V0Q2hpbGRBdCgwKSxpPWUuc3RyaWRlLG89LTEsYT10Kmk7KytvPGk7KW4uc2V0KGErbyxyLmdldChvKSl9LFNpLnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUuZ2V0Q2hpbGRBdCgwKSxpPWUudmFsdWVPZmZzZXRzLG89ciBpbnN0YW5jZW9mIE1hcD9naS5fX3NwcmVhZChyKTpPYmplY3QuZW50cmllcyhyKSxhPS0xLHU9aVt0XSxzPWlbdCsxXTt1PHM7KW4uc2V0KHUrKyxvWysrYV0pfSxmaS5pbnN0YW5jZT1uZXcgU2k7dmFyIEdpPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShHaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksR2kuaW5zdGFuY2U9R2kuR2V0QnVpbGRlckN0b3I9dm9pZCAwO3ZhciBKaT1ILmV4cG9ydHMsWmk9eW4sS2k9cXQsWGk9aXIscWk9Y3IsUWk9ZHIsJGk9dnIsZW89em4sdG89Z3Iscm89c24sbm89UHIsaW89d24sb289Sm4sYW89dHIsdW89UW4sc289ZW4sY289SnIsbG89bmksZm89cG4scG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEppLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbigpe3JldHVybiBhby5OdWxsQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKCl7cmV0dXJuIEtpLkJvb2xCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbigpe3JldHVybiBuby5JbnRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludDg9ZnVuY3Rpb24oKXtyZXR1cm4gbm8uSW50OEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50MTY9ZnVuY3Rpb24oKXtyZXR1cm4gbm8uSW50MTZCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIG5vLkludDMyQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRJbnQ2ND1mdW5jdGlvbigpe3JldHVybiBuby5JbnQ2NEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VWludDg9ZnVuY3Rpb24oKXtyZXR1cm4gbm8uVWludDhCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFVpbnQxNj1mdW5jdGlvbigpe3JldHVybiBuby5VaW50MTZCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFVpbnQzMj1mdW5jdGlvbigpe3JldHVybiBuby5VaW50MzJCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFVpbnQ2ND1mdW5jdGlvbigpe3JldHVybiBuby5VaW50NjRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKCl7cmV0dXJuIHRvLkZsb2F0QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PWZ1bmN0aW9uKCl7cmV0dXJuIHRvLkZsb2F0MTZCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0MzI9ZnVuY3Rpb24oKXtyZXR1cm4gdG8uRmxvYXQzMkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1mdW5jdGlvbigpe3JldHVybiB0by5GbG9hdDY0QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKCl7cmV0dXJuIGZvLlV0ZjhCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbigpe3JldHVybiBaaS5CaW5hcnlCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbigpe3JldHVybiAkaS5GaXhlZFNpemVCaW5hcnlCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gWGkuRGF0ZUJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RGF0ZURheT1mdW5jdGlvbigpe3JldHVybiBYaS5EYXRlRGF5QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gWGkuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gc28uVGltZXN0YW1wQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc28uVGltZXN0YW1wU2Vjb25kQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZD1mdW5jdGlvbigpe3JldHVybiBzby5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc28uVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc28uVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbigpe3JldHVybiBjby5UaW1lQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGNvLlRpbWVTZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZD1mdW5jdGlvbigpe3JldHVybiBjby5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBjby5UaW1lTWljcm9zZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGNvLlRpbWVOYW5vc2Vjb25kQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHFpLkRlY2ltYWxCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaW8uTGlzdEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHVvLlN0cnVjdEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gbG8uVW5pb25CdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gbG8uRGVuc2VVbmlvbkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gbG8uU3BhcnNlVW5pb25CdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gUWkuRGljdGlvbmFyeUJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gcm8uSW50ZXJ2YWxCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZT1mdW5jdGlvbigpe3JldHVybiByby5JbnRlcnZhbERheVRpbWVCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHJvLkludGVydmFsWWVhck1vbnRoQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGVvLkZpeGVkU2l6ZUxpc3RCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbigpe3JldHVybiBvby5NYXBCdWlsZGVyfSx0fShkaS5WaXNpdG9yKTtHaS5HZXRCdWlsZGVyQ3Rvcj1wbyxHaS5pbnN0YW5jZT1uZXcgcG8sZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuRGVuc2VVbmlvbkJ1aWxkZXI9ZS5TcGFyc2VVbmlvbkJ1aWxkZXI9ZS5VbmlvbkJ1aWxkZXI9ZS5TdHJ1Y3RCdWlsZGVyPWUuTWFwQnVpbGRlcj1lLkZpeGVkU2l6ZUxpc3RCdWlsZGVyPWUuTGlzdEJ1aWxkZXI9ZS5CaW5hcnlCdWlsZGVyPWUuVXRmOEJ1aWxkZXI9ZS5JbnRlcnZhbFllYXJNb250aEJ1aWxkZXI9ZS5JbnRlcnZhbERheVRpbWVCdWlsZGVyPWUuSW50ZXJ2YWxCdWlsZGVyPWUuVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wQnVpbGRlcj1lLlRpbWVOYW5vc2Vjb25kQnVpbGRlcj1lLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXI9ZS5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyPWUuVGltZVNlY29uZEJ1aWxkZXI9ZS5UaW1lQnVpbGRlcj1lLlVpbnQ2NEJ1aWxkZXI9ZS5VaW50MzJCdWlsZGVyPWUuVWludDE2QnVpbGRlcj1lLlVpbnQ4QnVpbGRlcj1lLkludDY0QnVpbGRlcj1lLkludDMyQnVpbGRlcj1lLkludDE2QnVpbGRlcj1lLkludDhCdWlsZGVyPWUuSW50QnVpbGRlcj1lLkZsb2F0NjRCdWlsZGVyPWUuRmxvYXQzMkJ1aWxkZXI9ZS5GbG9hdDE2QnVpbGRlcj1lLkZsb2F0QnVpbGRlcj1lLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXI9ZS5EaWN0aW9uYXJ5QnVpbGRlcj1lLkRlY2ltYWxCdWlsZGVyPWUuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcj1lLkRhdGVEYXlCdWlsZGVyPWUuRGF0ZUJ1aWxkZXI9ZS5OdWxsQnVpbGRlcj1lLkJvb2xCdWlsZGVyPWUuQnVpbGRlcj12b2lkIDA7dmFyIHQ9SC5leHBvcnRzLHI9dmU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLkJ1aWxkZXJ9fSk7dmFyIG49cXQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2xCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5Cb29sQnVpbGRlcn19KTt2YXIgaT10cjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLk51bGxCdWlsZGVyfX0pO3ZhciBvPWlyO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uRGF0ZUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVEYXlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5EYXRlRGF5QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcn19KTt2YXIgYT1jcjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkRlY2ltYWxCdWlsZGVyfX0pO3ZhciB1PWRyO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWN0aW9uYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuRGljdGlvbmFyeUJ1aWxkZXJ9fSk7dmFyIHM9dnI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXJ9fSk7dmFyIGM9Z3I7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuRmxvYXRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuRmxvYXQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5GbG9hdDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLkZsb2F0NjRCdWlsZGVyfX0pO3ZhciBsPVByO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5JbnRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ4QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuSW50OEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuSW50MTZCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLkludDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50NjRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5JbnQ2NEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuVWludDhCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5VaW50MTZCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5VaW50MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5VaW50NjRCdWlsZGVyfX0pO3ZhciBmPUpyO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lU2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZU1pbGxpc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lTmFub3NlY29uZEJ1aWxkZXJ9fSk7dmFyIGQ9ZW47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcFNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyfX0pO3ZhciBwPXNuO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkludGVydmFsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuSW50ZXJ2YWxEYXlUaW1lQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC5JbnRlcnZhbFllYXJNb250aEJ1aWxkZXJ9fSk7dmFyIHk9cG47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlV0ZjhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5VdGY4QnVpbGRlcn19KTt2YXIgaD15bjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmluYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguQmluYXJ5QnVpbGRlcn19KTt2YXIgYj13bjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiLkxpc3RCdWlsZGVyfX0pO3ZhciB2PXpuO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVMaXN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuRml4ZWRTaXplTGlzdEJ1aWxkZXJ9fSk7dmFyIF89Sm47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1hcEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfLk1hcEJ1aWxkZXJ9fSk7dmFyIG09UW47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN0cnVjdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLlN0cnVjdEJ1aWxkZXJ9fSk7dmFyIGc9bmk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLlNwYXJzZVVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLkRlbnNlVW5pb25CdWlsZGVyfX0pO3ZhciBCPWdlLFQ9cG4sST1maSx3PUdpO3ZlLkJ1aWxkZXIubmV3PWZ1bmN0aW9uIGUocil7dmFyIG49ci50eXBlLGk9bmV3KHcuaW5zdGFuY2UuZ2V0VmlzaXRGbihuKSgpKShyKTtpZihuLmNoaWxkcmVuJiZuLmNoaWxkcmVuLmxlbmd0aD4wKXt2YXIgbz1yLmNoaWxkcmVufHxbXSxhPXtudWxsVmFsdWVzOnIubnVsbFZhbHVlc30sdT1BcnJheS5pc0FycmF5KG8pP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIG9bdF18fGF9OmZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZTtyZXR1cm4gb1t0XXx8YX07bi5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihyLG4pe3ZhciBvPXIudHlwZSxhPXUocixuKTtpLmNoaWxkcmVuLnB1c2goZSh0Ll9fYXNzaWduKHQuX19hc3NpZ24oe30sYSkse3R5cGU6b30pKSl9KSl9cmV0dXJuIGl9LE9iamVjdC5rZXlzKEIuVHlwZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gQi5UeXBlW2VdfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZlIT09Qi5UeXBlLk5PTkV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dy5pbnN0YW5jZS52aXNpdChlKS5wcm90b3R5cGUuX3NldFZhbHVlPUkuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKX0pKSxULlV0ZjhCdWlsZGVyLnByb3RvdHlwZS5fc2V0VmFsdWU9SS5pbnN0YW5jZS52aXNpdEJpbmFyeX0oYmUpO3ZhciB5bz17fSxobz17fSxibz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYm8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGJvLkJsb2NrPWJvLkZvb3Rlcj12b2lkIDA7dmFyIHZvPVosX289QmUsbW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0Zvb3Rlcj1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0Zvb3Rlcj1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSt2by5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS52ZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpfby5NZXRhZGF0YVZlcnNpb24uVjF9LGUucHJvdG90eXBlLnNjaGVtYT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiB0PyhlfHxuZXcgX28uU2NoZW1hKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK3QpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmRpY3Rpb25hcmllcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIHI/KHR8fG5ldyBnbykuX19pbml0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrMjQqZSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5kaWN0aW9uYXJpZXNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLnJlY29yZEJhdGNoZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gcj8odHx8bmV3IGdvKS5fX2luaXQodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSsyNCplLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLnJlY29yZEJhdGNoZXNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5jdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiByPyh0fHxuZXcgX28uS2V5VmFsdWUpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSs0KmUpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5zdGFydEZvb3Rlcj1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDUpfSxlLmFkZFZlcnNpb249ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LF9vLk1ldGFkYXRhVmVyc2lvbi5WMSl9LGUuYWRkU2NoZW1hPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgxLHQsMCl9LGUuYWRkRGljdGlvbmFyaWVzPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgyLHQsMCl9LGUuc3RhcnREaWN0aW9uYXJpZXNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDI0LHQsOCl9LGUuYWRkUmVjb3JkQmF0Y2hlcz1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMyx0LDApfSxlLnN0YXJ0UmVjb3JkQmF0Y2hlc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoMjQsdCw4KX0sZS5hZGRDdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoNCx0LDApfSxlLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkT2Zmc2V0KHRbcl0pO3JldHVybiBlLmVuZFZlY3RvcigpfSxlLnN0YXJ0Q3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5lbmRGb290ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuZmluaXNoRm9vdGVyQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZS5maW5pc2godCl9LGUuZmluaXNoU2l6ZVByZWZpeGVkRm9vdGVyQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZS5maW5pc2godCx2b2lkIDAsITApfSxlLmNyZWF0ZUZvb3Rlcj1mdW5jdGlvbih0LHIsbixpLG8sYSl7cmV0dXJuIGUuc3RhcnRGb290ZXIodCksZS5hZGRWZXJzaW9uKHQsciksZS5hZGRTY2hlbWEodCxuKSxlLmFkZERpY3Rpb25hcmllcyh0LGkpLGUuYWRkUmVjb3JkQmF0Y2hlcyh0LG8pLGUuYWRkQ3VzdG9tTWV0YWRhdGEodCxhKSxlLmVuZEZvb3Rlcih0KX0sZX0oKTtiby5Gb290ZXI9bW87dmFyIGdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zKX0sZS5wcm90b3R5cGUubWV0YURhdGFMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrOCl9LGUucHJvdG90eXBlLmJvZHlMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrMTYpfSxlLmNyZWF0ZUJsb2NrPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBlLnByZXAoOCwyNCksZS53cml0ZUludDY0KG4pLGUucGFkKDQpLGUud3JpdGVJbnQzMihyKSxlLndyaXRlSW50NjQodCksZS5vZmZzZXQoKX0sZX0oKTtiby5CbG9jaz1nbyxPYmplY3QuZGVmaW5lUHJvcGVydHkoaG8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGhvLkZpbGVCbG9jaz1oby5Gb290ZXI9dm9pZCAwO3ZhciBCbz1ILmV4cG9ydHMsVG89Ym8sSW89Wix3bz1Jby5mbGF0YnVmZmVycy5Mb25nLE9vPUlvLmZsYXRidWZmZXJzLkJ1aWxkZXIsU289SW8uZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcixBbz1EbixEbz1nZSxWbz1HLFBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuKXt2b2lkIDA9PT10JiYodD1Eby5NZXRhZGF0YVZlcnNpb24uVjQpLHRoaXMuc2NoZW1hPWUsdGhpcy52ZXJzaW9uPXQsciYmKHRoaXMuX3JlY29yZEJhdGNoZXM9ciksbiYmKHRoaXMuX2RpY3Rpb25hcnlCYXRjaGVzPW4pfXJldHVybiBlLmRlY29kZT1mdW5jdGlvbihlKXtlPW5ldyBTbyhWby50b1VpbnQ4QXJyYXkoZSkpO3ZhciB0PVRvLkZvb3Rlci5nZXRSb290QXNGb290ZXIoZSkscj1Bby5TY2hlbWEuZGVjb2RlKHQuc2NoZW1hKCkpO3JldHVybiBuZXcgTW8ocix0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE9vLHI9QW8uU2NoZW1hLmVuY29kZSh0LGUuc2NoZW1hKTtUby5Gb290ZXIuc3RhcnRSZWNvcmRCYXRjaGVzVmVjdG9yKHQsZS5udW1SZWNvcmRCYXRjaGVzKSxCby5fX3NwcmVhZChlLnJlY29yZEJhdGNoZXMoKSkuc2xpY2UoKS5yZXZlcnNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIEZvLmVuY29kZSh0LGUpfSkpO3ZhciBuPXQuZW5kVmVjdG9yKCk7VG8uRm9vdGVyLnN0YXJ0RGljdGlvbmFyaWVzVmVjdG9yKHQsZS5udW1EaWN0aW9uYXJpZXMpLEJvLl9fc3ByZWFkKGUuZGljdGlvbmFyeUJhdGNoZXMoKSkuc2xpY2UoKS5yZXZlcnNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIEZvLmVuY29kZSh0LGUpfSkpO3ZhciBpPXQuZW5kVmVjdG9yKCk7cmV0dXJuIFRvLkZvb3Rlci5zdGFydEZvb3Rlcih0KSxUby5Gb290ZXIuYWRkU2NoZW1hKHQsciksVG8uRm9vdGVyLmFkZFZlcnNpb24odCxEby5NZXRhZGF0YVZlcnNpb24uVjQpLFRvLkZvb3Rlci5hZGRSZWNvcmRCYXRjaGVzKHQsbiksVG8uRm9vdGVyLmFkZERpY3Rpb25hcmllcyh0LGkpLFRvLkZvb3Rlci5maW5pc2hGb290ZXJCdWZmZXIodCxUby5Gb290ZXIuZW5kRm9vdGVyKHQpKSx0LmFzVWludDhBcnJheSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bVJlY29yZEJhdGNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjb3JkQmF0Y2hlcy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1EaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGljdGlvbmFyeUJhdGNoZXMubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlY29yZEJhdGNoZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7cmV0dXJuIEJvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6ZT12b2lkIDAsdD0tMSxyPXRoaXMubnVtUmVjb3JkQmF0Y2hlcyxuLmxhYmVsPTE7Y2FzZSAxOnJldHVybisrdDxyPyhlPXRoaXMuZ2V0UmVjb3JkQmF0Y2godCkpP1s0LGVdOlszLDNdOlszLDRdO2Nhc2UgMjpuLnNlbnQoKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVyblszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSkpfSxlLnByb3RvdHlwZS5kaWN0aW9uYXJ5QmF0Y2hlcz1mdW5jdGlvbigpe3ZhciBlLHQscjtyZXR1cm4gQm8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDplPXZvaWQgMCx0PS0xLHI9dGhpcy5udW1EaWN0aW9uYXJpZXMsbi5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4rK3Q8cj8oZT10aGlzLmdldERpY3Rpb25hcnlCYXRjaCh0KSk/WzQsZV06WzMsM106WzMsNF07Y2FzZSAyOm4uc2VudCgpLG4ubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KSl9LGUucHJvdG90eXBlLmdldFJlY29yZEJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPj0wJiZlPHRoaXMubnVtUmVjb3JkQmF0Y2hlcyYmdGhpcy5fcmVjb3JkQmF0Y2hlc1tlXXx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0RGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPj0wJiZlPHRoaXMubnVtRGljdGlvbmFyaWVzJiZ0aGlzLl9kaWN0aW9uYXJ5QmF0Y2hlc1tlXXx8bnVsbH0sZX0oKTtoby5Gb290ZXI9UG87dmFyIE1vPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyx0LHIudmVyc2lvbigpKXx8dGhpcztyZXR1cm4gbi5fZm9vdGVyPXIsbn1yZXR1cm4gQm8uX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1SZWNvcmRCYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlci5yZWNvcmRCYXRjaGVzTGVuZ3RoKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1EaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyLmRpY3Rpb25hcmllc0xlbmd0aCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFJlY29yZEJhdGNoPWZ1bmN0aW9uKGUpe2lmKGU+PTAmJmU8dGhpcy5udW1SZWNvcmRCYXRjaGVzKXt2YXIgdD10aGlzLl9mb290ZXIucmVjb3JkQmF0Y2hlcyhlKTtpZih0KXJldHVybiBGby5kZWNvZGUodCl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldERpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbihlKXtpZihlPj0wJiZlPHRoaXMubnVtRGljdGlvbmFyaWVzKXt2YXIgdD10aGlzLl9mb290ZXIuZGljdGlvbmFyaWVzKGUpO2lmKHQpcmV0dXJuIEZvLmRlY29kZSh0KX1yZXR1cm4gbnVsbH0sdH0oUG8pLEZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5tZXRhRGF0YUxlbmd0aD1lLHRoaXMub2Zmc2V0PSJudW1iZXIiPT10eXBlb2Ygcj9yOnIubG93LHRoaXMuYm9keUxlbmd0aD0ibnVtYmVyIj09dHlwZW9mIHQ/dDp0Lmxvd31yZXR1cm4gZS5kZWNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQubWV0YURhdGFMZW5ndGgoKSx0LmJvZHlMZW5ndGgoKSx0Lm9mZnNldCgpKX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1ldGFEYXRhTGVuZ3RoLG49bmV3IHdvKHQub2Zmc2V0LDApLGk9bmV3IHdvKHQuYm9keUxlbmd0aCwwKTtyZXR1cm4gVG8uQmxvY2suY3JlYXRlQmxvY2soZSxuLHIsaSl9LGV9KCk7aG8uRmlsZUJsb2NrPUZvO3ZhciBVbz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVW8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFVvLkFzeW5jQnl0ZVN0cmVhbT1Vby5CeXRlU3RyZWFtPVVvLkFzeW5jQnl0ZVF1ZXVlPXZvaWQgMDt2YXIgam89SC5leHBvcnRzLHhvPVksTG89SyxSbz0kLE5vPUcsRW89USxDbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gam8uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYoKHQ9Tm8udG9VaW50OEFycmF5KHQpKS5ieXRlTGVuZ3RoPjApcmV0dXJuIGUucHJvdG90eXBlLndyaXRlLmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxlP0xvLmRlY29kZVV0ZjgodGhpcy50b1VpbnQ4QXJyYXkoITApKTp0aGlzLnRvVWludDhBcnJheSghMSkudGhlbihMby5kZWNvZGVVdGY4KX0sdC5wcm90b3R5cGUudG9VaW50OEFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxlP05vLmpvaW5VaW50OEFycmF5cyh0aGlzLl92YWx1ZXMpWzBdOmpvLl9fYXdhaXRlcih0LHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxyLG4saSxvLGEsdTtyZXR1cm4gam8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDplPVtdLHQ9MCxzLmxhYmVsPTE7Y2FzZSAxOnMudHJ5cy5wdXNoKFsxLDYsNywxMl0pLHI9am8uX19hc3luY1ZhbHVlcyh0aGlzKSxzLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHIubmV4dCgpXTtjYXNlIDM6aWYoKG49cy5zZW50KCkpLmRvbmUpcmV0dXJuWzMsNV07aT1uLnZhbHVlLGUucHVzaChpKSx0Kz1pLmJ5dGVMZW5ndGgscy5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMywyXTtjYXNlIDU6cmV0dXJuWzMsMTJdO2Nhc2UgNjpyZXR1cm4gbz1zLnNlbnQoKSxhPXtlcnJvcjpvfSxbMywxMl07Y2FzZSA3OnJldHVybiBzLnRyeXMucHVzaChbNywsMTAsMTFdKSxuJiYhbi5kb25lJiYodT1yLnJldHVybik/WzQsdS5jYWxsKHIpXTpbMyw5XTtjYXNlIDg6cy5zZW50KCkscy5sYWJlbD05O2Nhc2UgOTpyZXR1cm5bMywxMV07Y2FzZSAxMDppZihhKXRocm93IGEuZXJyb3I7cmV0dXJuWzddO2Nhc2UgMTE6cmV0dXJuWzddO2Nhc2UgMTI6cmV0dXJuWzIsTm8uam9pblVpbnQ4QXJyYXlzKGUsdClbMF1dfX0pKX0pKX0sdH0oUm8uQXN5bmNRdWV1ZSk7VW8uQXN5bmNCeXRlUXVldWU9Q287dmFyIHpvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtlJiYodGhpcy5zb3VyY2U9bmV3IFdvKHhvLmRlZmF1bHQuZnJvbUl0ZXJhYmxlKGUpKSl9cmV0dXJuIGUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UubmV4dChlKX0sZS5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnRocm93KGUpfSxlLnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnJldHVybihlKX0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucGVlayhlKX0sZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucmVhZChlKX0sZX0oKTtVby5CeXRlU3RyZWFtPXpvO3ZhciBrbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dCBpbnN0YW5jZW9mIGU/dGhpcy5zb3VyY2U9dC5zb3VyY2U6dCBpbnN0YW5jZW9mIENvP3RoaXMuc291cmNlPW5ldyBZbyh4by5kZWZhdWx0LmZyb21Bc3luY0l0ZXJhYmxlKHQpKTpFby5pc1JlYWRhYmxlTm9kZVN0cmVhbSh0KT90aGlzLnNvdXJjZT1uZXcgWW8oeG8uZGVmYXVsdC5mcm9tTm9kZVN0cmVhbSh0KSk6RW8uaXNSZWFkYWJsZURPTVN0cmVhbSh0KT90aGlzLnNvdXJjZT1uZXcgWW8oeG8uZGVmYXVsdC5mcm9tRE9NU3RyZWFtKHQpKTpFby5pc0ZldGNoUmVzcG9uc2UodCk/dGhpcy5zb3VyY2U9bmV3IFlvKHhvLmRlZmF1bHQuZnJvbURPTVN0cmVhbSh0LmJvZHkpKTpFby5pc0l0ZXJhYmxlKHQpP3RoaXMuc291cmNlPW5ldyBZbyh4by5kZWZhdWx0LmZyb21JdGVyYWJsZSh0KSk6KEVvLmlzUHJvbWlzZSh0KXx8RW8uaXNBc3luY0l0ZXJhYmxlKHQpKSYmKHRoaXMuc291cmNlPW5ldyBZbyh4by5kZWZhdWx0LmZyb21Bc3luY0l0ZXJhYmxlKHQpKSl9cmV0dXJuIGUucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5uZXh0KGUpfSxlLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UudGhyb3coZSl9LGUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucmV0dXJuKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNsb3NlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS5jbG9zZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5jYW5jZWwoZSl9LGUucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnBlZWsoZSl9LGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnJlYWQoZSl9LGV9KCk7VW8uQXN5bmNCeXRlU3RyZWFtPWtvO3ZhciBXbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5zb3VyY2U9ZX1yZXR1cm4gZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGUpe3RoaXMucmV0dXJuKGUpfSxlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoZSwicGVlayIpLnZhbHVlfSxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoZSwicmVhZCIpLnZhbHVlfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSJyZWFkIiksdGhpcy5zb3VyY2UubmV4dCh7Y21kOnQsc2l6ZTplfSl9LGUucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuY3JlYXRlKHRoaXMuc291cmNlLnRocm93JiZ0aGlzLnNvdXJjZS50aHJvdyhlKXx8Um8uSVRFUkFUT1JfRE9ORSl9LGUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzLnNvdXJjZS5yZXR1cm4mJnRoaXMuc291cmNlLnJldHVybihlKXx8Um8uSVRFUkFUT1JfRE9ORSl9LGV9KCksWW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5zb3VyY2U9ZSx0aGlzLl9jbG9zZWRQcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fY2xvc2VkUHJvbWlzZVJlc29sdmU9ZX0pKX1yZXR1cm4gZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiBqby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucmV0dXJuKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2xvc2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3NlZFByb21pc2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gam8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gam8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoZSwicmVhZCIpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pKX0pKX0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbihlKXtyZXR1cm4gam8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gam8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoZSwicGVlayIpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pKX0pKX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0icmVhZCIpLGpvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGpvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zb3VyY2UubmV4dCh7Y21kOnQsc2l6ZTplfSldO2Nhc2UgMTpyZXR1cm5bMixyLnNlbnQoKV19fSkpfSkpfSxlLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gam8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybihyPXRoaXMuc291cmNlLnRocm93KT9bNCx0aGlzLnNvdXJjZS50aHJvdyhlKV06WzMsMl07Y2FzZSAxOnI9bi5zZW50KCksbi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdD1yfHxSby5JVEVSQVRPUl9ET05FLHRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlJiZ0aGlzLl9jbG9zZWRQcm9taXNlUmVzb2x2ZSgpLHRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlPXZvaWQgMCxbMixPYmplY3QuY3JlYXRlKHQpXX19KSl9KSl9LGUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gam8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybihyPXRoaXMuc291cmNlLnJldHVybik/WzQsdGhpcy5zb3VyY2UucmV0dXJuKGUpXTpbMywyXTtjYXNlIDE6cj1uLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0PXJ8fFJvLklURVJBVE9SX0RPTkUsdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUmJnRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKCksdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmU9dm9pZCAwLFsyLE9iamVjdC5jcmVhdGUodCldfX0pKX0pKX0sZX0oKSxIbz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSG8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEhvLkFzeW5jUmFuZG9tQWNjZXNzRmlsZT1Iby5SYW5kb21BY2Nlc3NGaWxlPXZvaWQgMDt2YXIgR289SC5leHBvcnRzLEpvPVVvLFpvPUcsS289ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5wb3NpdGlvbj0wLG4uYnVmZmVyPVpvLnRvVWludDhBcnJheSh0KSxuLnNpemU9dm9pZCAwPT09cj9uLmJ1ZmZlci5ieXRlTGVuZ3RoOnIsbn1yZXR1cm4gR28uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVhZEludDMyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVhZEF0KGUsNCkscj10LmJ1ZmZlcixuPXQuYnl0ZU9mZnNldDtyZXR1cm4gbmV3IERhdGFWaWV3KHIsbikuZ2V0SW50MzIoMCwhMCl9LHQucHJvdG90eXBlLnNlZWs9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucG9zaXRpb249TWF0aC5taW4oZSx0aGlzLnNpemUpLGU8dGhpcy5zaXplfSx0LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmJ1ZmZlcixuPXQuc2l6ZSxpPXQucG9zaXRpb247cmV0dXJuIHImJmk8bj8oIm51bWJlciIhPXR5cGVvZiBlJiYoZT0xLzApLHRoaXMucG9zaXRpb249TWF0aC5taW4obixpK01hdGgubWluKG4taSxlKSksci5zdWJhcnJheShpLHRoaXMucG9zaXRpb24pKTpudWxsfSx0LnByb3RvdHlwZS5yZWFkQXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJ1ZmZlcixuPU1hdGgubWluKHRoaXMuc2l6ZSxlK3QpO3JldHVybiByP3Iuc3ViYXJyYXkoZSxuKTpuZXcgVWludDhBcnJheSh0KX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlciYmKHRoaXMuYnVmZmVyPW51bGwpfSx0LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zZSgpLHtkb25lOiEwLHZhbHVlOmV9fSx0LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc2UoKSx7ZG9uZTohMCx2YWx1ZTplfX0sdH0oSm8uQnl0ZVN0cmVhbSk7SG8uUmFuZG9tQWNjZXNzRmlsZT1Lbzt2YXIgWG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5wb3NpdGlvbj0wLG4uX2hhbmRsZT10LCJudW1iZXIiPT10eXBlb2Ygcj9uLnNpemU9cjpuLl9wZW5kaW5nPUdvLl9fYXdhaXRlcihuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9dGhpcyxbNCx0LnN0YXQoKV07Y2FzZSAxOnJldHVybiBlLnNpemU9ci5zZW50KCkuc2l6ZSxkZWxldGUgdGhpcy5fcGVuZGluZyxbMl19fSkpfSkpLG59cmV0dXJuIEdvLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlYWRJbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gR28uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG47cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5yZWFkQXQoZSw0KV07Y2FzZSAxOnJldHVybiB0PWkuc2VudCgpLHI9dC5idWZmZXIsbj10LmJ5dGVPZmZzZXQsWzIsbmV3IERhdGFWaWV3KHIsbikuZ2V0SW50MzIoMCwhMCldfX0pKX0pKX0sdC5wcm90b3R5cGUuc2Vlaz1mdW5jdGlvbihlKXtyZXR1cm4gR28uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fcGVuZGluZz9bNCx0aGlzLl9wZW5kaW5nXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdGhpcy5wb3NpdGlvbj1NYXRoLm1pbihlLHRoaXMuc2l6ZSksWzIsZTx0aGlzLnNpemVdfX0pKX0pKX0sdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gR28uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4saSxvLGEsdSxzLGM7cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3BlbmRpbmc/WzQsdGhpcy5fcGVuZGluZ106WzMsMl07Y2FzZSAxOmwuc2VudCgpLGwubGFiZWw9MjtjYXNlIDI6aWYocj0odD10aGlzKS5faGFuZGxlLG49dC5zaXplLGk9dC5wb3NpdGlvbiwhKHImJmk8bikpcmV0dXJuWzMsNl07Im51bWJlciIhPXR5cGVvZiBlJiYoZT0xLzApLG89aSxhPTAsdT0wLHM9TWF0aC5taW4obixvK01hdGgubWluKG4tbyxlKSksYz1uZXcgVWludDhBcnJheShNYXRoLm1heCgwLCh0aGlzLnBvc2l0aW9uPXMpLW8pKSxsLmxhYmVsPTM7Y2FzZSAzOnJldHVybihvKz11KTxzJiYoYSs9dSk8Yy5ieXRlTGVuZ3RoP1s0LHIucmVhZChjLGEsYy5ieXRlTGVuZ3RoLWEsbyldOlszLDVdO2Nhc2UgNDpyZXR1cm4gdT1sLnNlbnQoKS5ieXRlc1JlYWQsWzMsM107Y2FzZSA1OnJldHVyblsyLGNdO2Nhc2UgNjpyZXR1cm5bMixudWxsXX19KSl9KSl9LHQucHJvdG90eXBlLnJlYWRBdD1mdW5jdGlvbihlLHQpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG4saSxvLGE7cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3BlbmRpbmc/WzQsdGhpcy5fcGVuZGluZ106WzMsMl07Y2FzZSAxOnUuc2VudCgpLHUubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG49KHI9dGhpcykuX2hhbmRsZSxpPXIuc2l6ZSxuJiZlK3Q8aT8obz1NYXRoLm1pbihpLGUrdCksYT1uZXcgVWludDhBcnJheShvLWUpLFs0LG4ucmVhZChhLDAsdCxlKV0pOlszLDRdO2Nhc2UgMzpyZXR1cm5bMix1LnNlbnQoKS5idWZmZXJdO2Nhc2UgNDpyZXR1cm5bMixuZXcgVWludDhBcnJheSh0KV19fSkpfSkpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBHby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuX2hhbmRsZSx0aGlzLl9oYW5kbGU9bnVsbCxlP1s0LGUuY2xvc2UoKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIEdvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5jbG9zZSgpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyLHtkb25lOiEwLHZhbHVlOmV9XX19KSl9KSl9LHQucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gR28uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmNsb3NlKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIse2RvbmU6ITAsdmFsdWU6ZX1dfX0pKX0pKX0sdH0oSm8uQXN5bmNCeXRlU3RyZWFtKTtIby5Bc3luY1JhbmRvbUFjY2Vzc0ZpbGU9WG87dmFyIHFvPXt9LFFvPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRbywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksUW8uSW50MTI4PVFvLkludDY0PVFvLlVpbnQ2ND1Rby5CYXNlSW50NjQ9dm9pZCAwO3ZhciAkbz1ILmV4cG9ydHM7ZnVuY3Rpb24gZWEoZSl7cmV0dXJuIGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLCIweCIrZS50b1N0cmluZygxNil9dmFyIHRhPVsxLDEwLDEwMCwxZTMsMWU0LDFlNSwxZTYsMWU3LDFlOF0scmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuYnVmZmVyPWV9cmV0dXJuIGUucHJvdG90eXBlLmhpZ2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJbMV19LGUucHJvdG90eXBlLmxvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlclswXX0sZS5wcm90b3R5cGUuX3RpbWVzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50MzJBcnJheShbdGhpcy5idWZmZXJbMV0+Pj4xNiw2NTUzNSZ0aGlzLmJ1ZmZlclsxXSx0aGlzLmJ1ZmZlclswXT4+PjE2LDY1NTM1JnRoaXMuYnVmZmVyWzBdXSkscj1uZXcgVWludDMyQXJyYXkoW2UuYnVmZmVyWzFdPj4+MTYsNjU1MzUmZS5idWZmZXJbMV0sZS5idWZmZXJbMF0+Pj4xNiw2NTUzNSZlLmJ1ZmZlclswXV0pLG49dFszXSpyWzNdO3RoaXMuYnVmZmVyWzBdPTY1NTM1Jm47dmFyIGk9bj4+PjE2O3JldHVybiBpKz1uPXRbMl0qclszXSxpKz1uPXRbM10qclsyXT4+PjAsdGhpcy5idWZmZXJbMF0rPWk8PDE2LHRoaXMuYnVmZmVyWzFdPWk+Pj4wPG4/NjU1MzY6MCx0aGlzLmJ1ZmZlclsxXSs9aT4+PjE2LHRoaXMuYnVmZmVyWzFdKz10WzFdKnJbM10rdFsyXSpyWzJdK3RbM10qclsxXSx0aGlzLmJ1ZmZlclsxXSs9dFswXSpyWzNdK3RbMV0qclsyXSt0WzJdKnJbMV0rdFszXSpyWzBdPDwxNix0aGlzfSxlLnByb3RvdHlwZS5fcGx1cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJ1ZmZlclswXStlLmJ1ZmZlclswXT4+PjA7dGhpcy5idWZmZXJbMV0rPWUuYnVmZmVyWzFdLHQ8dGhpcy5idWZmZXJbMF0+Pj4wJiYrK3RoaXMuYnVmZmVyWzFdLHRoaXMuYnVmZmVyWzBdPXR9LGUucHJvdG90eXBlLmxlc3NUaGFuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ1ZmZlclsxXTxlLmJ1ZmZlclsxXXx8dGhpcy5idWZmZXJbMV09PT1lLmJ1ZmZlclsxXSYmdGhpcy5idWZmZXJbMF08ZS5idWZmZXJbMF19LGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5idWZmZXJbMV09PT1lLmJ1ZmZlclsxXSYmdGhpcy5idWZmZXJbMF09PWUuYnVmZmVyWzBdfSxlLnByb3RvdHlwZS5ncmVhdGVyVGhhbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5sZXNzVGhhbih0aGlzKX0sZS5wcm90b3R5cGUuaGV4PWZ1bmN0aW9uKCl7cmV0dXJuIGVhKHRoaXMuYnVmZmVyWzFdKSsiICIrZWEodGhpcy5idWZmZXJbMF0pfSxlfSgpO1FvLkJhc2VJbnQ2ND1yYTt2YXIgbmE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuICRvLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnRpbWVzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl90aW1lcyhlKSx0aGlzfSx0LnByb3RvdHlwZS5wbHVzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wbHVzKGUpLHRoaXN9LHQuZnJvbT1mdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoMikpLHQuZnJvbVN0cmluZygic3RyaW5nIj09dHlwZW9mIGU/ZTplLnRvU3RyaW5nKCkscil9LHQuZnJvbU51bWJlcj1mdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoMikpLHQuZnJvbVN0cmluZyhlLnRvU3RyaW5nKCkscil9LHQuZnJvbVN0cmluZz1mdW5jdGlvbihlLHIpe3ZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSk7Zm9yKHZhciBuPWUubGVuZ3RoLGk9bmV3IHQociksbz0wO288bjspe3ZhciBhPTg8bi1vPzg6bi1vLHU9bmV3IHQobmV3IFVpbnQzMkFycmF5KFtwYXJzZUludChlLnN1YnN0cihvLGEpLDEwKSwwXSkpLHM9bmV3IHQobmV3IFVpbnQzMkFycmF5KFt0YVthXSwwXSkpO2kudGltZXMocyksaS5wbHVzKHUpLG8rPWF9cmV0dXJuIGl9LHQuY29udmVydEFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1uZXcgVWludDMyQXJyYXkoMiplLmxlbmd0aCksbj0tMSxpPWUubGVuZ3RoOysrbjxpOyl0LmZyb20oZVtuXSxuZXcgVWludDMyQXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0KzIqbio0LDIpKTtyZXR1cm4gcn0sdC5tdWx0aXBseT1mdW5jdGlvbihlLHIpe3JldHVybiBuZXcgdChuZXcgVWludDMyQXJyYXkoZS5idWZmZXIpKS50aW1lcyhyKX0sdC5hZGQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQobmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyKSkucGx1cyhyKX0sdH0ocmEpO1FvLlVpbnQ2ND1uYTt2YXIgaWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuICRvLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlclswXT0xK350aGlzLmJ1ZmZlclswXSx0aGlzLmJ1ZmZlclsxXT1+dGhpcy5idWZmZXJbMV0sMD09dGhpcy5idWZmZXJbMF0mJisrdGhpcy5idWZmZXJbMV0sdGhpc30sdC5wcm90b3R5cGUudGltZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RpbWVzKGUpLHRoaXN9LHQucHJvdG90eXBlLnBsdXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BsdXMoZSksdGhpc30sdC5wcm90b3R5cGUubGVzc1RoYW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5idWZmZXJbMV08PDAscj1lLmJ1ZmZlclsxXTw8MDtyZXR1cm4gdDxyfHx0PT09ciYmdGhpcy5idWZmZXJbMF08ZS5idWZmZXJbMF19LHQuZnJvbT1mdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoMikpLHQuZnJvbVN0cmluZygic3RyaW5nIj09dHlwZW9mIGU/ZTplLnRvU3RyaW5nKCkscil9LHQuZnJvbU51bWJlcj1mdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoMikpLHQuZnJvbVN0cmluZyhlLnRvU3RyaW5nKCkscil9LHQuZnJvbVN0cmluZz1mdW5jdGlvbihlLHIpe3ZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSk7Zm9yKHZhciBuPWUuc3RhcnRzV2l0aCgiLSIpLGk9ZS5sZW5ndGgsbz1uZXcgdChyKSxhPW4/MTowO2E8aTspe3ZhciB1PTg8aS1hPzg6aS1hLHM9bmV3IHQobmV3IFVpbnQzMkFycmF5KFtwYXJzZUludChlLnN1YnN0cihhLHUpLDEwKSwwXSkpLGM9bmV3IHQobmV3IFVpbnQzMkFycmF5KFt0YVt1XSwwXSkpO28udGltZXMoYyksby5wbHVzKHMpLGErPXV9cmV0dXJuIG4/by5uZWdhdGUoKTpvfSx0LmNvbnZlcnRBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHI9bmV3IFVpbnQzMkFycmF5KDIqZS5sZW5ndGgpLG49LTEsaT1lLmxlbmd0aDsrK248aTspdC5mcm9tKGVbbl0sbmV3IFVpbnQzMkFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCsyKm4qNCwyKSk7cmV0dXJuIHJ9LHQubXVsdGlwbHk9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQobmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyKSkudGltZXMocil9LHQuYWRkPWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyB0KG5ldyBVaW50MzJBcnJheShlLmJ1ZmZlcikpLnBsdXMocil9LHR9KHJhKTtRby5JbnQ2ND1pYTt2YXIgb2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuYnVmZmVyPWV9cmV0dXJuIGUucHJvdG90eXBlLmhpZ2g9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGlhKG5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCs4LDIpKX0sZS5wcm90b3R5cGUubG93PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpYShuZXcgVWludDMyQXJyYXkodGhpcy5idWZmZXIuYnVmZmVyLHRoaXMuYnVmZmVyLmJ5dGVPZmZzZXQsMikpfSxlLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJbMF09MSt+dGhpcy5idWZmZXJbMF0sdGhpcy5idWZmZXJbMV09fnRoaXMuYnVmZmVyWzFdLHRoaXMuYnVmZmVyWzJdPX50aGlzLmJ1ZmZlclsyXSx0aGlzLmJ1ZmZlclszXT1+dGhpcy5idWZmZXJbM10sMD09dGhpcy5idWZmZXJbMF0mJisrdGhpcy5idWZmZXJbMV0sMD09dGhpcy5idWZmZXJbMV0mJisrdGhpcy5idWZmZXJbMl0sMD09dGhpcy5idWZmZXJbMl0mJisrdGhpcy5idWZmZXJbM10sdGhpc30sZS5wcm90b3R5cGUudGltZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbdGhpcy5idWZmZXJbM10sMF0pKSxyPW5ldyBuYShuZXcgVWludDMyQXJyYXkoW3RoaXMuYnVmZmVyWzJdLDBdKSksbj1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFt0aGlzLmJ1ZmZlclsxXSwwXSkpLGk9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbdGhpcy5idWZmZXJbMF0sMF0pKSxvPW5ldyBuYShuZXcgVWludDMyQXJyYXkoW2UuYnVmZmVyWzNdLDBdKSksYT1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFtlLmJ1ZmZlclsyXSwwXSkpLHU9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbZS5idWZmZXJbMV0sMF0pKSxzPW5ldyBuYShuZXcgVWludDMyQXJyYXkoW2UuYnVmZmVyWzBdLDBdKSksYz1uYS5tdWx0aXBseShpLHMpO3RoaXMuYnVmZmVyWzBdPWMubG93KCk7dmFyIGw9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbYy5oaWdoKCksMF0pKTtyZXR1cm4gYz1uYS5tdWx0aXBseShuLHMpLGwucGx1cyhjKSxjPW5hLm11bHRpcGx5KGksdSksbC5wbHVzKGMpLHRoaXMuYnVmZmVyWzFdPWwubG93KCksdGhpcy5idWZmZXJbM109bC5sZXNzVGhhbihjKT8xOjAsdGhpcy5idWZmZXJbMl09bC5oaWdoKCksbmV3IG5hKG5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCs4LDIpKS5wbHVzKG5hLm11bHRpcGx5KHIscykpLnBsdXMobmEubXVsdGlwbHkobix1KSkucGx1cyhuYS5tdWx0aXBseShpLGEpKSx0aGlzLmJ1ZmZlclszXSs9bmEubXVsdGlwbHkodCxzKS5wbHVzKG5hLm11bHRpcGx5KHIsdSkpLnBsdXMobmEubXVsdGlwbHkobixhKSkucGx1cyhuYS5tdWx0aXBseShpLG8pKS5sb3coKSx0aGlzfSxlLnByb3RvdHlwZS5wbHVzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50MzJBcnJheSg0KTtyZXR1cm4gdFszXT10aGlzLmJ1ZmZlclszXStlLmJ1ZmZlclszXT4+PjAsdFsyXT10aGlzLmJ1ZmZlclsyXStlLmJ1ZmZlclsyXT4+PjAsdFsxXT10aGlzLmJ1ZmZlclsxXStlLmJ1ZmZlclsxXT4+PjAsdFswXT10aGlzLmJ1ZmZlclswXStlLmJ1ZmZlclswXT4+PjAsdFswXTx0aGlzLmJ1ZmZlclswXT4+PjAmJisrdFsxXSx0WzFdPHRoaXMuYnVmZmVyWzFdPj4+MCYmKyt0WzJdLHRbMl08dGhpcy5idWZmZXJbMl0+Pj4wJiYrK3RbM10sdGhpcy5idWZmZXJbM109dFszXSx0aGlzLmJ1ZmZlclsyXT10WzJdLHRoaXMuYnVmZmVyWzFdPXRbMV0sdGhpcy5idWZmZXJbMF09dFswXSx0aGlzfSxlLnByb3RvdHlwZS5oZXg9ZnVuY3Rpb24oKXtyZXR1cm4gZWEodGhpcy5idWZmZXJbM10pKyIgIitlYSh0aGlzLmJ1ZmZlclsyXSkrIiAiK2VhKHRoaXMuYnVmZmVyWzFdKSsiICIrZWEodGhpcy5idWZmZXJbMF0pfSxlLm11bHRpcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlKG5ldyBVaW50MzJBcnJheSh0LmJ1ZmZlcikpLnRpbWVzKHIpfSxlLmFkZD1mdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZShuZXcgVWludDMyQXJyYXkodC5idWZmZXIpKS5wbHVzKHIpfSxlLmZyb209ZnVuY3Rpb24odCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9bmV3IFVpbnQzMkFycmF5KDQpKSxlLmZyb21TdHJpbmcoInN0cmluZyI9PXR5cGVvZiB0P3Q6dC50b1N0cmluZygpLHIpfSxlLmZyb21OdW1iZXI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9bmV3IFVpbnQzMkFycmF5KDQpKSxlLmZyb21TdHJpbmcodC50b1N0cmluZygpLHIpfSxlLmZyb21TdHJpbmc9ZnVuY3Rpb24odCxyKXt2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoNCkpO2Zvcih2YXIgbj10LnN0YXJ0c1dpdGgoIi0iKSxpPXQubGVuZ3RoLG89bmV3IGUociksYT1uPzE6MDthPGk7KXt2YXIgdT04PGktYT84OmktYSxzPW5ldyBlKG5ldyBVaW50MzJBcnJheShbcGFyc2VJbnQodC5zdWJzdHIoYSx1KSwxMCksMCwwLDBdKSksYz1uZXcgZShuZXcgVWludDMyQXJyYXkoW3RhW3VdLDAsMCwwXSkpO28udGltZXMoYyksby5wbHVzKHMpLGErPXV9cmV0dXJuIG4/by5uZWdhdGUoKTpvfSxlLmNvbnZlcnRBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIHI9bmV3IFVpbnQzMkFycmF5KDQqdC5sZW5ndGgpLG49LTEsaT10Lmxlbmd0aDsrK248aTspZS5mcm9tKHRbbl0sbmV3IFVpbnQzMkFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCsxNipuLDQpKTtyZXR1cm4gcn0sZX0oKTtRby5JbnQxMjg9b2EsT2JqZWN0LmRlZmluZVByb3BlcnR5KHFvLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxxby5KU09OVmVjdG9yTG9hZGVyPXFvLlZlY3RvckxvYWRlcj12b2lkIDA7dmFyIGFhPUguZXhwb3J0cyx1YT1JZSxzYT1EbixjYT1GZSxsYT13ZSxmYT1LLGRhPVFvLHBhPWdlLHlhPUcsaGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbixpKXt2YXIgbz1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8ubm9kZXNJbmRleD0tMSxvLmJ1ZmZlcnNJbmRleD0tMSxvLmJ5dGVzPXQsby5ub2Rlcz1yLG8uYnVmZmVycz1uLG8uZGljdGlvbmFyaWVzPWksb31yZXR1cm4gYWEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUucHJvdG90eXBlLnZpc2l0LmNhbGwodGhpcyx0IGluc3RhbmNlb2Ygc2EuRmllbGQ/dC50eXBlOnQpfSx0LnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj0odm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0KS5sZW5ndGg7cmV0dXJuIHVhLkRhdGEuTnVsbChlLDAscil9LHQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuQm9vbChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLkludChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRGbG9hdD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuRmxvYXQoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0VXRmOD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuVXRmOChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWRPZmZzZXRzKGUpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuQmluYXJ5KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZE9mZnNldHMoZSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5GaXhlZFNpemVCaW5hcnkoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuRGF0ZShlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLlRpbWVzdGFtcChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5UaW1lKGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLkRlY2ltYWwoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuTGlzdChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWRPZmZzZXRzKGUpLHRoaXMudmlzaXQoZS5jaGlsZHJlblswXSkpfSx0LnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuU3RydWN0KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMudmlzaXRNYW55KGUuY2hpbGRyZW4pKX0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5tb2RlPT09cGEuVW5pb25Nb2RlLlNwYXJzZT90aGlzLnZpc2l0U3BhcnNlVW5pb24oZSk6dGhpcy52aXNpdERlbnNlVW5pb24oZSl9LHQucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuVW5pb24oZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkVHlwZUlkcyhlKSx0aGlzLnJlYWRPZmZzZXRzKGUpLHRoaXMudmlzaXRNYW55KGUuY2hpbGRyZW4pKX0sdC5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuVW5pb24oZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkVHlwZUlkcyhlKSx0aGlzLnZpc2l0TWFueShlLmNoaWxkcmVuKSl9LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuRGljdGlvbmFyeShlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUuaW5kaWNlcyksdGhpcy5yZWFkRGljdGlvbmFyeShlKSl9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLkludGVydmFsKGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLkZpeGVkU2l6ZUxpc3QoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy52aXNpdChlLmNoaWxkcmVuWzBdKSl9LHQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5NYXAoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkT2Zmc2V0cyhlKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0pKX0sdC5wcm90b3R5cGUubmV4dEZpZWxkTm9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzWysrdGhpcy5ub2Rlc0luZGV4XX0sdC5wcm90b3R5cGUubmV4dEJ1ZmZlclJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyc1srK3RoaXMuYnVmZmVyc0luZGV4XX0sdC5wcm90b3R5cGUucmVhZE51bGxCaXRtYXA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj10aGlzLm5leHRCdWZmZXJSYW5nZSgpKSx0PjAmJnRoaXMucmVhZERhdGEoZSxyKXx8bmV3IFVpbnQ4QXJyYXkoMCl9LHQucHJvdG90eXBlLnJlYWRPZmZzZXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucmVhZERhdGEoZSx0KX0sdC5wcm90b3R5cGUucmVhZFR5cGVJZHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWFkRGF0YShlLHQpfSx0LnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0QnVmZmVyUmFuZ2UoKTp0LG49ci5sZW5ndGgsaT1yLm9mZnNldDtyZXR1cm4gdGhpcy5ieXRlcy5zdWJhcnJheShpLGkrbil9LHQucHJvdG90eXBlLnJlYWREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpY3Rpb25hcmllcy5nZXQoZS5pZCl9LHR9KGRpLlZpc2l0b3IpO3FvLlZlY3RvckxvYWRlcj1oYTt2YXIgYmE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbixpKXt2YXIgbz1lLmNhbGwodGhpcyxuZXcgVWludDhBcnJheSgwKSxyLG4saSl8fHRoaXM7cmV0dXJuIG8uc291cmNlcz10LG99cmV0dXJuIGFhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlYWROdWxsQml0bWFwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0odm9pZCAwPT09cj90aGlzLm5leHRCdWZmZXJSYW5nZSgpOnIpLm9mZnNldDtyZXR1cm4gdDw9MD9uZXcgVWludDhBcnJheSgwKTpsYS5wYWNrQm9vbHModGhpcy5zb3VyY2VzW25dKX0sdC5wcm90b3R5cGUucmVhZE9mZnNldHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0odm9pZCAwPT09dD90aGlzLm5leHRCdWZmZXJSYW5nZSgpOnQpLm9mZnNldDtyZXR1cm4geWEudG9BcnJheUJ1ZmZlclZpZXcoVWludDhBcnJheSx5YS50b0FycmF5QnVmZmVyVmlldyhJbnQzMkFycmF5LHRoaXMuc291cmNlc1tyXSkpfSx0LnByb3RvdHlwZS5yZWFkVHlwZUlkcz1mdW5jdGlvbihlLHQpe3ZhciByPSh2b2lkIDA9PT10P3RoaXMubmV4dEJ1ZmZlclJhbmdlKCk6dCkub2Zmc2V0O3JldHVybiB5YS50b0FycmF5QnVmZmVyVmlldyhVaW50OEFycmF5LHlhLnRvQXJyYXlCdWZmZXJWaWV3KGUuQXJyYXlUeXBlLHRoaXMuc291cmNlc1tyXSkpfSx0LnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPSh2b2lkIDA9PT10P3RoaXMubmV4dEJ1ZmZlclJhbmdlKCk6dCkub2Zmc2V0LG49dGhpcy5zb3VyY2VzO3JldHVybiBjYS5EYXRhVHlwZS5pc1RpbWVzdGFtcChlKXx8KGNhLkRhdGFUeXBlLmlzSW50KGUpfHxjYS5EYXRhVHlwZS5pc1RpbWUoZSkpJiY2ND09PWUuYml0V2lkdGh8fGNhLkRhdGFUeXBlLmlzRGF0ZShlKSYmZS51bml0PT09cGEuRGF0ZVVuaXQuTUlMTElTRUNPTkQ/eWEudG9BcnJheUJ1ZmZlclZpZXcoVWludDhBcnJheSxkYS5JbnQ2NC5jb252ZXJ0QXJyYXkobltyXSkpOmNhLkRhdGFUeXBlLmlzRGVjaW1hbChlKT95YS50b0FycmF5QnVmZmVyVmlldyhVaW50OEFycmF5LGRhLkludDEyOC5jb252ZXJ0QXJyYXkobltyXSkpOmNhLkRhdGFUeXBlLmlzQmluYXJ5KGUpfHxjYS5EYXRhVHlwZS5pc0ZpeGVkU2l6ZUJpbmFyeShlKT9mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5qb2luKCIiKSxyPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoLzIpLG49MDtuPHQubGVuZ3RoO24rPTIpcltuPj4xXT1wYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KTtyZXR1cm4gcn0obltyXSk6Y2EuRGF0YVR5cGUuaXNCb29sKGUpP2xhLnBhY2tCb29scyhuW3JdKTpjYS5EYXRhVHlwZS5pc1V0ZjgoZSk/ZmEuZW5jb2RlVXRmOChuW3JdLmpvaW4oIiIpKTp5YS50b0FycmF5QnVmZmVyVmlldyhVaW50OEFycmF5LHlhLnRvQXJyYXlCdWZmZXJWaWV3KGUuQXJyYXlUeXBlLG5bcl0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4rZX0pKSkpfSx0fShoYSk7cW8uSlNPTlZlY3RvckxvYWRlcj1iYTt2YXIgdmE9e30sX2E9e30sbWE9e30sZ2E9e30sQmE9e30sVGE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxUYS5TdHJ1Y3RSb3c9VGEuTWFwUm93PXZvaWQgMDt2YXIgSWE9SC5leHBvcnRzLHdhPUR0LE9hPVN5bWJvbC5mb3IoInBhcmVudCIpLFNhPVN5bWJvbC5mb3IoInJvd0luZGV4IiksQWE9U3ltYm9sLmZvcigia2V5VG9JZHgiKSxEYT1TeW1ib2wuZm9yKCJpZHhUb1ZhbCIpLFZhPVN5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIiksUGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpc1tPYV09ZSx0aGlzLnNpemU9dH12YXIgdCxyO3JldHVybiBlLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpfSxlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZ2V0KGUpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO2lmKG51bGwhPWUpe3ZhciByPXRoaXNbQWFdfHwodGhpc1tBYV09bmV3IE1hcCksbj1yLmdldChlKTtpZih2b2lkIDAhPT1uKXZvaWQgMCE9PSh0PShpPXRoaXNbRGFdfHwodGhpc1tEYV09bmV3IEFycmF5KHRoaXMuc2l6ZSkpKVtuXSl8fChpW25dPXQ9dGhpcy5nZXRWYWx1ZShuKSk7ZWxzZSBpZigobj10aGlzLmdldEluZGV4KGUpKT4tMSl7dmFyIGk7ci5zZXQoZSxuKSx2b2lkIDAhPT0odD0oaT10aGlzW0RhXXx8KHRoaXNbRGFdPW5ldyBBcnJheSh0aGlzLnNpemUpKSlbbl0pfHwoaVtuXT10PXRoaXMuZ2V0VmFsdWUobikpfX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7dmFyIHI9dGhpc1tBYV18fCh0aGlzW0FhXT1uZXcgTWFwKSxuPXIuZ2V0KGUpO2lmKHZvaWQgMD09PW4mJnIuc2V0KGUsbj10aGlzLmdldEluZGV4KGUpKSxuPi0xKSh0aGlzW0RhXXx8KHRoaXNbRGFdPW5ldyBBcnJheSh0aGlzLnNpemUpKSlbbl09dGhpcy5zZXRWYWx1ZShuLHQpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQ2xlYXJpbmcgIit0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ10rIiBub3Qgc3VwcG9ydGVkLiIpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJEZWxldGluZyAiK3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSsiIHZhbHVlcyBub3Qgc3VwcG9ydGVkLiIpfSxlLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG4saSxvLGEsdSxzO3JldHVybiBJYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOmU9dGhpcy5rZXlzKCksdD10aGlzLnZhbHVlcygpLHI9dGhpc1tBYV18fCh0aGlzW0FhXT1uZXcgTWFwKSxuPXRoaXNbRGFdfHwodGhpc1tEYV09bmV3IEFycmF5KHRoaXMuc2l6ZSkpLGk9dm9pZCAwLG89dm9pZCAwLGE9MCx1PXZvaWQgMCxzPXZvaWQgMCxjLmxhYmVsPTE7Y2FzZSAxOnJldHVybih1PWUubmV4dCgpKS5kb25lfHwocz10Lm5leHQoKSkuZG9uZT9bMyw0XTooaT11LnZhbHVlLG89cy52YWx1ZSxuW2FdPW8sci5oYXMoaSl8fHIuc2V0KGksYSksWzQsW2ksb11dKTtjYXNlIDI6Yy5zZW50KCksYy5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4rK2EsWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KSl9LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5rZXlzKCksbj10aGlzLnZhbHVlcygpLGk9dm9pZCAwPT09dD9lOmZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfSxvPXRoaXNbQWFdfHwodGhpc1tBYV09bmV3IE1hcCksYT10aGlzW0RhXXx8KHRoaXNbRGFdPW5ldyBBcnJheSh0aGlzLnNpemUpKSx1PXZvaWQgMCxzPXZvaWQgMCxjPTAsbD12b2lkIDAsZj12b2lkIDA7IShsPXIubmV4dCgpKS5kb25lJiYhKGY9bi5uZXh0KCkpLmRvbmU7KytjKXU9bC52YWx1ZSxzPWYudmFsdWUsYVtjXT1zLG8uaGFzKHUpfHxvLnNldCh1LGMpLGkocyx1LHRoaXMpfSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIElhLl9fc3ByZWFkKHRoaXMudmFsdWVzKCkpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3JldHVybiBlW3JdPXR9KSksZX0sZS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9LGUucHJvdG90eXBlW1ZhXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtyPXdhLnZhbHVlVG9TdHJpbmcociksdD13YS52YWx1ZVRvU3RyaW5nKHQpLGUucHVzaChyKyI6ICIrdCl9KSksInsgIitlLmpvaW4oIiwgIikrIiB9In0sZVtTeW1ib2wudG9TdHJpbmdUYWddPSh0PWUucHJvdG90eXBlLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsKChyPXtzaXplOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSx2YWx1ZTowfX0pW09hXT17d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITEsdmFsdWU6bnVsbH0scltTYV09e3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHZhbHVlOi0xfSxyKSksdFtTeW1ib2wudG9TdHJpbmdUYWddPSJSb3ciKSxlfSgpLE1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCx0Lmxlbmd0aCl8fHRoaXM7cmV0dXJuIHhhKHIpfXJldHVybiBJYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbT2FdLmdldENoaWxkQXQoMClbU3ltYm9sLml0ZXJhdG9yXSgpfSx0LnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPYV0uZ2V0Q2hpbGRBdCgxKVtTeW1ib2wuaXRlcmF0b3JdKCl9LHQucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tPYV0uZ2V0Q2hpbGRBdCgwKS5nZXQoZSl9LHQucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KDApLmluZGV4T2YoZSl9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KDEpLmdldChlKX0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt0aGlzW09hXS5nZXRDaGlsZEF0KDEpLnNldChlLHQpfSx0fShQYSk7VGEuTWFwUm93PU1hO3ZhciBGYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQsdC50eXBlLmNoaWxkcmVuLmxlbmd0aCl8fHRoaXM7cmV0dXJuIGphKHIpfXJldHVybiBJYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG4saTtyZXR1cm4gSWEuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpvLnRyeXMucHVzaChbMCw1LDYsN10pLGU9SWEuX192YWx1ZXModGhpc1tPYV0udHlwZS5jaGlsZHJlbiksdD1lLm5leHQoKSxvLmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LmRvbmU/WzMsNF06WzQsdC52YWx1ZS5uYW1lXTtjYXNlIDI6by5zZW50KCksby5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gdD1lLm5leHQoKSxbMywxXTtjYXNlIDQ6cmV0dXJuWzMsN107Y2FzZSA1OnJldHVybiByPW8uc2VudCgpLG49e2Vycm9yOnJ9LFszLDddO2Nhc2UgNjp0cnl7dCYmIXQuZG9uZSYmKGk9ZS5yZXR1cm4pJiZpLmNhbGwoZSl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9cmV0dXJuWzddO2Nhc2UgNzpyZXR1cm5bMl19fSkpfSx0LnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpO3JldHVybiBJYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm8udHJ5cy5wdXNoKFswLDUsNiw3XSksZT1JYS5fX3ZhbHVlcyh0aGlzW09hXS50eXBlLmNoaWxkcmVuKSx0PWUubmV4dCgpLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQuZG9uZT9bMyw0XTpbNCx0aGlzW3QudmFsdWUubmFtZV1dO2Nhc2UgMjpvLnNlbnQoKSxvLmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0PWUubmV4dCgpLFszLDFdO2Nhc2UgNDpyZXR1cm5bMyw3XTtjYXNlIDU6cmV0dXJuIHI9by5zZW50KCksbj17ZXJyb3I6cn0sWzMsN107Y2FzZSA2OnRyeXt0JiYhdC5kb25lJiYoaT1lLnJldHVybikmJmkuY2FsbChlKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn1yZXR1cm5bN107Y2FzZSA3OnJldHVyblsyXX19KSl9LHQucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tPYV0udHlwZS5jaGlsZHJlbltlXS5uYW1lfSx0LnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tPYV0udHlwZS5jaGlsZHJlbi5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpfSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tPYV0uZ2V0Q2hpbGRBdChlKS5nZXQodGhpc1tTYV0pfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KGUpLnNldCh0aGlzW1NhXSx0KX0sdH0oUGEpO1RhLlN0cnVjdFJvdz1GYSxPYmplY3Quc2V0UHJvdG90eXBlT2YoUGEucHJvdG90eXBlLE1hcC5wcm90b3R5cGUpO3ZhciBVYSxqYT0oVWE9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExLGdldDpudWxsLHNldDpudWxsfSxmdW5jdGlvbihlKXt2YXIgdCxyLG49LTEsaT1lW0FhXXx8KGVbQWFdPW5ldyBNYXApLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KGUpfX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0KGUsdCl9fTt0cnl7Zm9yKHZhciB1PUlhLl9fdmFsdWVzKGUua2V5cygpKSxzPXUubmV4dCgpOyFzLmRvbmU7cz11Lm5leHQoKSl7dmFyIGM9cy52YWx1ZTtpLnNldChjLCsrbiksVWEuZ2V0PW8oYyksVWEuc2V0PWEoYyksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYyl8fChVYS5lbnVtZXJhYmxlPSEwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGMsVWEpKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8KFVhLmVudW1lcmFibGU9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixVYSkpfX1jYXRjaChsKXt0PXtlcnJvcjpsfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYocj11LnJldHVybikmJnIuY2FsbCh1KX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIFVhLmdldD1VYS5zZXQ9bnVsbCxlfSkseGE9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFByb3h5KXJldHVybiBqYTt2YXIgZT1QYS5wcm90b3R5cGUuaGFzLHQ9UGEucHJvdG90eXBlLmdldCxyPVBhLnByb3RvdHlwZS5zZXQsbj1QYS5wcm90b3R5cGUuZ2V0S2V5LGk9e2lzRXh0ZW5zaWJsZTpmdW5jdGlvbigpe3JldHVybiExfSxkZWxldGVQcm9wZXJ0eTpmdW5jdGlvbigpe3JldHVybiExfSxwcmV2ZW50RXh0ZW5zaW9uczpmdW5jdGlvbigpe3JldHVybiEwfSxvd25LZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBJYS5fX3NwcmVhZChlLmtleXMoKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIitlfSkpfSxoYXM6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSJnZXRLZXkiOmNhc2UiZ2V0SW5kZXgiOmNhc2UiZ2V0VmFsdWUiOmNhc2Uic2V0VmFsdWUiOmNhc2UidG9BcnJheSI6Y2FzZSJ0b0pTT04iOmNhc2UiaW5zcGVjdCI6Y2FzZSJjb25zdHJ1Y3RvciI6Y2FzZSJpc1Byb3RvdHlwZU9mIjpjYXNlInByb3BlcnR5SXNFbnVtZXJhYmxlIjpjYXNlInRvU3RyaW5nIjpjYXNlInRvTG9jYWxlU3RyaW5nIjpjYXNlInZhbHVlT2YiOmNhc2Uic2l6ZSI6Y2FzZSJoYXMiOmNhc2UiZ2V0IjpjYXNlInNldCI6Y2FzZSJjbGVhciI6Y2FzZSJkZWxldGUiOmNhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOmNhc2UiZW50cmllcyI6Y2FzZSJmb3JFYWNoIjpjYXNlIl9fcHJvdG9fXyI6Y2FzZSJfX2RlZmluZUdldHRlcl9fIjpjYXNlIl9fZGVmaW5lU2V0dGVyX18iOmNhc2UiaGFzT3duUHJvcGVydHkiOmNhc2UiX19sb29rdXBHZXR0ZXJfXyI6Y2FzZSJfX2xvb2t1cFNldHRlcl9fIjpjYXNlIFN5bWJvbC5pdGVyYXRvcjpjYXNlIFN5bWJvbC50b1N0cmluZ1RhZzpjYXNlIE9hOmNhc2UgU2E6Y2FzZSBEYTpjYXNlIEFhOmNhc2UgVmE6cmV0dXJuITB9cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0fHxlLmhhcyh0KXx8KHQ9ZS5nZXRLZXkodCkpLGUuaGFzKHQpfSxnZXQ6ZnVuY3Rpb24ocixpLG8pe3N3aXRjaChpKXtjYXNlImdldEtleSI6Y2FzZSJnZXRJbmRleCI6Y2FzZSJnZXRWYWx1ZSI6Y2FzZSJzZXRWYWx1ZSI6Y2FzZSJ0b0FycmF5IjpjYXNlInRvSlNPTiI6Y2FzZSJpbnNwZWN0IjpjYXNlImNvbnN0cnVjdG9yIjpjYXNlImlzUHJvdG90eXBlT2YiOmNhc2UicHJvcGVydHlJc0VudW1lcmFibGUiOmNhc2UidG9TdHJpbmciOmNhc2UidG9Mb2NhbGVTdHJpbmciOmNhc2UidmFsdWVPZiI6Y2FzZSJzaXplIjpjYXNlImhhcyI6Y2FzZSJnZXQiOmNhc2Uic2V0IjpjYXNlImNsZWFyIjpjYXNlImRlbGV0ZSI6Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6Y2FzZSJlbnRyaWVzIjpjYXNlImZvckVhY2giOmNhc2UiX19wcm90b19fIjpjYXNlIl9fZGVmaW5lR2V0dGVyX18iOmNhc2UiX19kZWZpbmVTZXR0ZXJfXyI6Y2FzZSJoYXNPd25Qcm9wZXJ0eSI6Y2FzZSJfX2xvb2t1cEdldHRlcl9fIjpjYXNlIl9fbG9va3VwU2V0dGVyX18iOmNhc2UgU3ltYm9sLml0ZXJhdG9yOmNhc2UgU3ltYm9sLnRvU3RyaW5nVGFnOmNhc2UgT2E6Y2FzZSBTYTpjYXNlIERhOmNhc2UgQWE6Y2FzZSBWYTpyZXR1cm4gUmVmbGVjdC5nZXQocixpLG8pfXJldHVybiJudW1iZXIiIT10eXBlb2YgaXx8ZS5jYWxsKG8saSl8fChpPW4uY2FsbChvLGkpKSx0LmNhbGwobyxpKX0sc2V0OmZ1bmN0aW9uKHQsaSxvLGEpe3N3aXRjaChpKXtjYXNlIE9hOmNhc2UgU2E6Y2FzZSBEYTpjYXNlIEFhOnJldHVybiBSZWZsZWN0LnNldCh0LGksbyxhKTtjYXNlImdldEtleSI6Y2FzZSJnZXRJbmRleCI6Y2FzZSJnZXRWYWx1ZSI6Y2FzZSJzZXRWYWx1ZSI6Y2FzZSJ0b0FycmF5IjpjYXNlInRvSlNPTiI6Y2FzZSJpbnNwZWN0IjpjYXNlImNvbnN0cnVjdG9yIjpjYXNlImlzUHJvdG90eXBlT2YiOmNhc2UicHJvcGVydHlJc0VudW1lcmFibGUiOmNhc2UidG9TdHJpbmciOmNhc2UidG9Mb2NhbGVTdHJpbmciOmNhc2UidmFsdWVPZiI6Y2FzZSJzaXplIjpjYXNlImhhcyI6Y2FzZSJnZXQiOmNhc2Uic2V0IjpjYXNlImNsZWFyIjpjYXNlImRlbGV0ZSI6Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6Y2FzZSJlbnRyaWVzIjpjYXNlImZvckVhY2giOmNhc2UiX19wcm90b19fIjpjYXNlIl9fZGVmaW5lR2V0dGVyX18iOmNhc2UiX19kZWZpbmVTZXR0ZXJfXyI6Y2FzZSJoYXNPd25Qcm9wZXJ0eSI6Y2FzZSJfX2xvb2t1cEdldHRlcl9fIjpjYXNlIl9fbG9va3VwU2V0dGVyX18iOmNhc2UgU3ltYm9sLml0ZXJhdG9yOmNhc2UgU3ltYm9sLnRvU3RyaW5nVGFnOnJldHVybiExfXJldHVybiJudW1iZXIiIT10eXBlb2YgaXx8ZS5jYWxsKGEsaSl8fChpPW4uY2FsbChhLGkpKSwhIWUuY2FsbChhLGkpJiYhIXIuY2FsbChhLGksbyl9fTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm94eShlLGkpfX0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQmEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEJhLmNyZWF0ZUVsZW1lbnRDb21wYXJhdG9yPUJhLmNsYW1wUmFuZ2U9QmEuY2xhbXBJbmRleD12b2lkIDA7dmFyIExhLFJhPV9lLE5hPVRhLEVhPUcsQ2E9UTtCYS5jbGFtcEluZGV4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmxlbmd0aCxpPXQ+LTE/dDpuK3QlbjtyZXR1cm4gcj9yKGUsaSk6aX0sQmEuY2xhbXBSYW5nZT1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1lLmxlbmd0aCxvPXZvaWQgMD09PWk/MDppLGE9Im51bWJlciIhPXR5cGVvZiB0PzA6dCx1PSJudW1iZXIiIT10eXBlb2Ygcj9vOnI7cmV0dXJuIGE8MCYmKGE9KGElbytvKSVvKSx1PDAmJih1PSh1JW8rbyklbyksdTxhJiYoTGE9YSxhPXUsdT1MYSksdT5vJiYodT1vKSxuP24oZSxhLHUpOlthLHVdfTt2YXIgemE9Q2EuQmlnSW50QXZhaWxhYmxlP0NhLkJpZ0ludCgwKTowLGthPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiBXYShlKXt2YXIgdCxyLG49dHlwZW9mIGU7aWYoIm9iamVjdCIhPT1ufHxudWxsPT09ZSlyZXR1cm4ga2EoZSk/a2E6ImJpZ2ludCIhPT1uP2Z1bmN0aW9uKHQpe3JldHVybiB0PT09ZX06ZnVuY3Rpb24odCl7cmV0dXJuIHphK3Q9PT1lfTtpZihlIGluc3RhbmNlb2YgRGF0ZSl7dmFyIGk9ZS52YWx1ZU9mKCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRGF0ZSYmZS52YWx1ZU9mKCk9PT1pfX1yZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGUpP2Z1bmN0aW9uKHQpe3JldHVybiEhdCYmRWEuY29tcGFyZUFycmF5TGlrZShlLHQpfTplIGluc3RhbmNlb2YgTWFwPyh0PS0xLHI9W10sZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gclsrK3RdPVdhKGUpfSkpLFlhKHIpKTpBcnJheS5pc0FycmF5KGUpP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPS0xLG49ZS5sZW5ndGg7KytyPG47KXRbcl09V2EoZVtyXSk7cmV0dXJuIFlhKHQpfShlKTplIGluc3RhbmNlb2YgUmEuVmVjdG9yP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPS0xLG49ZS5sZW5ndGg7KytyPG47KXRbcl09V2EoZS5nZXQocikpO3JldHVybiBZYSh0KX0oZSk6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiExfTtmb3IodmFyIHI9W10sbj0tMSxpPXQubGVuZ3RoOysrbjxpOylyW25dPVdhKGVbdFtuXV0pO3JldHVybiBZYShyLHQpfShlKX1mdW5jdGlvbiBZYShlLHQpe3JldHVybiBmdW5jdGlvbihyKXtpZighcnx8Im9iamVjdCIhPXR5cGVvZiByKXJldHVybiExO3N3aXRjaChyLmNvbnN0cnVjdG9yKXtjYXNlIEFycmF5OnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoO2lmKHQubGVuZ3RoIT09cilyZXR1cm4hMTtmb3IodmFyIG49LTE7KytuPHI7KWlmKCFlW25dKHRbbl0pKXJldHVybiExO3JldHVybiEwfShlLHIpO2Nhc2UgTWFwOmNhc2UgTmEuTWFwUm93OmNhc2UgTmEuU3RydWN0Um93OnJldHVybiBIYShlLHIsci5rZXlzKCkpO2Nhc2UgT2JqZWN0OmNhc2Ugdm9pZCAwOnJldHVybiBIYShlLHIsdHx8T2JqZWN0LmtleXMocikpfXJldHVybiByIGluc3RhbmNlb2YgUmEuVmVjdG9yJiZmdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoO2lmKHQubGVuZ3RoIT09cilyZXR1cm4hMTtmb3IodmFyIG49LTE7KytuPHI7KWlmKCFlW25dKHQuZ2V0KG4pKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSxyKX19ZnVuY3Rpb24gSGEoZSx0LHIpe2Zvcih2YXIgbj1yW1N5bWJvbC5pdGVyYXRvcl0oKSxpPXQgaW5zdGFuY2VvZiBNYXA/dC5rZXlzKCk6T2JqZWN0LmtleXModClbU3ltYm9sLml0ZXJhdG9yXSgpLG89dCBpbnN0YW5jZW9mIE1hcD90LnZhbHVlcygpOk9iamVjdC52YWx1ZXModClbU3ltYm9sLml0ZXJhdG9yXSgpLGE9MCx1PWUubGVuZ3RoLHM9by5uZXh0KCksYz1uLm5leHQoKSxsPWkubmV4dCgpO2E8dSYmIWMuZG9uZSYmIWwuZG9uZSYmIXMuZG9uZSYmKGMudmFsdWU9PT1sLnZhbHVlJiZlW2FdKHMudmFsdWUpKTsrK2EsYz1uLm5leHQoKSxsPWkubmV4dCgpLHM9by5uZXh0KCkpO3JldHVybiEhKGE9PT11JiZjLmRvbmUmJmwuZG9uZSYmcy5kb25lKXx8KG4ucmV0dXJuJiZuLnJldHVybigpLGkucmV0dXJuJiZpLnJldHVybigpLG8ucmV0dXJuJiZvLnJldHVybigpLCExKX1CYS5jcmVhdGVFbGVtZW50Q29tcGFyYXRvcj1XYTt2YXIgR2E9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEdhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxHYS5zZWxlY3RDb2x1bW5DaGlsZHJlbkFyZ3M9R2Euc2VsZWN0VmVjdG9yQ2hpbGRyZW5BcmdzPUdhLnNlbGVjdENodW5rQXJncz1HYS5zZWxlY3RGaWVsZEFyZ3M9R2Euc2VsZWN0Q29sdW1uQXJncz1HYS5zZWxlY3RBcmdzPUdhLmFycmF5VHlwZVRvRGF0YVR5cGU9R2EuaXNUeXBlZEFycmF5PXZvaWQgMDt2YXIgSmE9SC5leHBvcnRzLFphPUllLEthPURuLFhhPW1hLHFhPV9lLFFhPUZlLCRhPWdhLGV1PUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gdHUoZSl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhlKSYmIkJZVEVTX1BFUl9FTEVNRU5UImluIGV9ZnVuY3Rpb24gcnUoZSl7c3dpdGNoKGUpe2Nhc2UgSW50OEFycmF5OnJldHVybiBRYS5JbnQ4O2Nhc2UgSW50MTZBcnJheTpyZXR1cm4gUWEuSW50MTY7Y2FzZSBJbnQzMkFycmF5OnJldHVybiBRYS5JbnQzMjtjYXNlIEJpZ0ludDY0QXJyYXk6cmV0dXJuIFFhLkludDY0O2Nhc2UgVWludDhBcnJheTpyZXR1cm4gUWEuVWludDg7Y2FzZSBVaW50MTZBcnJheTpyZXR1cm4gUWEuVWludDE2O2Nhc2UgVWludDMyQXJyYXk6cmV0dXJuIFFhLlVpbnQzMjtjYXNlIEJpZ1VpbnQ2NEFycmF5OnJldHVybiBRYS5VaW50NjQ7Y2FzZSBGbG9hdDMyQXJyYXk6cmV0dXJuIFFhLkZsb2F0MzI7Y2FzZSBGbG9hdDY0QXJyYXk6cmV0dXJuIFFhLkZsb2F0NjQ7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gbnUoZSx0LHIsbil7Zm9yKHZhciBpLG89bixhPS0xLHU9dC5sZW5ndGg7KythPHU7KWV1KGk9dFthXSk/bz1udShlLGkscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mIGUmJihyW28rK109aSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaXUoZSx0LHIsbil7Zm9yKHZhciBpLG89bixhPS0xLHU9dC5sZW5ndGg7KythPHU7KWV1KGk9dFthXSk/bz1pdShlLGkscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mICRhLkNodW5rZWQ/bz1pdShlLGkuY2h1bmtzLHIsbykubGVuZ3RoOmkgaW5zdGFuY2VvZiBlJiYocltvKytdPWkpO3JldHVybiByfWZ1bmN0aW9uIG91KGUsdCxyLG4pe2Zvcih2YXIgaSxvPW4sYT0tMSx1PXQubGVuZ3RoOysrYTx1OylldShpPXRbYV0pP289b3UoZSxpLHIsbykubGVuZ3RoOmkgaW5zdGFuY2VvZiBlP289bnUocWEuVmVjdG9yLGkuc2NoZW1hLmZpZWxkcy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuZ2V0Q2hpbGRBdCh0KX0pKSxyLG8pLmxlbmd0aDppIGluc3RhbmNlb2YgcWEuVmVjdG9yJiYocltvKytdPWkpO3JldHVybiByfWZ1bmN0aW9uIGF1KGUsdCxyLG4pe2Zvcih2YXIgaSxvPW4sYT0tMSx1PXQubGVuZ3RoOysrYTx1OylldShpPXRbYV0pP289YXUoZSxpLHIsbykubGVuZ3RoOmkgaW5zdGFuY2VvZiBlP289bnUoWGEuQ29sdW1uLGkuc2NoZW1hLmZpZWxkcy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFhhLkNvbHVtbi5uZXcoZSxpLmdldENoaWxkQXQodCkpfSkpLHIsbykubGVuZ3RoOmkgaW5zdGFuY2VvZiBYYS5Db2x1bW4mJihyW28rK109aSk7cmV0dXJuIHJ9R2EuaXNUeXBlZEFycmF5PXR1LEdhLmFycmF5VHlwZVRvRGF0YVR5cGU9cnUsR2Euc2VsZWN0QXJncz1mdW5jdGlvbihlLHQpe3JldHVybiBudShlLHQsW10sMCl9LEdhLnNlbGVjdENvbHVtbkFyZ3M9ZnVuY3Rpb24oZSl7dmFyIHQ9SmEuX19yZWFkKHN1KGUsW1tdLFtdXSksMikscj10WzBdO3JldHVybiB0WzFdLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIFhhLkNvbHVtbj9YYS5Db2x1bW4ubmV3KGUuZmllbGQuY2xvbmUoclt0XSksZSk6ZSBpbnN0YW5jZW9mIHFhLlZlY3Rvcj9YYS5Db2x1bW4ubmV3KHJbdF0sZSk6dHUoZSk/WGEuQ29sdW1uLm5ldyhyW3RdLGZ1bmN0aW9uKGUpe3ZhciB0PXJ1KGUuY29uc3RydWN0b3IpO2lmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoIlVucmVjb2duaXplZCBBcnJheSBpbnB1dCIpO3ZhciByPW5ldyB0LG49WmEuRGF0YS5uZXcociwwLGUubGVuZ3RoLDAsW3ZvaWQgMCxlXSk7cmV0dXJuIHFhLlZlY3Rvci5uZXcobil9KGUpKTpYYS5Db2x1bW4ubmV3KHJbdF0sW10pfSkpfSxHYS5zZWxlY3RGaWVsZEFyZ3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHN1KGUsW1tdLFtdXSl9LEdhLnNlbGVjdENodW5rQXJncz1mdW5jdGlvbihlLHQpe3JldHVybiBpdShlLHQsW10sMCl9LEdhLnNlbGVjdFZlY3RvckNoaWxkcmVuQXJncz1mdW5jdGlvbihlLHQpe3JldHVybiBvdShlLHQsW10sMCl9LEdhLnNlbGVjdENvbHVtbkNoaWxkcmVuQXJncz1mdW5jdGlvbihlLHQpe3JldHVybiBhdShlLHQsW10sMCl9O3ZhciB1dT1mdW5jdGlvbihlLHQscil7dmFyIG49SmEuX19yZWFkKHQsMiksaT1uWzBdLG89blsxXTtyZXR1cm4gZVswXVtyXT1pLGVbMV1bcl09byxlfTtmdW5jdGlvbiBzdShlLHQpe3ZhciByLG4saSxvO3N3aXRjaChvPWUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQ7Y2FzZSAxOmlmKGk9dFswXSwhZVswXSlyZXR1cm4gdDtpZihldShlWzBdKSlyZXR1cm4gc3UoZVswXSx0KTtlWzBdaW5zdGFuY2VvZiBaYS5EYXRhfHxlWzBdaW5zdGFuY2VvZiBxYS5WZWN0b3J8fHR1KGVbMF0pfHxlWzBdaW5zdGFuY2VvZiBRYS5EYXRhVHlwZXx8KGk9KHI9SmEuX19yZWFkKE9iamVjdC5lbnRyaWVzKGVbMF0pLnJlZHVjZSh1dSx0KSwyKSlbMF0sZT1yWzFdKTticmVhaztkZWZhdWx0OmV1KGk9ZVtvLTFdKT9lPWV1KGVbMF0pP2VbMF06ZS5zbGljZSgwLG8tMSk6KGU9ZXUoZVswXSk/ZVswXTplLGk9W10pfWZvcih2YXIgYSx1LHM9LTEsYz0tMSxsPS0xLGY9ZS5sZW5ndGgsZD1KYS5fX3JlYWQodCwyKSxwPWRbMF0seT1kWzFdOysrbDxmOykodT1lW2xdKWluc3RhbmNlb2YgWGEuQ29sdW1uJiYoeVsrK2NdPXUpP3BbKytzXT11LmZpZWxkLmNsb25lKGlbbF0sdS50eXBlLCEwKTooYT12b2lkIDA9PT0obj1pW2xdKT9sOm4sdSBpbnN0YW5jZW9mIFFhLkRhdGFUeXBlJiYoeVsrK2NdPXUpP3BbKytzXT1LYS5GaWVsZC5uZXcoYSx1LCEwKToobnVsbD09dT92b2lkIDA6dS50eXBlKSYmKHlbKytjXT11KSYmKHUgaW5zdGFuY2VvZiBaYS5EYXRhJiYoeVtjXT11PXFhLlZlY3Rvci5uZXcodSkpLHBbKytzXT1LYS5GaWVsZC5uZXcoYSx1LnR5cGUsITApKSk7cmV0dXJuIHR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGdhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxnYS5DaHVua2VkPXZvaWQgMDt2YXIgY3U9SC5leHBvcnRzLGx1PUJhLGZ1PUZlLGR1PUdhLHB1PV9lLHl1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNodW5rcz1lLHRoaXMuY2h1bmtJbmRleD0wLHRoaXMuY2h1bmtJdGVyYXRvcj10aGlzLmdldENodW5rSXRlcmF0b3IoKX1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5jaHVua0luZGV4PHRoaXMuY2h1bmtzLmxlbmd0aDspe3ZhciBlPXRoaXMuY2h1bmtJdGVyYXRvci5uZXh0KCk7aWYoIWUuZG9uZSlyZXR1cm4gZTsrK3RoaXMuY2h1bmtJbmRleDx0aGlzLmNodW5rcy5sZW5ndGgmJih0aGlzLmNodW5rSXRlcmF0b3I9dGhpcy5nZXRDaHVua0l0ZXJhdG9yKCkpfXJldHVybntkb25lOiEwLHZhbHVlOm51bGx9fSxlLnByb3RvdHlwZS5nZXRDaHVua0l0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtJbmRleF1bU3ltYm9sLml0ZXJhdG9yXSgpfSxlLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGV9KCksaHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7dm9pZCAwPT09ciYmKHI9W10pLHZvaWQgMD09PW4mJihuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDMyQXJyYXkoKGV8fFtdKS5sZW5ndGgrMSkscj10WzBdPTAsbj10Lmxlbmd0aCxpPTA7KytpPG47KXRbaV09cis9ZVtpLTFdLmxlbmd0aDtyZXR1cm4gdH0ocikpO3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fbnVsbENvdW50PS0xLGkuX3R5cGU9dCxpLl9jaHVua3M9cixpLl9jaHVua09mZnNldHM9bixpLl9sZW5ndGg9bltuLmxlbmd0aC0xXSxpLl9udW1DaGlsZHJlbj0oaS5fdHlwZS5jaGlsZHJlbnx8W10pLmxlbmd0aCxpfXJldHVybiBjdS5fX2V4dGVuZHModCxlKSx0LmZsYXR0ZW49ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGR1LnNlbGVjdENodW5rQXJncyhwdS5WZWN0b3IsZSl9LHQuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3ZhciBuPXQuZmxhdHRlbi5hcHBseSh0LGN1Ll9fc3ByZWFkKGUpKTtyZXR1cm4gbmV3IHQoblswXS50eXBlLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjaHVua3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2h1bmtzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGUudHlwZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiVmVjdG9yTmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiJDaHVua2VkPCIrdGhpcy5fdHlwZSsiPiJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJkYXRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NodW5rc1swXT90aGlzLl9jaHVua3NbMF0uZGF0YTpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiQXJyYXlUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGUuQXJyYXlUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtQ2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtQ2hpbGRyZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzdHJpZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2h1bmtzWzBdP3RoaXMuX2NodW5rc1swXS5zdHJpZGU6MX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2h1bmtzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmJ5dGVMZW5ndGh9KSwwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bGxDb3VudCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX251bGxDb3VudDtyZXR1cm4gZTwwJiYodGhpcy5fbnVsbENvdW50PWU9dGhpcy5fY2h1bmtzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0Lm51bGxDb3VudH0pLDApKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiaW5kaWNlcyIse2dldDpmdW5jdGlvbigpe2lmKGZ1LkRhdGFUeXBlLmlzRGljdGlvbmFyeSh0aGlzLl90eXBlKSl7aWYoIXRoaXMuX2luZGljZXMpe3ZhciBlPXRoaXMuX2NodW5rczt0aGlzLl9pbmRpY2VzPTE9PT1lLmxlbmd0aD9lWzBdLmluZGljZXM6dC5jb25jYXQuYXBwbHkodCxjdS5fX3NwcmVhZChlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kaWNlc30pKSkpfXJldHVybiB0aGlzLl9pbmRpY2VzfXJldHVybiBudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZGljdGlvbmFyeSIse2dldDpmdW5jdGlvbigpe3JldHVybiBmdS5EYXRhVHlwZS5pc0RpY3Rpb25hcnkodGhpcy5fdHlwZSk/dGhpcy5fY2h1bmtzW3RoaXMuX2NodW5rcy5sZW5ndGgtMV0uZGF0YS5kaWN0aW9uYXJ5Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBuZXcgeXUodGhpcy5fY2h1bmtzKX0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuX2NodW5rcyksbmV3IHQodGhpcy5fdHlwZSxlKX0sdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiB0aGlzLmNsb25lKHQuZmxhdHRlbi5hcHBseSh0LGN1Ll9fc3ByZWFkKFt0aGlzXSxlKSkpfSx0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3JldHVybiBsdS5jbGFtcFJhbmdlKHRoaXMsZSx0LHRoaXMuX3NsaWNlSW50ZXJuYWwpfSx0LnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fbnVtQ2hpbGRyZW4pcmV0dXJuIG51bGw7dmFyIHIsbixpLG89dGhpcy5fY2hpbGRyZW58fCh0aGlzLl9jaGlsZHJlbj1bXSk7cmV0dXJuKHI9b1tlXSk/cjoobj0odGhpcy5fdHlwZS5jaGlsZHJlbnx8W10pW2VdKSYmKGk9dGhpcy5fY2h1bmtzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Q2hpbGRBdChlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lfSkpKS5sZW5ndGg+MD9vW2VdPW5ldyB0KG4udHlwZSxpKTpudWxsfSx0LnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49dGhpcy5fY2h1bmtPZmZzZXRzLGk9bi5sZW5ndGgtMTtpZihyPDApcmV0dXJuIG51bGw7aWYocj49bltpXSlyZXR1cm4gbnVsbDtpZihpPD0xKXJldHVybiB0P3QodGhpcywwLHIpOlswLHJdO3ZhciBvPTAsYT0wLHU9MDtkb3tpZihvKzE9PT1pKXJldHVybiB0P3QodGhpcyxvLHItYSk6W28sci1hXTtyPj1uW3U9bysoaS1vKS8yfDBdP289dTppPXV9d2hpbGUocjxuW2ldJiZyPj0oYT1uW29dKSk7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLnNlYXJjaChlLHRoaXMuaXNWYWxpZEludGVybmFsKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNlYXJjaChlLHRoaXMuZ2V0SW50ZXJuYWwpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnNlYXJjaChlLChmdW5jdGlvbihlLHIsbil7cmV0dXJuIGUuY2h1bmtzW3JdLnNldChuLHQpfSkpfSx0LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdCYmIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuc2VhcmNoKHQsKGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gci5pbmRleE9mSW50ZXJuYWwodCxuLGksZSl9KSk6dGhpcy5pbmRleE9mSW50ZXJuYWwodGhpcywwLE1hdGgubWF4KDAsdHx8MCksZSl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNodW5rcyx0PWUubGVuZ3RoLHI9dGhpcy5fdHlwZS5BcnJheVR5cGU7aWYodDw9MClyZXR1cm4gbmV3IHIoMCk7aWYodDw9MSlyZXR1cm4gZVswXS50b0FycmF5KCk7Zm9yKHZhciBuPTAsaT1uZXcgQXJyYXkodCksbz0tMTsrK288dDspbis9KGlbb109ZVtvXS50b0FycmF5KCkpLmxlbmd0aDtyIT09aVswXS5jb25zdHJ1Y3RvciYmKHI9aVswXS5jb25zdHJ1Y3Rvcik7Zm9yKHZhciBhPW5ldyByKG4pLHU9cj09PUFycmF5P3Z1OmJ1LHM9KG89LTEsMCk7KytvPHQ7KXM9dShpW29dLGEscyk7cmV0dXJuIGF9LHQucHJvdG90eXBlLmdldEludGVybmFsPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5fY2h1bmtzW3RdLmdldChyKX0sdC5wcm90b3R5cGUuaXNWYWxpZEludGVybmFsPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5fY2h1bmtzW3RdLmlzVmFsaWQocil9LHQucHJvdG90eXBlLmluZGV4T2ZJbnRlcm5hbD1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGk9ZS5fY2h1bmtzLG89dC0xLGE9aS5sZW5ndGgsdT1yLHM9MCxjPS0xOysrbzxhOyl7aWYofihjPWlbb10uaW5kZXhPZihuLHUpKSlyZXR1cm4gcytjO3U9MCxzKz1pW29dLmxlbmd0aH1yZXR1cm4tMX0sdC5wcm90b3R5cGUuX3NsaWNlSW50ZXJuYWw9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1bXSxpPWUuY2h1bmtzLG89ZS5fY2h1bmtPZmZzZXRzLGE9LTEsdT1pLmxlbmd0aDsrK2E8dTspe3ZhciBzPWlbYV0sYz1zLmxlbmd0aCxsPW9bYV07aWYobD49cilicmVhaztpZighKHQ+PWwrYykpaWYobD49dCYmbCtjPD1yKW4ucHVzaChzKTtlbHNle3ZhciBmPU1hdGgubWF4KDAsdC1sKSxkPU1hdGgubWluKHItbCxjKTtuLnB1c2gocy5zbGljZShmLGQpKX19cmV0dXJuIGUuY2xvbmUobil9LHR9KHB1LkFic3RyYWN0VmVjdG9yKTtnYS5DaHVua2VkPWh1O3ZhciBidT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQuc2V0KGUscikscitlLmxlbmd0aH0sdnU9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yLGk9LTEsbz1lLmxlbmd0aDsrK2k8bzspdFtuKytdPWVbaV07cmV0dXJuIG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eShtYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbWEuQ29sdW1uPXZvaWQgMDt2YXIgX3U9SC5leHBvcnRzLG11PURuLGd1PV9lLEJ1PWdhLFR1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLG4pe3ZvaWQgMD09PXImJihyPVtdKTt2YXIgaT10aGlzO3JldHVybiByPUJ1LkNodW5rZWQuZmxhdHRlbi5hcHBseShCdS5DaHVua2VkLF91Ll9fc3ByZWFkKHIpKSwoaT1lLmNhbGwodGhpcyx0LnR5cGUscixuKXx8dGhpcykuX2ZpZWxkPXQsMSE9PXIubGVuZ3RofHxpIGluc3RhbmNlb2YgSXU/aTpuZXcgSXUodCxyWzBdLGkuX2NodW5rT2Zmc2V0cyl9cmV0dXJuIF91Ll9fZXh0ZW5kcyh0LGUpLHQubmV3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3ZhciBuPV91Ll9fcmVhZChlKSxpPW5bMF0sbz1uWzFdLGE9bi5zbGljZSgyKTsic3RyaW5nIj09dHlwZW9mIGl8fGkgaW5zdGFuY2VvZiBtdS5GaWVsZHx8KG89aSxpPSIiKTt2YXIgdT1CdS5DaHVua2VkLmZsYXR0ZW4oQXJyYXkuaXNBcnJheShvKT9fdS5fX3NwcmVhZChvLGEpOm8gaW5zdGFuY2VvZiBndS5WZWN0b3I/X3UuX19zcHJlYWQoW29dLGEpOltndS5WZWN0b3IubmV3LmFwcGx5KGd1LlZlY3RvcixfdS5fX3NwcmVhZChbb10sYSkpXSk7aWYoInN0cmluZyI9PXR5cGVvZiBpKXt2YXIgcz11WzBdLmRhdGEudHlwZTtpPW5ldyBtdS5GaWVsZChpLHMsITApfWVsc2UhaS5udWxsYWJsZSYmdS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5udWxsQ291bnQ+MH0pKSYmKGk9aS5jbG9uZSh7bnVsbGFibGU6ITB9KSk7cmV0dXJuIG5ldyB0KGksdSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZmllbGQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpZWxkLm5hbWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudWxsYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZC5udWxsYWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm1ldGFkYXRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpZWxkLm1ldGFkYXRhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10aGlzLl9jaHVua3MpLG5ldyB0KHRoaXMuX2ZpZWxkLGUpfSx0LnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5udW1DaGlsZHJlbilyZXR1cm4gbnVsbDt2YXIgcixuLGksbz10aGlzLl9jaGlsZHJlbnx8KHRoaXMuX2NoaWxkcmVuPVtdKTtyZXR1cm4ocj1vW2VdKT9yOihuPSh0aGlzLnR5cGUuY2hpbGRyZW58fFtdKVtlXSkmJihpPXRoaXMuX2NodW5rcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldENoaWxkQXQoZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX0pKSkubGVuZ3RoPjA/b1tlXT1uZXcgdChuLGkpOm51bGx9LHR9KEJ1LkNodW5rZWQpO21hLkNvbHVtbj1UdTt2YXIgSXU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxbcl0sbil8fHRoaXM7cmV0dXJuIGkuX2NodW5rPXIsaX1yZXR1cm4gX3UuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dCh0aGlzLDAsZSk6WzAsZV19LHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NodW5rLmlzVmFsaWQoZSl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2h1bmsuZ2V0KGUpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaHVuay5zZXQoZSx0KX0sdC5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jaHVuay5pbmRleE9mKGUsdCl9LHR9KFR1KSx3dT17fSxPdT17fSxTdT17fSxBdT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQXUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEF1Lmluc3RhbmNlPUF1LlR5cGVBc3NlbWJsZXI9dm9pZCAwO3ZhciBEdT1ILmV4cG9ydHMsVnU9Wi5mbGF0YnVmZmVycy5Mb25nLFB1PUJlLE11PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBEdS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LHIpe3JldHVybiBudWxsPT10fHxudWxsPT1yP3ZvaWQgMDplLnByb3RvdHlwZS52aXNpdC5jYWxsKHRoaXMsdCxyKX0sdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1Lk51bGwuc3RhcnROdWxsKHQpLFB1Lk51bGwuZW5kTnVsbCh0KX0sdC5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuSW50LnN0YXJ0SW50KHQpLFB1LkludC5hZGRCaXRXaWR0aCh0LGUuYml0V2lkdGgpLFB1LkludC5hZGRJc1NpZ25lZCh0LGUuaXNTaWduZWQpLFB1LkludC5lbmRJbnQodCl9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuRmxvYXRpbmdQb2ludC5zdGFydEZsb2F0aW5nUG9pbnQodCksUHUuRmxvYXRpbmdQb2ludC5hZGRQcmVjaXNpb24odCxlLnByZWNpc2lvbiksUHUuRmxvYXRpbmdQb2ludC5lbmRGbG9hdGluZ1BvaW50KHQpfSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5CaW5hcnkuc3RhcnRCaW5hcnkodCksUHUuQmluYXJ5LmVuZEJpbmFyeSh0KX0sdC5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LkJvb2wuc3RhcnRCb29sKHQpLFB1LkJvb2wuZW5kQm9vbCh0KX0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LlV0Zjguc3RhcnRVdGY4KHQpLFB1LlV0ZjguZW5kVXRmOCh0KX0sdC5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LkRlY2ltYWwuc3RhcnREZWNpbWFsKHQpLFB1LkRlY2ltYWwuYWRkU2NhbGUodCxlLnNjYWxlKSxQdS5EZWNpbWFsLmFkZFByZWNpc2lvbih0LGUucHJlY2lzaW9uKSxQdS5EZWNpbWFsLmVuZERlY2ltYWwodCl9LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5EYXRlLnN0YXJ0RGF0ZSh0KSxQdS5EYXRlLmFkZFVuaXQodCxlLnVuaXQpLFB1LkRhdGUuZW5kRGF0ZSh0KX0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LlRpbWUuc3RhcnRUaW1lKHQpLFB1LlRpbWUuYWRkVW5pdCh0LGUudW5pdCksUHUuVGltZS5hZGRCaXRXaWR0aCh0LGUuYml0V2lkdGgpLFB1LlRpbWUuZW5kVGltZSh0KX0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnRpbWV6b25lJiZ0LmNyZWF0ZVN0cmluZyhlLnRpbWV6b25lKXx8dm9pZCAwO3JldHVybiBQdS5UaW1lc3RhbXAuc3RhcnRUaW1lc3RhbXAodCksUHUuVGltZXN0YW1wLmFkZFVuaXQodCxlLnVuaXQpLHZvaWQgMCE9PXImJlB1LlRpbWVzdGFtcC5hZGRUaW1lem9uZSh0LHIpLFB1LlRpbWVzdGFtcC5lbmRUaW1lc3RhbXAodCl9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuSW50ZXJ2YWwuc3RhcnRJbnRlcnZhbCh0KSxQdS5JbnRlcnZhbC5hZGRVbml0KHQsZS51bml0KSxQdS5JbnRlcnZhbC5lbmRJbnRlcnZhbCh0KX0sdC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1Lkxpc3Quc3RhcnRMaXN0KHQpLFB1Lkxpc3QuZW5kTGlzdCh0KX0sdC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuU3RydWN0Xy5zdGFydFN0cnVjdF8odCksUHUuU3RydWN0Xy5lbmRTdHJ1Y3RfKHQpfSx0LnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUsdCl7UHUuVW5pb24uc3RhcnRUeXBlSWRzVmVjdG9yKHQsZS50eXBlSWRzLmxlbmd0aCk7dmFyIHI9UHUuVW5pb24uY3JlYXRlVHlwZUlkc1ZlY3Rvcih0LGUudHlwZUlkcyk7cmV0dXJuIFB1LlVuaW9uLnN0YXJ0VW5pb24odCksUHUuVW5pb24uYWRkTW9kZSh0LGUubW9kZSksUHUuVW5pb24uYWRkVHlwZUlkcyh0LHIpLFB1LlVuaW9uLmVuZFVuaW9uKHQpfSx0LnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnZpc2l0KGUuaW5kaWNlcyx0KTtyZXR1cm4gUHUuRGljdGlvbmFyeUVuY29kaW5nLnN0YXJ0RGljdGlvbmFyeUVuY29kaW5nKHQpLFB1LkRpY3Rpb25hcnlFbmNvZGluZy5hZGRJZCh0LG5ldyBWdShlLmlkLDApKSxQdS5EaWN0aW9uYXJ5RW5jb2RpbmcuYWRkSXNPcmRlcmVkKHQsZS5pc09yZGVyZWQpLHZvaWQgMCE9PXImJlB1LkRpY3Rpb25hcnlFbmNvZGluZy5hZGRJbmRleFR5cGUodCxyKSxQdS5EaWN0aW9uYXJ5RW5jb2RpbmcuZW5kRGljdGlvbmFyeUVuY29kaW5nKHQpfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5GaXhlZFNpemVCaW5hcnkuc3RhcnRGaXhlZFNpemVCaW5hcnkodCksUHUuRml4ZWRTaXplQmluYXJ5LmFkZEJ5dGVXaWR0aCh0LGUuYnl0ZVdpZHRoKSxQdS5GaXhlZFNpemVCaW5hcnkuZW5kRml4ZWRTaXplQmluYXJ5KHQpfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuRml4ZWRTaXplTGlzdC5zdGFydEZpeGVkU2l6ZUxpc3QodCksUHUuRml4ZWRTaXplTGlzdC5hZGRMaXN0U2l6ZSh0LGUubGlzdFNpemUpLFB1LkZpeGVkU2l6ZUxpc3QuZW5kRml4ZWRTaXplTGlzdCh0KX0sdC5wcm90b3R5cGUudmlzaXRNYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuTWFwLnN0YXJ0TWFwKHQpLFB1Lk1hcC5hZGRLZXlzU29ydGVkKHQsZS5rZXlzU29ydGVkKSxQdS5NYXAuZW5kTWFwKHQpfSx0fShkaS5WaXNpdG9yKTtBdS5UeXBlQXNzZW1ibGVyPU11LEF1Lmluc3RhbmNlPW5ldyBNdTt2YXIgRnU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxGdS5maWVsZEZyb21KU09OPUZ1LmRpY3Rpb25hcnlCYXRjaEZyb21KU09OPUZ1LnJlY29yZEJhdGNoRnJvbUpTT049RnUuc2NoZW1hRnJvbUpTT049dm9pZCAwO3ZhciBVdT1ILmV4cG9ydHMsanU9RG4seHU9RmUsTHU9U3UsUnU9Z2U7ZnVuY3Rpb24gTnUoZSl7cmV0dXJuIG5ldyBMdS5SZWNvcmRCYXRjaChlLmNvdW50LEN1KGUuY29sdW1ucyksenUoZS5jb2x1bW5zKSl9ZnVuY3Rpb24gRXUoZSx0KXtyZXR1cm4oZS5jaGlsZHJlbnx8W10pLmZpbHRlcihCb29sZWFuKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBqdS5GaWVsZC5mcm9tSlNPTihlLHQpfSkpfWZ1bmN0aW9uIEN1KGUpe3JldHVybihlfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBVdS5fX3NwcmVhZChlLFtuZXcgTHUuRmllbGROb2RlKHQuY291bnQsKHI9dC5WQUxJRElUWSwocnx8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsgKygwPT09dCl9KSwwKSkpXSxDdSh0LmNoaWxkcmVuKSk7dmFyIHJ9KSxbXSl9ZnVuY3Rpb24genUoZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7Zm9yKHZhciByPS0xLG49KGV8fFtdKS5sZW5ndGg7KytyPG47KXt2YXIgaT1lW3JdO2kuVkFMSURJVFkmJnQucHVzaChuZXcgTHUuQnVmZmVyUmVnaW9uKHQubGVuZ3RoLGkuVkFMSURJVFkubGVuZ3RoKSksaS5UWVBFJiZ0LnB1c2gobmV3IEx1LkJ1ZmZlclJlZ2lvbih0Lmxlbmd0aCxpLlRZUEUubGVuZ3RoKSksaS5PRkZTRVQmJnQucHVzaChuZXcgTHUuQnVmZmVyUmVnaW9uKHQubGVuZ3RoLGkuT0ZGU0VULmxlbmd0aCkpLGkuREFUQSYmdC5wdXNoKG5ldyBMdS5CdWZmZXJSZWdpb24odC5sZW5ndGgsaS5EQVRBLmxlbmd0aCkpLHQ9enUoaS5jaGlsZHJlbix0KX1yZXR1cm4gdH1mdW5jdGlvbiBrdShlKXtyZXR1cm4gbmV3IE1hcChPYmplY3QuZW50cmllcyhlfHx7fSkpfWZ1bmN0aW9uIFd1KGUpe3JldHVybiBuZXcgeHUuSW50KGUuaXNTaWduZWQsZS5iaXRXaWR0aCl9ZnVuY3Rpb24gWXUoZSx0KXt2YXIgcj1lLnR5cGUubmFtZTtzd2l0Y2gocil7Y2FzZSJOT05FIjpjYXNlIm51bGwiOnJldHVybiBuZXcgeHUuTnVsbDtjYXNlImJpbmFyeSI6cmV0dXJuIG5ldyB4dS5CaW5hcnk7Y2FzZSJ1dGY4IjpyZXR1cm4gbmV3IHh1LlV0Zjg7Y2FzZSJib29sIjpyZXR1cm4gbmV3IHh1LkJvb2w7Y2FzZSJsaXN0IjpyZXR1cm4gbmV3IHh1Lkxpc3QoKHR8fFtdKVswXSk7Y2FzZSJzdHJ1Y3QiOmNhc2Uic3RydWN0XyI6cmV0dXJuIG5ldyB4dS5TdHJ1Y3QodHx8W10pfXN3aXRjaChyKXtjYXNlImludCI6dmFyIG49ZS50eXBlO3JldHVybiBuZXcgeHUuSW50KG4uaXNTaWduZWQsbi5iaXRXaWR0aCk7Y2FzZSJmbG9hdGluZ3BvaW50IjpuPWUudHlwZTtyZXR1cm4gbmV3IHh1LkZsb2F0KFJ1LlByZWNpc2lvbltuLnByZWNpc2lvbl0pO2Nhc2UiZGVjaW1hbCI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5EZWNpbWFsKG4uc2NhbGUsbi5wcmVjaXNpb24pO2Nhc2UiZGF0ZSI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5EYXRlXyhSdS5EYXRlVW5pdFtuLnVuaXRdKTtjYXNlInRpbWUiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuVGltZShSdS5UaW1lVW5pdFtuLnVuaXRdLG4uYml0V2lkdGgpO2Nhc2UidGltZXN0YW1wIjpuPWUudHlwZTtyZXR1cm4gbmV3IHh1LlRpbWVzdGFtcChSdS5UaW1lVW5pdFtuLnVuaXRdLG4udGltZXpvbmUpO2Nhc2UiaW50ZXJ2YWwiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuSW50ZXJ2YWwoUnUuSW50ZXJ2YWxVbml0W24udW5pdF0pO2Nhc2UidW5pb24iOm49ZS50eXBlO3JldHVybiBuZXcgeHUuVW5pb24oUnUuVW5pb25Nb2RlW24ubW9kZV0sbi50eXBlSWRzfHxbXSx0fHxbXSk7Y2FzZSJmaXhlZHNpemViaW5hcnkiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuRml4ZWRTaXplQmluYXJ5KG4uYnl0ZVdpZHRoKTtjYXNlImZpeGVkc2l6ZWxpc3QiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuRml4ZWRTaXplTGlzdChuLmxpc3RTaXplLCh0fHxbXSlbMF0pO2Nhc2UibWFwIjpuPWUudHlwZTtyZXR1cm4gbmV3IHh1Lk1hcF8oKHR8fFtdKVswXSxuLmtleXNTb3J0ZWQpfXRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHR5cGU6ICInK3IrJyInKX1GdS5zY2hlbWFGcm9tSlNPTj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgTWFwKSxuZXcganUuU2NoZW1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUuZmllbGRzfHxbXSkuZmlsdGVyKEJvb2xlYW4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGp1LkZpZWxkLmZyb21KU09OKGUsdCl9KSl9KGUsdCksa3UoZS5jdXN0b21NZXRhZGF0YSksdCl9LEZ1LnJlY29yZEJhdGNoRnJvbUpTT049TnUsRnUuZGljdGlvbmFyeUJhdGNoRnJvbUpTT049ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBMdS5EaWN0aW9uYXJ5QmF0Y2goTnUoZS5kYXRhKSxlLmlkLGUuaXNEZWx0YSl9LEZ1LmZpZWxkRnJvbUpTT049ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxhLHU7cmV0dXJuIHQmJihvPWUuZGljdGlvbmFyeSk/dC5oYXMocj1vLmlkKT8obj0obj1vLmluZGV4VHlwZSk/V3Uobik6bmV3IHh1LkludDMyLHU9bmV3IHh1LkRpY3Rpb25hcnkodC5nZXQociksbixyLG8uaXNPcmRlcmVkKSxpPW5ldyBqdS5GaWVsZChlLm5hbWUsdSxlLm51bGxhYmxlLGt1KGUuY3VzdG9tTWV0YWRhdGEpKSk6KG49KG49by5pbmRleFR5cGUpP1d1KG4pOm5ldyB4dS5JbnQzMix0LnNldChyLGE9WXUoZSxFdShlLHQpKSksdT1uZXcgeHUuRGljdGlvbmFyeShhLG4scixvLmlzT3JkZXJlZCksaT1uZXcganUuRmllbGQoZS5uYW1lLHUsZS5udWxsYWJsZSxrdShlLmN1c3RvbU1ldGFkYXRhKSkpOihhPVl1KGUsRXUoZSx0KSksaT1uZXcganUuRmllbGQoZS5uYW1lLGEsZS5udWxsYWJsZSxrdShlLmN1c3RvbU1ldGFkYXRhKSkpLGl8fG51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksU3UuRmllbGROb2RlPVN1LkJ1ZmZlclJlZ2lvbj1TdS5EaWN0aW9uYXJ5QmF0Y2g9U3UuUmVjb3JkQmF0Y2g9U3UuTWVzc2FnZT12b2lkIDA7dmFyIEh1PUguZXhwb3J0cyxHdT1aLEp1PUJlLFp1PVRlLEt1PURuLFh1PUcscXU9Z2UsUXU9QXUsJHU9RnUsZXM9R3UuZmxhdGJ1ZmZlcnMuTG9uZyx0cz1HdS5mbGF0YnVmZmVycy5CdWlsZGVyLHJzPUd1LmZsYXRidWZmZXJzLkJ5dGVCdWZmZXIsbnM9RmUsaXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4pe3RoaXMuX3ZlcnNpb249dCx0aGlzLl9oZWFkZXJUeXBlPXIsdGhpcy5ib2R5PW5ldyBVaW50OEFycmF5KDApLG4mJih0aGlzLl9jcmVhdGVIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbn0pLHRoaXMuX2JvZHlMZW5ndGg9Im51bWJlciI9PXR5cGVvZiBlP2U6ZS5sb3d9cmV0dXJuIGUuZnJvbUpTT049ZnVuY3Rpb24odCxyKXt2YXIgbj1uZXcgZSgwLHF1Lk1ldGFkYXRhVmVyc2lvbi5WNCxyKTtyZXR1cm4gbi5fY3JlYXRlSGVhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7c3dpdGNoKHQpe2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5TY2hlbWE6cmV0dXJuIEt1LlNjaGVtYS5mcm9tSlNPTihlKTtjYXNlIHF1Lk1lc3NhZ2VIZWFkZXIuUmVjb3JkQmF0Y2g6cmV0dXJuIG9zLmZyb21KU09OKGUpO2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5EaWN0aW9uYXJ5QmF0Y2g6cmV0dXJuIGFzLmZyb21KU09OKGUpfXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIE1lc3NhZ2UgdHlwZTogeyBuYW1lOiAiK3F1Lk1lc3NhZ2VIZWFkZXJbdF0rIiwgdHlwZTogIit0KyIgfSIpfX0odCxyKSxufSxlLmRlY29kZT1mdW5jdGlvbih0KXt0PW5ldyBycyhYdS50b1VpbnQ4QXJyYXkodCkpO3ZhciByPVp1Lk1lc3NhZ2UuZ2V0Um9vdEFzTWVzc2FnZSh0KSxuPXIuYm9keUxlbmd0aCgpLGk9ci52ZXJzaW9uKCksbz1yLmhlYWRlclR5cGUoKSxhPW5ldyBlKG4saSxvKTtyZXR1cm4gYS5fY3JlYXRlSGVhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7c3dpdGNoKHQpe2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5TY2hlbWE6cmV0dXJuIEt1LlNjaGVtYS5kZWNvZGUoZS5oZWFkZXIobmV3IEp1LlNjaGVtYSkpO2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaDpyZXR1cm4gb3MuZGVjb2RlKGUuaGVhZGVyKG5ldyBadS5SZWNvcmRCYXRjaCksZS52ZXJzaW9uKCkpO2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5EaWN0aW9uYXJ5QmF0Y2g6cmV0dXJuIGFzLmRlY29kZShlLmhlYWRlcihuZXcgWnUuRGljdGlvbmFyeUJhdGNoKSxlLnZlcnNpb24oKSl9dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgTWVzc2FnZSB0eXBlOiB7IG5hbWU6ICIrcXUuTWVzc2FnZUhlYWRlclt0XSsiLCB0eXBlOiAiK3QrIiB9Iil9fShyLG8pLGF9LGUuZW5jb2RlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0cyxyPS0xO3JldHVybiBlLmlzU2NoZW1hKCk/cj1LdS5TY2hlbWEuZW5jb2RlKHQsZS5oZWFkZXIoKSk6ZS5pc1JlY29yZEJhdGNoKCk/cj1vcy5lbmNvZGUodCxlLmhlYWRlcigpKTplLmlzRGljdGlvbmFyeUJhdGNoKCkmJihyPWFzLmVuY29kZSh0LGUuaGVhZGVyKCkpKSxadS5NZXNzYWdlLnN0YXJ0TWVzc2FnZSh0KSxadS5NZXNzYWdlLmFkZFZlcnNpb24odCxxdS5NZXRhZGF0YVZlcnNpb24uVjQpLFp1Lk1lc3NhZ2UuYWRkSGVhZGVyKHQsciksWnUuTWVzc2FnZS5hZGRIZWFkZXJUeXBlKHQsZS5oZWFkZXJUeXBlKSxadS5NZXNzYWdlLmFkZEJvZHlMZW5ndGgodCxuZXcgZXMoZS5ib2R5TGVuZ3RoLDApKSxadS5NZXNzYWdlLmZpbmlzaE1lc3NhZ2VCdWZmZXIodCxadS5NZXNzYWdlLmVuZE1lc3NhZ2UodCkpLHQuYXNVaW50OEFycmF5KCl9LGUuZnJvbT1mdW5jdGlvbih0LHIpe2lmKHZvaWQgMD09PXImJihyPTApLHQgaW5zdGFuY2VvZiBLdS5TY2hlbWEpcmV0dXJuIG5ldyBlKDAscXUuTWV0YWRhdGFWZXJzaW9uLlY0LHF1Lk1lc3NhZ2VIZWFkZXIuU2NoZW1hLHQpO2lmKHQgaW5zdGFuY2VvZiBvcylyZXR1cm4gbmV3IGUocixxdS5NZXRhZGF0YVZlcnNpb24uVjQscXUuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaCx0KTtpZih0IGluc3RhbmNlb2YgYXMpcmV0dXJuIG5ldyBlKHIscXUuTWV0YWRhdGFWZXJzaW9uLlY0LHF1Lk1lc3NhZ2VIZWFkZXIuRGljdGlvbmFyeUJhdGNoLHQpO3Rocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIE1lc3NhZ2UgaGVhZGVyOiAiK3QpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkZXJUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92ZXJzaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGVhZGVyVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWFkZXJUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYm9keUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib2R5TGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmhlYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVIZWFkZXIoKX0sZS5wcm90b3R5cGUuaXNTY2hlbWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkZXJUeXBlPT09cXUuTWVzc2FnZUhlYWRlci5TY2hlbWF9LGUucHJvdG90eXBlLmlzUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkZXJUeXBlPT09cXUuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaH0sZS5wcm90b3R5cGUuaXNEaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkZXJUeXBlPT09cXUuTWVzc2FnZUhlYWRlci5EaWN0aW9uYXJ5QmF0Y2h9LGV9KCk7U3UuTWVzc2FnZT1pczt2YXIgb3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLl9ub2Rlcz10LHRoaXMuX2J1ZmZlcnM9cix0aGlzLl9sZW5ndGg9Im51bWJlciI9PXR5cGVvZiBlP2U6ZS5sb3d9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9kZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7U3UuUmVjb3JkQmF0Y2g9b3M7dmFyIGFzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMuX2RhdGE9ZSx0aGlzLl9pc0RlbHRhPXIsdGhpcy5faWQ9Im51bWJlciI9PXR5cGVvZiB0P3Q6dC5sb3d9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkYXRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0RlbHRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGVsdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm5vZGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5ub2Rlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmJ1ZmZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oKTtTdS5EaWN0aW9uYXJ5QmF0Y2g9YXM7dmFyIHVzPWZ1bmN0aW9uKGUsdCl7dGhpcy5vZmZzZXQ9Im51bWJlciI9PXR5cGVvZiBlP2U6ZS5sb3csdGhpcy5sZW5ndGg9Im51bWJlciI9PXR5cGVvZiB0P3Q6dC5sb3d9O1N1LkJ1ZmZlclJlZ2lvbj11czt2YXIgc3M9ZnVuY3Rpb24oZSx0KXt0aGlzLmxlbmd0aD0ibnVtYmVyIj09dHlwZW9mIGU/ZTplLmxvdyx0aGlzLm51bGxDb3VudD0ibnVtYmVyIj09dHlwZW9mIHQ/dDp0Lmxvd307ZnVuY3Rpb24gY3MoZSx0KXtmb3IodmFyIHI9W10sbj12b2lkIDAsaT0tMSxvPS0xLGE9ZS5jaGlsZHJlbkxlbmd0aCgpOysraTxhOykobj1lLmNoaWxkcmVuKGkpKSYmKHJbKytvXT1LdS5GaWVsZC5kZWNvZGUobix0KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbHMoZSl7dmFyIHQ9bmV3IE1hcDtpZihlKWZvcih2YXIgcj12b2lkIDAsbj12b2lkIDAsaT0tMSxvPTB8ZS5jdXN0b21NZXRhZGF0YUxlbmd0aCgpOysraTxvOykocj1lLmN1c3RvbU1ldGFkYXRhKGkpKSYmbnVsbCE9KG49ci5rZXkoKSkmJnQuc2V0KG4sci52YWx1ZSgpKTtyZXR1cm4gdH1mdW5jdGlvbiBmcyhlKXtyZXR1cm4gbmV3IG5zLkludChlLmlzU2lnbmVkKCksZS5iaXRXaWR0aCgpKX1mdW5jdGlvbiBkcyhlLHQpe3ZhciByPWUudHlwZVR5cGUoKTtzd2l0Y2gocil7Y2FzZSBKdS5UeXBlLk5PTkU6Y2FzZSBKdS5UeXBlLk51bGw6cmV0dXJuIG5ldyBucy5OdWxsO2Nhc2UgSnUuVHlwZS5CaW5hcnk6cmV0dXJuIG5ldyBucy5CaW5hcnk7Y2FzZSBKdS5UeXBlLlV0Zjg6cmV0dXJuIG5ldyBucy5VdGY4O2Nhc2UgSnUuVHlwZS5Cb29sOnJldHVybiBuZXcgbnMuQm9vbDtjYXNlIEp1LlR5cGUuTGlzdDpyZXR1cm4gbmV3IG5zLkxpc3QoKHR8fFtdKVswXSk7Y2FzZSBKdS5UeXBlLlN0cnVjdF86cmV0dXJuIG5ldyBucy5TdHJ1Y3QodHx8W10pfXN3aXRjaChyKXtjYXNlIEp1LlR5cGUuSW50OnZhciBuPWUudHlwZShuZXcgSnUuSW50KTtyZXR1cm4gbmV3IG5zLkludChuLmlzU2lnbmVkKCksbi5iaXRXaWR0aCgpKTtjYXNlIEp1LlR5cGUuRmxvYXRpbmdQb2ludDpuPWUudHlwZShuZXcgSnUuRmxvYXRpbmdQb2ludCk7cmV0dXJuIG5ldyBucy5GbG9hdChuLnByZWNpc2lvbigpKTtjYXNlIEp1LlR5cGUuRGVjaW1hbDpuPWUudHlwZShuZXcgSnUuRGVjaW1hbCk7cmV0dXJuIG5ldyBucy5EZWNpbWFsKG4uc2NhbGUoKSxuLnByZWNpc2lvbigpKTtjYXNlIEp1LlR5cGUuRGF0ZTpuPWUudHlwZShuZXcgSnUuRGF0ZSk7cmV0dXJuIG5ldyBucy5EYXRlXyhuLnVuaXQoKSk7Y2FzZSBKdS5UeXBlLlRpbWU6bj1lLnR5cGUobmV3IEp1LlRpbWUpO3JldHVybiBuZXcgbnMuVGltZShuLnVuaXQoKSxuLmJpdFdpZHRoKCkpO2Nhc2UgSnUuVHlwZS5UaW1lc3RhbXA6bj1lLnR5cGUobmV3IEp1LlRpbWVzdGFtcCk7cmV0dXJuIG5ldyBucy5UaW1lc3RhbXAobi51bml0KCksbi50aW1lem9uZSgpKTtjYXNlIEp1LlR5cGUuSW50ZXJ2YWw6bj1lLnR5cGUobmV3IEp1LkludGVydmFsKTtyZXR1cm4gbmV3IG5zLkludGVydmFsKG4udW5pdCgpKTtjYXNlIEp1LlR5cGUuVW5pb246bj1lLnR5cGUobmV3IEp1LlVuaW9uKTtyZXR1cm4gbmV3IG5zLlVuaW9uKG4ubW9kZSgpLG4udHlwZUlkc0FycmF5KCl8fFtdLHR8fFtdKTtjYXNlIEp1LlR5cGUuRml4ZWRTaXplQmluYXJ5Om49ZS50eXBlKG5ldyBKdS5GaXhlZFNpemVCaW5hcnkpO3JldHVybiBuZXcgbnMuRml4ZWRTaXplQmluYXJ5KG4uYnl0ZVdpZHRoKCkpO2Nhc2UgSnUuVHlwZS5GaXhlZFNpemVMaXN0Om49ZS50eXBlKG5ldyBKdS5GaXhlZFNpemVMaXN0KTtyZXR1cm4gbmV3IG5zLkZpeGVkU2l6ZUxpc3Qobi5saXN0U2l6ZSgpLCh0fHxbXSlbMF0pO2Nhc2UgSnUuVHlwZS5NYXA6bj1lLnR5cGUobmV3IEp1Lk1hcCk7cmV0dXJuIG5ldyBucy5NYXBfKCh0fHxbXSlbMF0sbi5rZXlzU29ydGVkKCkpfXRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHR5cGU6ICInK0p1LlR5cGVbcl0rJyIgKCcrcisiKSIpfVN1LkZpZWxkTm9kZT1zcyxLdS5GaWVsZC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0tMSxuPS0xLGk9LTEsbz10LnR5cGUsYT10LnR5cGVJZDtucy5EYXRhVHlwZS5pc0RpY3Rpb25hcnkobyk/KGE9by5kaWN0aW9uYXJ5LnR5cGVJZCxpPVF1Lmluc3RhbmNlLnZpc2l0KG8sZSksbj1RdS5pbnN0YW5jZS52aXNpdChvLmRpY3Rpb25hcnksZSkpOm49UXUuaW5zdGFuY2UudmlzaXQobyxlKTt2YXIgdT0oby5jaGlsZHJlbnx8W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIEt1LkZpZWxkLmVuY29kZShlLHQpfSkpLHM9SnUuRmllbGQuY3JlYXRlQ2hpbGRyZW5WZWN0b3IoZSx1KSxjPXQubWV0YWRhdGEmJnQubWV0YWRhdGEuc2l6ZT4wP0p1LkZpZWxkLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yKGUsSHUuX19zcHJlYWQodC5tZXRhZGF0YSkubWFwKChmdW5jdGlvbih0KXt2YXIgcj1IdS5fX3JlYWQodCwyKSxuPXJbMF0saT1yWzFdLG89ZS5jcmVhdGVTdHJpbmcoIiIrbiksYT1lLmNyZWF0ZVN0cmluZygiIitpKTtyZXR1cm4gSnUuS2V5VmFsdWUuc3RhcnRLZXlWYWx1ZShlKSxKdS5LZXlWYWx1ZS5hZGRLZXkoZSxvKSxKdS5LZXlWYWx1ZS5hZGRWYWx1ZShlLGEpLEp1LktleVZhbHVlLmVuZEtleVZhbHVlKGUpfSkpKTotMTt0Lm5hbWUmJihyPWUuY3JlYXRlU3RyaW5nKHQubmFtZSkpO0p1LkZpZWxkLnN0YXJ0RmllbGQoZSksSnUuRmllbGQuYWRkVHlwZShlLG4pLEp1LkZpZWxkLmFkZFR5cGVUeXBlKGUsYSksSnUuRmllbGQuYWRkQ2hpbGRyZW4oZSxzKSxKdS5GaWVsZC5hZGROdWxsYWJsZShlLCEhdC5udWxsYWJsZSksLTEhPT1yJiZKdS5GaWVsZC5hZGROYW1lKGUscik7LTEhPT1pJiZKdS5GaWVsZC5hZGREaWN0aW9uYXJ5KGUsaSk7LTEhPT1jJiZKdS5GaWVsZC5hZGRDdXN0b21NZXRhZGF0YShlLGMpO3JldHVybiBKdS5GaWVsZC5lbmRGaWVsZChlKX0sS3UuRmllbGQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8sYSx1O3QmJih1PWUuZGljdGlvbmFyeSgpKT90LmhhcyhyPXUuaWQoKS5sb3cpPyhvPShvPXUuaW5kZXhUeXBlKCkpP2ZzKG8pOm5ldyBucy5JbnQzMixhPW5ldyBucy5EaWN0aW9uYXJ5KHQuZ2V0KHIpLG8scix1LmlzT3JkZXJlZCgpKSxuPW5ldyBLdS5GaWVsZChlLm5hbWUoKSxhLGUubnVsbGFibGUoKSxscyhlKSkpOihvPShvPXUuaW5kZXhUeXBlKCkpP2ZzKG8pOm5ldyBucy5JbnQzMix0LnNldChyLGk9ZHMoZSxjcyhlLHQpKSksYT1uZXcgbnMuRGljdGlvbmFyeShpLG8scix1LmlzT3JkZXJlZCgpKSxuPW5ldyBLdS5GaWVsZChlLm5hbWUoKSxhLGUubnVsbGFibGUoKSxscyhlKSkpOihpPWRzKGUsY3MoZSx0KSksbj1uZXcgS3UuRmllbGQoZS5uYW1lKCksaSxlLm51bGxhYmxlKCksbHMoZSkpKTtyZXR1cm4gbnx8bnVsbH0sS3UuRmllbGQuZnJvbUpTT049JHUuZmllbGRGcm9tSlNPTixLdS5TY2hlbWEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5maWVsZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gS3UuRmllbGQuZW5jb2RlKGUsdCl9KSk7SnUuU2NoZW1hLnN0YXJ0RmllbGRzVmVjdG9yKGUsci5sZW5ndGgpO3ZhciBuPUp1LlNjaGVtYS5jcmVhdGVGaWVsZHNWZWN0b3IoZSxyKSxpPXQubWV0YWRhdGEmJnQubWV0YWRhdGEuc2l6ZT4wP0p1LlNjaGVtYS5jcmVhdGVDdXN0b21NZXRhZGF0YVZlY3RvcihlLEh1Ll9fc3ByZWFkKHQubWV0YWRhdGEpLm1hcCgoZnVuY3Rpb24odCl7dmFyIHI9SHUuX19yZWFkKHQsMiksbj1yWzBdLGk9clsxXSxvPWUuY3JlYXRlU3RyaW5nKCIiK24pLGE9ZS5jcmVhdGVTdHJpbmcoIiIraSk7cmV0dXJuIEp1LktleVZhbHVlLnN0YXJ0S2V5VmFsdWUoZSksSnUuS2V5VmFsdWUuYWRkS2V5KGUsbyksSnUuS2V5VmFsdWUuYWRkVmFsdWUoZSxhKSxKdS5LZXlWYWx1ZS5lbmRLZXlWYWx1ZShlKX0pKSk6LTE7SnUuU2NoZW1hLnN0YXJ0U2NoZW1hKGUpLEp1LlNjaGVtYS5hZGRGaWVsZHMoZSxuKSxKdS5TY2hlbWEuYWRkRW5kaWFubmVzcyhlLHlzP0p1LkVuZGlhbm5lc3MuTGl0dGxlOkp1LkVuZGlhbm5lc3MuQmlnKSwtMSE9PWkmJkp1LlNjaGVtYS5hZGRDdXN0b21NZXRhZGF0YShlLGkpO3JldHVybiBKdS5TY2hlbWEuZW5kU2NoZW1hKGUpfSxLdS5TY2hlbWEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9bmV3IE1hcCk7dmFyIHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj12b2lkIDAsaT0tMSxvPS0xLGE9ZS5maWVsZHNMZW5ndGgoKTsrK2k8YTspKG49ZS5maWVsZHMoaSkpJiYoclsrK29dPUt1LkZpZWxkLmRlY29kZShuLHQpKTtyZXR1cm4gcn0oZSx0KTtyZXR1cm4gbmV3IEt1LlNjaGVtYShyLGxzKGUpLHQpfSxLdS5TY2hlbWEuZnJvbUpTT049JHUuc2NoZW1hRnJvbUpTT04sb3MuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5ub2Rlc3x8W10sbj10LmJ1ZmZlcnN8fFtdO1p1LlJlY29yZEJhdGNoLnN0YXJ0Tm9kZXNWZWN0b3IoZSxyLmxlbmd0aCksci5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gc3MuZW5jb2RlKGUsdCl9KSk7dmFyIGk9ZS5lbmRWZWN0b3IoKTtadS5SZWNvcmRCYXRjaC5zdGFydEJ1ZmZlcnNWZWN0b3IoZSxuLmxlbmd0aCksbi5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdXMuZW5jb2RlKGUsdCl9KSk7dmFyIG89ZS5lbmRWZWN0b3IoKTtyZXR1cm4gWnUuUmVjb3JkQmF0Y2guc3RhcnRSZWNvcmRCYXRjaChlKSxadS5SZWNvcmRCYXRjaC5hZGRMZW5ndGgoZSxuZXcgZXModC5sZW5ndGgsMCkpLFp1LlJlY29yZEJhdGNoLmFkZE5vZGVzKGUsaSksWnUuUmVjb3JkQmF0Y2guYWRkQnVmZmVycyhlLG8pLFp1LlJlY29yZEJhdGNoLmVuZFJlY29yZEJhdGNoKGUpfSxvcy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1xdS5NZXRhZGF0YVZlcnNpb24uVjQpO3JldHVybiBuZXcgb3MoZS5sZW5ndGgoKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj12b2lkIDAsbj0tMSxpPS0xLG89ZS5ub2Rlc0xlbmd0aCgpOysrbjxvOykocj1lLm5vZGVzKG4pKSYmKHRbKytpXT1zcy5kZWNvZGUocikpO3JldHVybiB0fShlKSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxuPXZvaWQgMCxpPS0xLG89LTEsYT1lLmJ1ZmZlcnNMZW5ndGgoKTsrK2k8YTspKG49ZS5idWZmZXJzKGkpKSYmKHQ8cXUuTWV0YWRhdGFWZXJzaW9uLlY0JiYobi5iYl9wb3MrPTgqKGkrMSkpLHJbKytvXT11cy5kZWNvZGUobikpO3JldHVybiByfShlLHQpKX0sb3MuZnJvbUpTT049JHUucmVjb3JkQmF0Y2hGcm9tSlNPTixhcy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1vcy5lbmNvZGUoZSx0LmRhdGEpO3JldHVybiBadS5EaWN0aW9uYXJ5QmF0Y2guc3RhcnREaWN0aW9uYXJ5QmF0Y2goZSksWnUuRGljdGlvbmFyeUJhdGNoLmFkZElkKGUsbmV3IGVzKHQuaWQsMCkpLFp1LkRpY3Rpb25hcnlCYXRjaC5hZGRJc0RlbHRhKGUsdC5pc0RlbHRhKSxadS5EaWN0aW9uYXJ5QmF0Y2guYWRkRGF0YShlLHIpLFp1LkRpY3Rpb25hcnlCYXRjaC5lbmREaWN0aW9uYXJ5QmF0Y2goZSl9LGFzLmRlY29kZT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXF1Lk1ldGFkYXRhVmVyc2lvbi5WNCk7cmV0dXJuIG5ldyBhcyhvcy5kZWNvZGUoZS5kYXRhKCksdCksZS5pZCgpLGUuaXNEZWx0YSgpKX0sYXMuZnJvbUpTT049JHUuZGljdGlvbmFyeUJhdGNoRnJvbUpTT04sc3MuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFp1LkZpZWxkTm9kZS5jcmVhdGVGaWVsZE5vZGUoZSxuZXcgZXModC5sZW5ndGgsMCksbmV3IGVzKHQubnVsbENvdW50LDApKX0sc3MuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgc3MoZS5sZW5ndGgoKSxlLm51bGxDb3VudCgpKX0sdXMuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEp1LkJ1ZmZlci5jcmVhdGVCdWZmZXIoZSxuZXcgZXModC5vZmZzZXQsMCksbmV3IGVzKHQubGVuZ3RoLDApKX0sdXMuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdXMoZS5vZmZzZXQoKSxlLmxlbmd0aCgpKX07dmFyIHBzLHlzPShwcz1uZXcgQXJyYXlCdWZmZXIoMiksbmV3IERhdGFWaWV3KHBzKS5zZXRJbnQxNigwLDI1NiwhMCksMjU2PT09bmV3IEludDE2QXJyYXkocHMpWzBdKTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubWFnaWNYMkFuZFBhZGRpbmc9ZS5tYWdpY0FuZFBhZGRpbmc9ZS5tYWdpY0xlbmd0aD1lLmNoZWNrRm9yTWFnaWNBcnJvd1N0cmluZz1lLk1BR0lDPWUuTUFHSUNfU1RSPWUuUEFERElORz1lLkpTT05NZXNzYWdlUmVhZGVyPWUuQXN5bmNNZXNzYWdlUmVhZGVyPWUuTWVzc2FnZVJlYWRlcj12b2lkIDA7dmFyIHQ9SC5leHBvcnRzLHI9Z2Usbj1aLmZsYXRidWZmZXJzLkJ5dGVCdWZmZXIsaT1TdSxvPVEsYT1Ibyx1PUcscz1VbyxjPSQsbD1mdW5jdGlvbihlKXtyZXR1cm4iRXhwZWN0ZWQgIityLk1lc3NhZ2VIZWFkZXJbZV0rIiBNZXNzYWdlIGluIHN0cmVhbSwgYnV0IHdhcyBudWxsIG9yIGxlbmd0aCAwLiJ9LGY9ZnVuY3Rpb24oZSl7cmV0dXJuIkhlYWRlciBwb2ludGVyIG9mIGZsYXRidWZmZXItZW5jb2RlZCAiK3IuTWVzc2FnZUhlYWRlcltlXSsiIE1lc3NhZ2UgaXMgbnVsbCBvciBsZW5ndGggMC4ifSxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIkV4cGVjdGVkIHRvIHJlYWQgIitlKyIgbWV0YWRhdGEgYnl0ZXMsIGJ1dCBvbmx5IHJlYWQgIit0KyIuIn0scD1mdW5jdGlvbihlLHQpe3JldHVybiJFeHBlY3RlZCB0byByZWFkICIrZSsiIGJ5dGVzIGZvciBtZXNzYWdlIGJvZHksIGJ1dCBvbmx5IHJlYWQgIit0KyIuIn0seT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5zb3VyY2U9ZSBpbnN0YW5jZW9mIHMuQnl0ZVN0cmVhbT9lOm5ldyBzLkJ5dGVTdHJlYW0oZSl9cmV0dXJuIHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMucmVhZE1ldGFkYXRhTGVuZ3RoKCkpLmRvbmV8fC0xPT09ZS52YWx1ZSYmKGU9dGhpcy5yZWFkTWV0YWRhdGFMZW5ndGgoKSkuZG9uZXx8KGU9dGhpcy5yZWFkTWV0YWRhdGEoZS52YWx1ZSkpLmRvbmU/Yy5JVEVSQVRPUl9ET05FOmV9LHQucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS50aHJvdyhlKX0sdC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5yZXR1cm4oZSl9LHQucHJvdG90eXBlLnJlYWRNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCh0PXRoaXMubmV4dCgpKS5kb25lKXJldHVybiBudWxsO2lmKG51bGwhPWUmJnQudmFsdWUuaGVhZGVyVHlwZSE9PWUpdGhyb3cgbmV3IEVycm9yKGwoZSkpO3JldHVybiB0LnZhbHVlfSx0LnByb3RvdHlwZS5yZWFkTWVzc2FnZUJvZHk9ZnVuY3Rpb24oZSl7aWYoZTw9MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIHQ9dS50b1VpbnQ4QXJyYXkodGhpcy5zb3VyY2UucmVhZChlKSk7aWYodC5ieXRlTGVuZ3RoPGUpdGhyb3cgbmV3IEVycm9yKHAoZSx0LmJ5dGVMZW5ndGgpKTtyZXR1cm4gdC5ieXRlT2Zmc2V0JTg9PTAmJnQuYnl0ZU9mZnNldCt0LmJ5dGVMZW5ndGg8PXQuYnVmZmVyLmJ5dGVMZW5ndGg/dDp0LnNsaWNlKCl9LHQucHJvdG90eXBlLnJlYWRTY2hlbWE9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciB0PXIuTWVzc2FnZUhlYWRlci5TY2hlbWEsbj10aGlzLnJlYWRNZXNzYWdlKHQpLGk9bnVsbD09bj92b2lkIDA6bi5oZWFkZXIoKTtpZihlJiYhaSl0aHJvdyBuZXcgRXJyb3IoZih0KSk7cmV0dXJuIGl9LHQucHJvdG90eXBlLnJlYWRNZXRhZGF0YUxlbmd0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc291cmNlLnJlYWQoZS5QQURESU5HKSxyPXQmJm5ldyBuKHQpLGk9KG51bGw9PXI/dm9pZCAwOnIucmVhZEludDMyKDApKXx8MDtyZXR1cm57ZG9uZTowPT09aSx2YWx1ZTppfX0sdC5wcm90b3R5cGUucmVhZE1ldGFkYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlLnJlYWQoZSk7aWYoIXQpcmV0dXJuIGMuSVRFUkFUT1JfRE9ORTtpZih0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgRXJyb3IoZChlLHQuYnl0ZUxlbmd0aCkpO3JldHVybntkb25lOiExLHZhbHVlOmkuTWVzc2FnZS5kZWNvZGUodCl9fSx0fSgpO2UuTWVzc2FnZVJlYWRlcj15O3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24geShlLHQpe3RoaXMuc291cmNlPWUgaW5zdGFuY2VvZiBzLkFzeW5jQnl0ZVN0cmVhbT9lOm8uaXNGaWxlSGFuZGxlKGUpP25ldyBhLkFzeW5jUmFuZG9tQWNjZXNzRmlsZShlLHQpOm5ldyBzLkFzeW5jQnl0ZVN0cmVhbShlKX1yZXR1cm4geS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHI7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnJlYWRNZXRhZGF0YUxlbmd0aCgpXTtjYXNlIDE6cmV0dXJuKGU9dC5zZW50KCkpLmRvbmU/WzIsYy5JVEVSQVRPUl9ET05FXToocj0tMT09PWUudmFsdWUpP1s0LHRoaXMucmVhZE1ldGFkYXRhTGVuZ3RoKCldOlszLDNdO2Nhc2UgMjpyPShlPXQuc2VudCgpKS5kb25lLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIHI/WzIsYy5JVEVSQVRPUl9ET05FXTpbNCx0aGlzLnJlYWRNZXRhZGF0YShlLnZhbHVlKV07Y2FzZSA0OnJldHVybihlPXQuc2VudCgpKS5kb25lP1syLGMuSVRFUkFUT1JfRE9ORV06WzIsZV19fSkpfSkpfSx5LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zb3VyY2UudGhyb3coZSldO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV19fSkpfSkpfSx5LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc291cmNlLnJldHVybihlKV07Y2FzZSAxOnJldHVyblsyLHQuc2VudCgpXX19KSl9KSl9LHkucHJvdG90eXBlLnJlYWRNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoKV07Y2FzZSAxOmlmKChyPXQuc2VudCgpKS5kb25lKXJldHVyblsyLG51bGxdO2lmKG51bGwhPWUmJnIudmFsdWUuaGVhZGVyVHlwZSE9PWUpdGhyb3cgbmV3IEVycm9yKGwoZSkpO3JldHVyblsyLHIudmFsdWVdfX0pKX0pKX0seS5wcm90b3R5cGUucmVhZE1lc3NhZ2VCb2R5PWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbjtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPD0wP1syLG5ldyBVaW50OEFycmF5KDApXToobj11LnRvVWludDhBcnJheSxbNCx0aGlzLnNvdXJjZS5yZWFkKGUpXSk7Y2FzZSAxOmlmKChyPW4uYXBwbHkodm9pZCAwLFt0LnNlbnQoKV0pKS5ieXRlTGVuZ3RoPGUpdGhyb3cgbmV3IEVycm9yKHAoZSxyLmJ5dGVMZW5ndGgpKTtyZXR1cm5bMixyLmJ5dGVPZmZzZXQlOD09MCYmci5ieXRlT2Zmc2V0K3IuYnl0ZUxlbmd0aDw9ci5idWZmZXIuYnl0ZUxlbmd0aD9yOnIuc2xpY2UoKV19fSkpfSkpfSx5LnByb3RvdHlwZS5yZWFkU2NoZW1hPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGksbztyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXIuTWVzc2FnZUhlYWRlci5TY2hlbWEsWzQsdGhpcy5yZWFkTWVzc2FnZShuKV07Y2FzZSAxOmlmKGk9dC5zZW50KCksbz1udWxsPT1pP3ZvaWQgMDppLmhlYWRlcigpLGUmJiFvKXRocm93IG5ldyBFcnJvcihmKG4pKTtyZXR1cm5bMixvXX19KSl9KSl9LHkucHJvdG90eXBlLnJlYWRNZXRhZGF0YUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zb3VyY2UucmVhZChlLlBBRERJTkcpXTtjYXNlIDE6cmV0dXJuIHI9dC5zZW50KCksaT1yJiZuZXcgbihyKSxbMix7ZG9uZTowPT09KG89KG51bGw9PWk/dm9pZCAwOmkucmVhZEludDMyKDApKXx8MCksdmFsdWU6b31dfX0pKX0pKX0seS5wcm90b3R5cGUucmVhZE1ldGFkYXRhPWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNvdXJjZS5yZWFkKGUpXTtjYXNlIDE6aWYoIShyPXQuc2VudCgpKSlyZXR1cm5bMixjLklURVJBVE9SX0RPTkVdO2lmKHIuYnl0ZUxlbmd0aDxlKXRocm93IG5ldyBFcnJvcihkKGUsci5ieXRlTGVuZ3RoKSk7cmV0dXJuWzIse2RvbmU6ITEsdmFsdWU6aS5NZXNzYWdlLmRlY29kZShyKX1dfX0pKX0pKX0seX0oKTtlLkFzeW5jTWVzc2FnZVJlYWRlcj1oO3ZhciBiPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dmFyIHI9ZS5jYWxsKHRoaXMsbmV3IFVpbnQ4QXJyYXkoMCkpfHx0aGlzO3JldHVybiByLl9zY2hlbWE9ITEsci5fYm9keT1bXSxyLl9iYXRjaEluZGV4PTAsci5fZGljdGlvbmFyeUluZGV4PTAsci5fanNvbj10IGluc3RhbmNlb2YgYy5BcnJvd0pTT04/dDpuZXcgYy5BcnJvd0pTT04odCkscn1yZXR1cm4gdC5fX2V4dGVuZHMobixlKSxuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fanNvbjtpZighdGhpcy5fc2NoZW1hKXJldHVybiB0aGlzLl9zY2hlbWE9ITAse2RvbmU6ITEsdmFsdWU6aS5NZXNzYWdlLmZyb21KU09OKGUuc2NoZW1hLHIuTWVzc2FnZUhlYWRlci5TY2hlbWEpfTtpZih0aGlzLl9kaWN0aW9uYXJ5SW5kZXg8ZS5kaWN0aW9uYXJpZXMubGVuZ3RoKXt2YXIgdD1lLmRpY3Rpb25hcmllc1t0aGlzLl9kaWN0aW9uYXJ5SW5kZXgrK107cmV0dXJuIHRoaXMuX2JvZHk9dC5kYXRhLmNvbHVtbnMse2RvbmU6ITEsdmFsdWU6aS5NZXNzYWdlLmZyb21KU09OKHQsci5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaCl9fWlmKHRoaXMuX2JhdGNoSW5kZXg8ZS5iYXRjaGVzLmxlbmd0aCl7dD1lLmJhdGNoZXNbdGhpcy5fYmF0Y2hJbmRleCsrXTtyZXR1cm4gdGhpcy5fYm9keT10LmNvbHVtbnMse2RvbmU6ITEsdmFsdWU6aS5NZXNzYWdlLmZyb21KU09OKHQsci5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoKX19cmV0dXJuIHRoaXMuX2JvZHk9W10sYy5JVEVSQVRPUl9ET05FfSxuLnByb3RvdHlwZS5yZWFkTWVzc2FnZUJvZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIGUocil7cmV0dXJuKHJ8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuX19zcHJlYWQocixuLlZBTElESVRZJiZbbi5WQUxJRElUWV18fFtdLG4uVFlQRSYmW24uVFlQRV18fFtdLG4uT0ZGU0VUJiZbbi5PRkZTRVRdfHxbXSxuLkRBVEEmJltuLkRBVEFdfHxbXSxlKG4uY2hpbGRyZW4pKX0pLFtdKX0odGhpcy5fYm9keSl9LG4ucHJvdG90eXBlLnJlYWRNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCh0PXRoaXMubmV4dCgpKS5kb25lKXJldHVybiBudWxsO2lmKG51bGwhPWUmJnQudmFsdWUuaGVhZGVyVHlwZSE9PWUpdGhyb3cgbmV3IEVycm9yKGwoZSkpO3JldHVybiB0LnZhbHVlfSxuLnByb3RvdHlwZS5yZWFkU2NoZW1hPWZ1bmN0aW9uKCl7dmFyIGU9ci5NZXNzYWdlSGVhZGVyLlNjaGVtYSx0PXRoaXMucmVhZE1lc3NhZ2UoZSksbj1udWxsPT10P3ZvaWQgMDp0LmhlYWRlcigpO2lmKCF0fHwhbil0aHJvdyBuZXcgRXJyb3IoZihlKSk7cmV0dXJuIG59LG59KHkpO2UuSlNPTk1lc3NhZ2VSZWFkZXI9YixlLlBBRERJTkc9NCxlLk1BR0lDX1NUUj0iQVJST1cxIixlLk1BR0lDPW5ldyBVaW50OEFycmF5KGUuTUFHSUNfU1RSLmxlbmd0aCk7Zm9yKHZhciB2PTA7djxlLk1BR0lDX1NUUi5sZW5ndGg7dis9MSllLk1BR0lDW3ZdPWUuTUFHSUNfU1RSLmNoYXJDb2RlQXQodik7ZS5jaGVja0Zvck1hZ2ljQXJyb3dTdHJpbmc9ZnVuY3Rpb24odCxyKXt2b2lkIDA9PT1yJiYocj0wKTtmb3IodmFyIG49LTEsaT1lLk1BR0lDLmxlbmd0aDsrK248aTspaWYoZS5NQUdJQ1tuXSE9PXRbcituXSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5tYWdpY0xlbmd0aD1lLk1BR0lDLmxlbmd0aCxlLm1hZ2ljQW5kUGFkZGluZz1lLm1hZ2ljTGVuZ3RoK2UuUEFERElORyxlLm1hZ2ljWDJBbmRQYWRkaW5nPTIqZS5tYWdpY0xlbmd0aCtlLlBBRERJTkd9KE91KTt2YXIgaHM9e307IWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmNvbXBhcmVUeXBlcz1lLmNvbXBhcmVGaWVsZHM9ZS5jb21wYXJlU2NoZW1hcz1lLmluc3RhbmNlPWUuVHlwZUNvbXBhcmF0b3I9dm9pZCAwO3ZhciB0PUguZXhwb3J0cyxyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB0Ll9fZXh0ZW5kcyhyLGUpLHIucHJvdG90eXBlLmNvbXBhcmVTY2hlbWFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fHx0IGluc3RhbmNlb2YgZS5jb25zdHJ1Y3RvciYmdGhpcy5jb21wYXJlTWFueUZpZWxkcyhlLmZpZWxkcyx0LmZpZWxkcyl9LHIucHJvdG90eXBlLmNvbXBhcmVNYW55RmllbGRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gZT09PXR8fEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkodCkmJmUubGVuZ3RoPT09dC5sZW5ndGgmJmUuZXZlcnkoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIuY29tcGFyZUZpZWxkcyhlLHRbbl0pfSkpfSxyLnByb3RvdHlwZS5jb21wYXJlRmllbGRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fHx0IGluc3RhbmNlb2YgZS5jb25zdHJ1Y3RvciYmZS5uYW1lPT09dC5uYW1lJiZlLm51bGxhYmxlPT09dC5udWxsYWJsZSYmdGhpcy52aXNpdChlLnR5cGUsdC50eXBlKX0scn0oZGkuVmlzaXRvcik7ZnVuY3Rpb24gbihlLHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcn1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGU9PT10fHxuKGUsdCl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLmJpdFdpZHRoPT09dC5iaXRXaWR0aCYmZS5pc1NpZ25lZD09PXQuaXNTaWduZWR9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLnByZWNpc2lvbj09PXQucHJlY2lzaW9ufWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZT09PXR8fG4oZSx0KSYmZS51bml0PT09dC51bml0fWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZT09PXR8fG4oZSx0KSYmZS51bml0PT09dC51bml0JiZlLnRpbWV6b25lPT09dC50aW1lem9uZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGU9PT10fHxuKGUsdCkmJmUudW5pdD09PXQudW5pdCYmZS5iaXRXaWR0aD09PXQuYml0V2lkdGh9ZnVuY3Rpb24gbCh0LHIpe3JldHVybiB0PT09cnx8bih0LHIpJiZ0Lm1vZGU9PT1yLm1vZGUmJnQudHlwZUlkcy5ldmVyeSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXIudHlwZUlkc1t0XX0pKSYmZS5pbnN0YW5jZS5jb21wYXJlTWFueUZpZWxkcyh0LmNoaWxkcmVuLHIuY2hpbGRyZW4pfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZT09PXR8fG4oZSx0KSYmZS51bml0PT09dC51bml0fWUuVHlwZUNvbXBhcmF0b3I9cixyLnByb3RvdHlwZS52aXNpdE51bGw9aSxyLnByb3RvdHlwZS52aXNpdEJvb2w9aSxyLnByb3RvdHlwZS52aXNpdEludD1vLHIucHJvdG90eXBlLnZpc2l0SW50OD1vLHIucHJvdG90eXBlLnZpc2l0SW50MTY9byxyLnByb3RvdHlwZS52aXNpdEludDMyPW8sci5wcm90b3R5cGUudmlzaXRJbnQ2ND1vLHIucHJvdG90eXBlLnZpc2l0VWludDg9byxyLnByb3RvdHlwZS52aXNpdFVpbnQxNj1vLHIucHJvdG90eXBlLnZpc2l0VWludDMyPW8sci5wcm90b3R5cGUudmlzaXRVaW50NjQ9byxyLnByb3RvdHlwZS52aXNpdEZsb2F0PWEsci5wcm90b3R5cGUudmlzaXRGbG9hdDE2PWEsci5wcm90b3R5cGUudmlzaXRGbG9hdDMyPWEsci5wcm90b3R5cGUudmlzaXRGbG9hdDY0PWEsci5wcm90b3R5cGUudmlzaXRVdGY4PWksci5wcm90b3R5cGUudmlzaXRCaW5hcnk9aSxyLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLmJ5dGVXaWR0aD09PXQuYnl0ZVdpZHRofSxyLnByb3RvdHlwZS52aXNpdERhdGU9dSxyLnByb3RvdHlwZS52aXNpdERhdGVEYXk9dSxyLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD11LHIucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPXMsci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9cyxyLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPXMsci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD1zLHIucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1zLHIucHJvdG90eXBlLnZpc2l0VGltZT1jLHIucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZD1jLHIucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPWMsci5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQ9YyxyLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPWMsci5wcm90b3R5cGUudmlzaXREZWNpbWFsPWksci5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT1yfHxuKHQscikmJnQuY2hpbGRyZW4ubGVuZ3RoPT09ci5jaGlsZHJlbi5sZW5ndGgmJmUuaW5zdGFuY2UuY29tcGFyZU1hbnlGaWVsZHModC5jaGlsZHJlbixyLmNoaWxkcmVuKX0sci5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXJ8fG4odCxyKSYmdC5jaGlsZHJlbi5sZW5ndGg9PT1yLmNoaWxkcmVuLmxlbmd0aCYmZS5pbnN0YW5jZS5jb21wYXJlTWFueUZpZWxkcyh0LmNoaWxkcmVuLHIuY2hpbGRyZW4pfSxyLnByb3RvdHlwZS52aXNpdFVuaW9uPWwsci5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPWwsci5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj1sLHIucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09cnx8bih0LHIpJiZ0LmlkPT09ci5pZCYmdC5pc09yZGVyZWQ9PT1yLmlzT3JkZXJlZCYmZS5pbnN0YW5jZS52aXNpdCh0LmluZGljZXMsci5pbmRpY2VzKSYmZS5pbnN0YW5jZS52aXNpdCh0LmRpY3Rpb25hcnksci5kaWN0aW9uYXJ5KX0sci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mLHIucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPWYsci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD1mLHIucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09cnx8bih0LHIpJiZ0Lmxpc3RTaXplPT09ci5saXN0U2l6ZSYmdC5jaGlsZHJlbi5sZW5ndGg9PT1yLmNoaWxkcmVuLmxlbmd0aCYmZS5pbnN0YW5jZS5jb21wYXJlTWFueUZpZWxkcyh0LmNoaWxkcmVuLHIuY2hpbGRyZW4pfSxyLnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09cnx8bih0LHIpJiZ0LmtleXNTb3J0ZWQ9PT1yLmtleXNTb3J0ZWQmJnQuY2hpbGRyZW4ubGVuZ3RoPT09ci5jaGlsZHJlbi5sZW5ndGgmJmUuaW5zdGFuY2UuY29tcGFyZU1hbnlGaWVsZHModC5jaGlsZHJlbixyLmNoaWxkcmVuKX0sZS5pbnN0YW5jZT1uZXcgcixlLmNvbXBhcmVTY2hlbWFzPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuaW5zdGFuY2UuY29tcGFyZVNjaGVtYXModCxyKX0sZS5jb21wYXJlRmllbGRzPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuaW5zdGFuY2UuY29tcGFyZUZpZWxkcyh0LHIpfSxlLmNvbXBhcmVUeXBlcz1mdW5jdGlvbih0LHIpe3JldHVybiBlLmluc3RhbmNlLnZpc2l0KHQscil9fShocyk7dmFyIGJzPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShicywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYnMuVmVjdG9yQXNzZW1ibGVyPXZvaWQgMDt2YXIgdnM9SC5leHBvcnRzLF9zPWdlLG1zPXZhLGdzPUcsQnM9d2UsVHM9R2EsSXM9U3Usd3M9RmUsT3M9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5fYnl0ZUxlbmd0aD0wLHQuX25vZGVzPVtdLHQuX2J1ZmZlcnM9W10sdC5fYnVmZmVyUmVnaW9ucz1bXSx0fXJldHVybiB2cy5fX2V4dGVuZHModCxlKSx0LmFzc2VtYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3ZhciBuPW5ldyB0LGk9VHMuc2VsZWN0VmVjdG9yQ2hpbGRyZW5BcmdzKG1zLlJlY29yZEJhdGNoLGUpLG89dnMuX19yZWFkKG4udmlzaXRNYW55KGkpLDEpLGE9b1swXSx1PXZvaWQgMD09PWE/bjphO3JldHVybiB1fSx0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0KXtpZighd3MuRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KHQudHlwZSkpe3ZhciByPXQuZGF0YSxuPXQubGVuZ3RoLGk9dC5udWxsQ291bnQ7aWYobj4yMTQ3NDgzNjQ3KXRocm93IG5ldyBSYW5nZUVycm9yKCJDYW5ub3Qgd3JpdGUgYXJyYXlzIGxhcmdlciB0aGFuIDJeMzEgLSAxIGluIGxlbmd0aCIpO3dzLkRhdGFUeXBlLmlzTnVsbCh0LnR5cGUpfHxTcy5jYWxsKHRoaXMsaTw9MD9uZXcgVWludDhBcnJheSgwKTpCcy50cnVuY2F0ZUJpdG1hcChyLm9mZnNldCxuLHIubnVsbEJpdG1hcCkpLHRoaXMubm9kZXMucHVzaChuZXcgSXMuRmllbGROb2RlKG4saSkpfXJldHVybiBlLnByb3RvdHlwZS52aXNpdC5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZpc2l0KGUuaW5kaWNlcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibm9kZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJidWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J5dGVMZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJidWZmZXJSZWdpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclJlZ2lvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0oZGkuVmlzaXRvcik7ZnVuY3Rpb24gU3MoZSl7dmFyIHQ9ZS5ieXRlTGVuZ3RoKzcmLTg7cmV0dXJuIHRoaXMuYnVmZmVycy5wdXNoKGUpLHRoaXMuYnVmZmVyUmVnaW9ucy5wdXNoKG5ldyBJcy5CdWZmZXJSZWdpb24odGhpcy5fYnl0ZUxlbmd0aCx0KSksdGhpcy5fYnl0ZUxlbmd0aCs9dCx0aGlzfWZ1bmN0aW9uIEFzKGUpe3JldHVybiBTcy5jYWxsKHRoaXMsZS52YWx1ZXMuc3ViYXJyYXkoMCxlLmxlbmd0aCplLnN0cmlkZSkpfWZ1bmN0aW9uIERzKGUpe3ZhciB0PWUubGVuZ3RoLHI9ZS52YWx1ZXMsbj1lLnZhbHVlT2Zmc2V0cyxpPW5bMF0sbz1uW3RdLGE9TWF0aC5taW4oby1pLHIuYnl0ZUxlbmd0aC1pKTtyZXR1cm4gU3MuY2FsbCh0aGlzLGdzLnJlYmFzZVZhbHVlT2Zmc2V0cygtblswXSx0LG4pKSxTcy5jYWxsKHRoaXMsci5zdWJhcnJheShpLGkrYSkpLHRoaXN9ZnVuY3Rpb24gVnMoZSl7dmFyIHQ9ZS5sZW5ndGgscj1lLnZhbHVlT2Zmc2V0cztyZXR1cm4gciYmU3MuY2FsbCh0aGlzLGdzLnJlYmFzZVZhbHVlT2Zmc2V0cyhyWzBdLHQscikpLHRoaXMudmlzaXQoZS5nZXRDaGlsZEF0KDApKX1mdW5jdGlvbiBQcyhlKXtyZXR1cm4gdGhpcy52aXNpdE1hbnkoZS50eXBlLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5nZXRDaGlsZEF0KHIpfSkpLmZpbHRlcihCb29sZWFuKSlbMF19YnMuVmVjdG9yQXNzZW1ibGVyPU9zLE9zLnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUubnVsbENvdW50Pj1lLmxlbmd0aD9Tcy5jYWxsKHRoaXMsbmV3IFVpbnQ4QXJyYXkoMCkpOih0PWUudmFsdWVzKWluc3RhbmNlb2YgVWludDhBcnJheT9Tcy5jYWxsKHRoaXMsQnMudHJ1bmNhdGVCaXRtYXAoZS5vZmZzZXQsZS5sZW5ndGgsdCkpOlNzLmNhbGwodGhpcyxCcy5wYWNrQm9vbHMoZSkpfSxPcy5wcm90b3R5cGUudmlzaXRJbnQ9QXMsT3MucHJvdG90eXBlLnZpc2l0RmxvYXQ9QXMsT3MucHJvdG90eXBlLnZpc2l0VXRmOD1EcyxPcy5wcm90b3R5cGUudmlzaXRCaW5hcnk9RHMsT3MucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PUFzLE9zLnByb3RvdHlwZS52aXNpdERhdGU9QXMsT3MucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPUFzLE9zLnByb3RvdHlwZS52aXNpdFRpbWU9QXMsT3MucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1BcyxPcy5wcm90b3R5cGUudmlzaXRMaXN0PVZzLE9zLnByb3RvdHlwZS52aXNpdFN0cnVjdD1QcyxPcy5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGUscj1lLmxlbmd0aCxuPWUudHlwZUlkcyxpPWUudmFsdWVPZmZzZXRzO2lmKFNzLmNhbGwodGhpcyxuKSx0Lm1vZGU9PT1fcy5Vbmlvbk1vZGUuU3BhcnNlKXJldHVybiBQcy5jYWxsKHRoaXMsZSk7aWYodC5tb2RlPT09X3MuVW5pb25Nb2RlLkRlbnNlKXtpZihlLm9mZnNldDw9MClyZXR1cm4gU3MuY2FsbCh0aGlzLGkpLFBzLmNhbGwodGhpcyxlKTtmb3IodmFyIG89bi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsdCl9KSxuWzBdKSxhPW5ldyBJbnQzMkFycmF5KG8rMSksdT1uZXcgSW50MzJBcnJheShvKzEpLmZpbGwoLTEpLHM9bmV3IEludDMyQXJyYXkociksYz1ncy5yZWJhc2VWYWx1ZU9mZnNldHMoLWlbMF0scixpKSxsPXZvaWQgMCxmPXZvaWQgMCxkPS0xOysrZDxyOyktMT09PShmPXVbbD1uW2RdXSkmJihmPXVbbF09Y1tsXSksc1tkXT1jW2RdLWYsKythW2xdO1NzLmNhbGwodGhpcyxzKTtmb3IodmFyIHA9dm9pZCAwLHk9LTEsaD10LmNoaWxkcmVuLmxlbmd0aDsrK3k8aDspaWYocD1lLmdldENoaWxkQXQoeSkpe2w9dC50eXBlSWRzW3ldO3ZhciBiPU1hdGgubWluKHIsYVtsXSk7dGhpcy52aXNpdChwLnNsaWNlKHVbbF0sYikpfX1yZXR1cm4gdGhpc30sT3MucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9QXMsT3MucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1WcyxPcy5wcm90b3R5cGUudmlzaXRNYXA9VnM7dmFyIE1zPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShNcywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksTXMuSlNPTlR5cGVBc3NlbWJsZXI9dm9pZCAwO3ZhciBGcz1ILmV4cG9ydHMsVXM9QmUsanM9Z2UseHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZzLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMDplLnByb3RvdHlwZS52aXNpdC5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCl9fSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUuYml0V2lkdGgsbj1lLmlzU2lnbmVkO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSxiaXRXaWR0aDpyLGlzU2lnbmVkOm59fSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5wcmVjaXNpb247cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpLHByZWNpc2lvbjpqcy5QcmVjaXNpb25bcl19fSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCl9fSx0LnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQ7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpfX0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKX19LHQucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUuc2NhbGUsbj1lLnByZWNpc2lvbjtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksc2NhbGU6cixwcmVjaXNpb246bn19LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUudW5pdDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksdW5pdDpqcy5EYXRlVW5pdFtyXX19LHQucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUudW5pdCxuPWUuYml0V2lkdGg7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpLHVuaXQ6anMuVGltZVVuaXRbcl0sYml0V2lkdGg6bn19LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS50aW1lem9uZSxuPWUudW5pdDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksdW5pdDpqcy5UaW1lVW5pdFtuXSx0aW1lem9uZTpyfX0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUudW5pdDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksdW5pdDpqcy5JbnRlcnZhbFVuaXRbcl19fSx0LnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQ7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpfX0sdC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQ7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpfX0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUubW9kZSxuPWUudHlwZUlkcztyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksbW9kZTpqcy5Vbmlvbk1vZGVbcl0sdHlwZUlkczpGcy5fX3NwcmVhZChuKX19LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdChlLmRpY3Rpb25hcnkpfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUuYnl0ZVdpZHRoO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSxieXRlV2lkdGg6cn19LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUubGlzdFNpemU7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpLGxpc3RTaXplOnJ9fSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZCxyPWUua2V5c1NvcnRlZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksa2V5c1NvcnRlZDpyfX0sdH0oZGkuVmlzaXRvcik7TXMuSlNPTlR5cGVBc3NlbWJsZXI9eHM7dmFyIExzPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShMcywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksTHMuSlNPTlZlY3RvckFzc2VtYmxlcj12b2lkIDA7dmFyIFJzPUguZXhwb3J0cyxOcz1NcixFcz1tYSxDcz1fZSx6cz1nZSxrcz12YSxXcz1nZSxZcz13ZSxIcz1HYSxHcz1GZSxKcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUnMuX19leHRlbmRzKHQsZSksdC5hc3NlbWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4obmV3IHQpLnZpc2l0TWFueShIcy5zZWxlY3RDb2x1bW5DaGlsZHJlbkFyZ3Moa3MuUmVjb3JkQmF0Y2gsZSkpfSx0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0KXt2YXIgcixuPXQuZGF0YSxpPXQubmFtZSxvPXQubGVuZ3RoLGE9bi5vZmZzZXQsdT1uLm51bGxDb3VudCxzPW4ubnVsbEJpdG1hcCxjPUdzLkRhdGFUeXBlLmlzRGljdGlvbmFyeSh0LnR5cGUpP3QudHlwZS5pbmRpY2VzOnQudHlwZSxsPU9iamVjdC5hc3NpZ24oW10sbi5idWZmZXJzLCgocj17fSlbenMuQnVmZmVyVHlwZS5WQUxJRElUWV09dm9pZCAwLHIpKTtyZXR1cm4gUnMuX19hc3NpZ24oe25hbWU6aSxjb3VudDpvLFZBTElESVRZOkdzLkRhdGFUeXBlLmlzTnVsbChjKT92b2lkIDA6dTw9MD9BcnJheS5mcm9tKHtsZW5ndGg6b30sKGZ1bmN0aW9uKCl7cmV0dXJuIDF9KSk6UnMuX19zcHJlYWQobmV3IFlzLkJpdEl0ZXJhdG9yKHMsYSxvLG51bGwsWXMuZ2V0Qml0KSl9LGUucHJvdG90eXBlLnZpc2l0LmNhbGwodGhpcyxDcy5WZWN0b3IubmV3KG4uY2xvbmUoYyxhLG8sMCxsKSkpKX0sdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKCl7cmV0dXJue319LHQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlcyxyPWUub2Zmc2V0LG49ZS5sZW5ndGg7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQobmV3IFlzLkJpdEl0ZXJhdG9yKHQscixuLG51bGwsWXMuZ2V0Qm9vbCkpfX0sdC5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6ZS50eXBlLmJpdFdpZHRoPDY0P1JzLl9fc3ByZWFkKGUudmFsdWVzKTpScy5fX3NwcmVhZChLcyhlLnZhbHVlcywyKSl9fSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOlJzLl9fc3ByZWFkKGUudmFsdWVzKX19LHQucHJvdG90eXBlLnZpc2l0VXRmOD1mdW5jdGlvbihlKXtyZXR1cm57REFUQTpScy5fX3NwcmVhZChlKSxPRkZTRVQ6UnMuX19zcHJlYWQoZS52YWx1ZU9mZnNldHMpfX0sdC5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQoWnMoZSkpLE9GRlNFVDpScy5fX3NwcmVhZChlLnZhbHVlT2Zmc2V0cyl9fSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm57REFUQTpScy5fX3NwcmVhZChacyhlKSl9fSx0LnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6ZS50eXBlLnVuaXQ9PT1Xcy5EYXRlVW5pdC5EQVk/UnMuX19zcHJlYWQoZS52YWx1ZXMpOlJzLl9fc3ByZWFkKEtzKGUudmFsdWVzLDIpKX19LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOlJzLl9fc3ByZWFkKEtzKGUudmFsdWVzLDIpKX19LHQucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbihlKXtyZXR1cm57REFUQTplLnR5cGUudW5pdDxXcy5UaW1lVW5pdC5NSUNST1NFQ09ORD9Scy5fX3NwcmVhZChlLnZhbHVlcyk6UnMuX19zcHJlYWQoS3MoZS52YWx1ZXMsMikpfX0sdC5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOlJzLl9fc3ByZWFkKEtzKGUudmFsdWVzLDQpKX19LHQucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybntPRkZTRVQ6UnMuX19zcHJlYWQoZS52YWx1ZU9mZnNldHMpLGNoaWxkcmVuOmUudHlwZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQudmlzaXQobmV3IEVzLkNvbHVtbihyLFtlLmdldENoaWxkQXQobildKSl9KSl9fSx0LnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybntjaGlsZHJlbjplLnR5cGUuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihyLG4pe3JldHVybiB0LnZpc2l0KG5ldyBFcy5Db2x1bW4ocixbZS5nZXRDaGlsZEF0KG4pXSkpfSkpfX0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybntUWVBFOlJzLl9fc3ByZWFkKGUudHlwZUlkcyksT0ZGU0VUOmUudHlwZS5tb2RlPT09V3MuVW5pb25Nb2RlLkRlbnNlP1JzLl9fc3ByZWFkKGUudmFsdWVPZmZzZXRzKTp2b2lkIDAsY2hpbGRyZW46ZS50eXBlLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24ocixuKXtyZXR1cm4gdC52aXNpdChuZXcgRXMuQ29sdW1uKHIsW2UuZ2V0Q2hpbGRBdChuKV0pKX0pKX19LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQoZS52YWx1ZXMpfX0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJue2NoaWxkcmVuOmUudHlwZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQudmlzaXQobmV3IEVzLkNvbHVtbihyLFtlLmdldENoaWxkQXQobildKSl9KSl9fSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybntPRkZTRVQ6UnMuX19zcHJlYWQoZS52YWx1ZU9mZnNldHMpLGNoaWxkcmVuOmUudHlwZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQudmlzaXQobmV3IEVzLkNvbHVtbihyLFtlLmdldENoaWxkQXQobildKSl9KSl9fSx0fShkaS5WaXNpdG9yKTtmdW5jdGlvbiBacyhlKXt2YXIgdCxyLG4saSxvO3JldHVybiBScy5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmEudHJ5cy5wdXNoKFswLDUsNiw3XSksdD1Scy5fX3ZhbHVlcyhlKSxyPXQubmV4dCgpLGEubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHIuZG9uZT9bMyw0XTpbNCxyLnZhbHVlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIitlKygiMCIrKDI1NSZ0KS50b1N0cmluZygxNikpLnNsaWNlKC0yKX0pLCIiKS50b1VwcGVyQ2FzZSgpXTtjYXNlIDI6YS5zZW50KCksYS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gcj10Lm5leHQoKSxbMywxXTtjYXNlIDQ6cmV0dXJuWzMsN107Y2FzZSA1OnJldHVybiBuPWEuc2VudCgpLGk9e2Vycm9yOm59LFszLDddO2Nhc2UgNjp0cnl7ciYmIXIuZG9uZSYmKG89dC5yZXR1cm4pJiZvLmNhbGwodCl9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9cmV0dXJuWzddO2Nhc2UgNzpyZXR1cm5bMl19fSkpfWZ1bmN0aW9uIEtzKGUsdCl7dmFyIHIsbjtyZXR1cm4gUnMuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyPS0xLG49ZS5sZW5ndGgvdCxpLmxhYmVsPTE7Y2FzZSAxOnJldHVybisrcjxuP1s0LCIiK05zLkJOLm5ldyhlLnN1YmFycmF5KChyKzApKnQsKHIrMSkqdCksITEpXTpbMyw0XTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX1Mcy5KU09OVmVjdG9yQXNzZW1ibGVyPUpzLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3dSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksd3UuUmVjb3JkQmF0Y2hKU09OV3JpdGVyPXd1LlJlY29yZEJhdGNoRmlsZVdyaXRlcj13dS5SZWNvcmRCYXRjaFN0cmVhbVdyaXRlcj13dS5SZWNvcmRCYXRjaFdyaXRlcj12b2lkIDA7dmFyIFhzPUguZXhwb3J0cyxxcz1fYSxRcz1PdSwkcz1tYSxlYz1GZSx0Yz1EbixyYz1TdSxuYz1TdSxpYz1obyxvYz1nZSxhYz1ocyx1Yz1VbyxzYz1icyxjYz1NcyxsYz1McyxmYz1HLGRjPXZhLHBjPVEseWM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX3Bvc2l0aW9uPTAsci5fc3RhcnRlZD0hMSxyLl9zaW5rPW5ldyB1Yy5Bc3luY0J5dGVRdWV1ZSxyLl9zY2hlbWE9bnVsbCxyLl9kaWN0aW9uYXJ5QmxvY2tzPVtdLHIuX3JlY29yZEJhdGNoQmxvY2tzPVtdLHIuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHM9bmV3IE1hcCxwYy5pc09iamVjdCh0KXx8KHQ9e2F1dG9EZXN0cm95OiEwLHdyaXRlTGVnYWN5SXBjRm9ybWF0OiExfSksci5fYXV0b0Rlc3Ryb3k9ImJvb2xlYW4iIT10eXBlb2YgdC5hdXRvRGVzdHJveXx8dC5hdXRvRGVzdHJveSxyLl93cml0ZUxlZ2FjeUlwY0Zvcm1hdD0iYm9vbGVhbiI9PXR5cGVvZiB0LndyaXRlTGVnYWN5SXBjRm9ybWF0JiZ0LndyaXRlTGVnYWN5SXBjRm9ybWF0LHJ9cmV0dXJuIFhzLl9fZXh0ZW5kcyh0LGUpLHQudGhyb3VnaE5vZGU9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCcidGhyb3VnaE5vZGUiIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSx0LnRocm91Z2hET009ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoJyJ0aHJvdWdoRE9NIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx0aGlzLl9zaW5rLnRvU3RyaW5nKGUpfSx0LnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx0aGlzLl9zaW5rLnRvVWludDhBcnJheShlKX0sdC5wcm90b3R5cGUud3JpdGVBbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gcGMuaXNQcm9taXNlKGUpP2UudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQud3JpdGVBbGwoZSl9KSk6cGMuaXNBc3luY0l0ZXJhYmxlKGUpP21jKHRoaXMsZSk6X2ModGhpcyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjbG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2luay5jbG9zZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpbmtbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl9LHQucHJvdG90eXBlLnRvRE9NU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaW5rLnRvRE9NU3RyZWFtKGUpfSx0LnByb3RvdHlwZS50b05vZGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NpbmsudG9Ob2RlU3RyZWFtKGUpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2V0KCkuX3NpbmsuY2xvc2UoKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzZXQoKS5fc2luay5hYm9ydChlKX0sdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1dG9EZXN0cm95P3RoaXMuY2xvc2UoKTp0aGlzLnJlc2V0KHRoaXMuX3NpbmssdGhpcy5fc2NoZW1hKSx0aGlzfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10aGlzLl9zaW5rKSx2b2lkIDA9PT10JiYodD1udWxsKSxlPT09dGhpcy5fc2lua3x8ZSBpbnN0YW5jZW9mIHVjLkFzeW5jQnl0ZVF1ZXVlP3RoaXMuX3Npbms9ZToodGhpcy5fc2luaz1uZXcgdWMuQXN5bmNCeXRlUXVldWUsZSYmcGMuaXNXcml0YWJsZURPTVN0cmVhbShlKT90aGlzLnRvRE9NU3RyZWFtKHt0eXBlOiJieXRlcyJ9KS5waXBlVG8oZSk6ZSYmcGMuaXNXcml0YWJsZU5vZGVTdHJlYW0oZSkmJnRoaXMudG9Ob2RlU3RyZWFtKHtvYmplY3RNb2RlOiExfSkucGlwZShlKSksdGhpcy5fc3RhcnRlZCYmdGhpcy5fc2NoZW1hJiZ0aGlzLl93cml0ZUZvb3Rlcih0aGlzLl9zY2hlbWEpLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fZGljdGlvbmFyeUJsb2Nrcz1bXSx0aGlzLl9yZWNvcmRCYXRjaEJsb2Nrcz1bXSx0aGlzLl9kaWN0aW9uYXJ5RGVsdGFPZmZzZXRzPW5ldyBNYXAsdCYmYWMuY29tcGFyZVNjaGVtYXModCx0aGlzLl9zY2hlbWEpfHwobnVsbD09PXQ/KHRoaXMuX3Bvc2l0aW9uPTAsdGhpcy5fc2NoZW1hPW51bGwpOih0aGlzLl9zdGFydGVkPSEwLHRoaXMuX3NjaGVtYT10LHRoaXMuX3dyaXRlU2NoZW1hKHQpKSksdGhpc30sdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZighdGhpcy5fc2luayl0aHJvdyBuZXcgRXJyb3IoIlJlY29yZEJhdGNoV3JpdGVyIGlzIGNsb3NlZCIpO2lmKG51bGw9PWUpcmV0dXJuIHRoaXMuZmluaXNoKCkmJnZvaWQgMDtpZihlIGluc3RhbmNlb2YgcXMuVGFibGUmJiEodD1lLnNjaGVtYSkpcmV0dXJuIHRoaXMuZmluaXNoKCkmJnZvaWQgMDtpZihlIGluc3RhbmNlb2YgZGMuUmVjb3JkQmF0Y2gmJiEodD1lLnNjaGVtYSkpcmV0dXJuIHRoaXMuZmluaXNoKCkmJnZvaWQgMDtpZih0JiYhYWMuY29tcGFyZVNjaGVtYXModCx0aGlzLl9zY2hlbWEpKXtpZih0aGlzLl9zdGFydGVkJiZ0aGlzLl9hdXRvRGVzdHJveSlyZXR1cm4gdGhpcy5jbG9zZSgpO3RoaXMucmVzZXQodGhpcy5fc2luayx0KX1lIGluc3RhbmNlb2YgZGMuUmVjb3JkQmF0Y2g/ZSBpbnN0YW5jZW9mIGRjLl9JbnRlcm5hbEVtcHR5UGxhY2Vob2xkZXJSZWNvcmRCYXRjaHx8dGhpcy5fd3JpdGVSZWNvcmRCYXRjaChlKTplIGluc3RhbmNlb2YgcXMuVGFibGU/dGhpcy53cml0ZUFsbChlLmNodW5rcyk6cGMuaXNJdGVyYWJsZShlKSYmdGhpcy53cml0ZUFsbChlKX0sdC5wcm90b3R5cGUuX3dyaXRlTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTgpO3ZhciByPXQtMSxuPXJjLk1lc3NhZ2UuZW5jb2RlKGUpLGk9bi5ieXRlTGVuZ3RoLG89dGhpcy5fd3JpdGVMZWdhY3lJcGNGb3JtYXQ/NDo4LGE9aStvK3ImfnIsdT1hLWktbztyZXR1cm4gZS5oZWFkZXJUeXBlPT09b2MuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaD90aGlzLl9yZWNvcmRCYXRjaEJsb2Nrcy5wdXNoKG5ldyBpYy5GaWxlQmxvY2soYSxlLmJvZHlMZW5ndGgsdGhpcy5fcG9zaXRpb24pKTplLmhlYWRlclR5cGU9PT1vYy5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaCYmdGhpcy5fZGljdGlvbmFyeUJsb2Nrcy5wdXNoKG5ldyBpYy5GaWxlQmxvY2soYSxlLmJvZHlMZW5ndGgsdGhpcy5fcG9zaXRpb24pKSx0aGlzLl93cml0ZUxlZ2FjeUlwY0Zvcm1hdHx8dGhpcy5fd3JpdGUoSW50MzJBcnJheS5vZigtMSkpLHRoaXMuX3dyaXRlKEludDMyQXJyYXkub2YoYS1vKSksaT4wJiZ0aGlzLl93cml0ZShuKSx0aGlzLl93cml0ZVBhZGRpbmcodSl9LHQucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlKXtpZih0aGlzLl9zdGFydGVkKXt2YXIgdD1mYy50b1VpbnQ4QXJyYXkoZSk7dCYmdC5ieXRlTGVuZ3RoPjAmJih0aGlzLl9zaW5rLndyaXRlKHQpLHRoaXMuX3Bvc2l0aW9uKz10LmJ5dGVMZW5ndGgpfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS5fd3JpdGVTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dyaXRlTWVzc2FnZShyYy5NZXNzYWdlLmZyb20oZSkpfSx0LnByb3RvdHlwZS5fd3JpdGVGb290ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dyaXRlTGVnYWN5SXBjRm9ybWF0P3RoaXMuX3dyaXRlKEludDMyQXJyYXkub2YoMCkpOnRoaXMuX3dyaXRlKEludDMyQXJyYXkub2YoLTEsMCkpfSx0LnByb3RvdHlwZS5fd3JpdGVNYWdpYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0ZShRcy5NQUdJQyl9LHQucHJvdG90eXBlLl93cml0ZVBhZGRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD90aGlzLl93cml0ZShuZXcgVWludDhBcnJheShlKSk6dGhpc30sdC5wcm90b3R5cGUuX3dyaXRlUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9c2MuVmVjdG9yQXNzZW1ibGVyLmFzc2VtYmxlKGUpLHI9dC5ieXRlTGVuZ3RoLG49dC5ub2RlcyxpPXQuYnVmZmVyUmVnaW9ucyxvPXQuYnVmZmVycyxhPW5ldyBuYy5SZWNvcmRCYXRjaChlLmxlbmd0aCxuLGkpLHU9cmMuTWVzc2FnZS5mcm9tKGEscik7cmV0dXJuIHRoaXMuX3dyaXRlRGljdGlvbmFyaWVzKGUpLl93cml0ZU1lc3NhZ2UodSkuX3dyaXRlQm9keUJ1ZmZlcnMobyl9LHQucHJvdG90eXBlLl93cml0ZURpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHMuc2V0KHQsZS5sZW5ndGgrKHRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHMuZ2V0KHQpfHwwKSk7dmFyIG49c2MuVmVjdG9yQXNzZW1ibGVyLmFzc2VtYmxlKGUpLGk9bi5ieXRlTGVuZ3RoLG89bi5ub2RlcyxhPW4uYnVmZmVyUmVnaW9ucyx1PW4uYnVmZmVycyxzPW5ldyBuYy5SZWNvcmRCYXRjaChlLmxlbmd0aCxvLGEpLGM9bmV3IG5jLkRpY3Rpb25hcnlCYXRjaChzLHQsciksbD1yYy5NZXNzYWdlLmZyb20oYyxpKTtyZXR1cm4gdGhpcy5fd3JpdGVNZXNzYWdlKGwpLl93cml0ZUJvZHlCdWZmZXJzKHUpfSx0LnByb3RvdHlwZS5fd3JpdGVCb2R5QnVmZmVycz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuLGk9LTEsbz1lLmxlbmd0aDsrK2k8bzspKHQ9ZVtpXSkmJihyPXQuYnl0ZUxlbmd0aCk+MCYmKHRoaXMuX3dyaXRlKHQpLChuPShyKzcmLTgpLXIpPjAmJnRoaXMuX3dyaXRlUGFkZGluZyhuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLl93cml0ZURpY3Rpb25hcmllcz1mdW5jdGlvbihlKXt2YXIgdCxyLG4saTt0cnl7Zm9yKHZhciBvPVhzLl9fdmFsdWVzKGUuZGljdGlvbmFyaWVzKSxhPW8ubmV4dCgpOyFhLmRvbmU7YT1vLm5leHQoKSl7dmFyIHU9WHMuX19yZWFkKGEudmFsdWUsMikscz11WzBdLGM9dVsxXSxsPXRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHMuZ2V0KHMpfHwwO2lmKDA9PT1sfHwoYz1jLnNsaWNlKGwpKS5sZW5ndGg+MCl7dmFyIGY9ImNodW5rcyJpbiBjP2MuY2h1bmtzOltjXTt0cnl7Zm9yKHZhciBkPShuPXZvaWQgMCxYcy5fX3ZhbHVlcyhmKSkscD1kLm5leHQoKTshcC5kb25lO3A9ZC5uZXh0KCkpe3ZhciB5PXAudmFsdWU7dGhpcy5fd3JpdGVEaWN0aW9uYXJ5QmF0Y2goeSxzLGw+MCksbCs9eS5sZW5ndGh9fWNhdGNoKGgpe249e2Vycm9yOmh9fWZpbmFsbHl7dHJ5e3AmJiFwLmRvbmUmJihpPWQucmV0dXJuKSYmaS5jYWxsKGQpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX19fX1jYXRjaChiKXt0PXtlcnJvcjpifX1maW5hbGx5e3RyeXthJiYhYS5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIHRoaXN9LHR9KCQuUmVhZGFibGVJbnRlcm9wKTt3dS5SZWNvcmRCYXRjaFdyaXRlcj15Yzt2YXIgaGM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFhzLl9fZXh0ZW5kcyh0LGUpLHQud3JpdGVBbGw9ZnVuY3Rpb24oZSxyKXt2YXIgbj1uZXcgdChyKTtyZXR1cm4gcGMuaXNQcm9taXNlKGUpP2UudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIG4ud3JpdGVBbGwoZSl9KSk6cGMuaXNBc3luY0l0ZXJhYmxlKGUpP21jKG4sZSk6X2MobixlKX0sdH0oeWMpO3d1LlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyPWhjO3ZhciBiYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Ll9hdXRvRGVzdHJveT0hMCx0fXJldHVybiBYcy5fX2V4dGVuZHModCxlKSx0LndyaXRlQWxsPWZ1bmN0aW9uKGUpe3ZhciByPW5ldyB0O3JldHVybiBwYy5pc1Byb21pc2UoZSk/ZS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gci53cml0ZUFsbChlKX0pKTpwYy5pc0FzeW5jSXRlcmFibGUoZSk/bWMocixlKTpfYyhyLGUpfSx0LnByb3RvdHlwZS5fd3JpdGVTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dyaXRlTWFnaWMoKS5fd3JpdGVQYWRkaW5nKDIpfSx0LnByb3RvdHlwZS5fd3JpdGVGb290ZXI9ZnVuY3Rpb24odCl7dmFyIHI9aWMuRm9vdGVyLmVuY29kZShuZXcgaWMuRm9vdGVyKHQsb2MuTWV0YWRhdGFWZXJzaW9uLlY0LHRoaXMuX3JlY29yZEJhdGNoQmxvY2tzLHRoaXMuX2RpY3Rpb25hcnlCbG9ja3MpKTtyZXR1cm4gZS5wcm90b3R5cGUuX3dyaXRlRm9vdGVyLmNhbGwodGhpcyx0KS5fd3JpdGUocikuX3dyaXRlKEludDMyQXJyYXkub2Yoci5ieXRlTGVuZ3RoKSkuX3dyaXRlTWFnaWMoKX0sdH0oeWMpO3d1LlJlY29yZEJhdGNoRmlsZVdyaXRlcj1iYzt2YXIgdmM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5fYXV0b0Rlc3Ryb3k9ITAsdC5fcmVjb3JkQmF0Y2hlcz1bXSx0Ll9kaWN0aW9uYXJpZXM9W10sdH1yZXR1cm4gWHMuX19leHRlbmRzKHQsZSksdC53cml0ZUFsbD1mdW5jdGlvbihlKXtyZXR1cm4obmV3IHQpLndyaXRlQWxsKGUpfSx0LnByb3RvdHlwZS5fd3JpdGVNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLl93cml0ZUZvb3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuX3dyaXRlU2NoZW1hPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl93cml0ZSgne1xuICAic2NoZW1hIjogJytKU09OLnN0cmluZ2lmeSh7ZmllbGRzOmUuZmllbGRzLm1hcChnYyl9LG51bGwsMikpfSx0LnByb3RvdHlwZS5fd3JpdGVEaWN0aW9uYXJpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGljdGlvbmFyaWVzLnNpemU+MCYmdGhpcy5fZGljdGlvbmFyaWVzLnB1c2goZSksdGhpc30sdC5wcm90b3R5cGUuX3dyaXRlRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLHRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHMuc2V0KHQsZS5sZW5ndGgrKHRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHMuZ2V0KHQpfHwwKSksdGhpcy5fd3JpdGUoMD09PXRoaXMuX2RpY3Rpb25hcnlCbG9ja3MubGVuZ3RoPyIgICAgIjoiLFxuICAgICIpLHRoaXMuX3dyaXRlKCIiK2Z1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG49bmV3IHRjLkZpZWxkKCIiK3QsZS50eXBlLGUubnVsbENvdW50PjApLGk9bGMuSlNPTlZlY3RvckFzc2VtYmxlci5hc3NlbWJsZShuZXcgJHMuQ29sdW1uKG4sW2VdKSk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtpZDp0LGlzRGVsdGE6cixkYXRhOntjb3VudDplLmxlbmd0aCxjb2x1bW5zOml9fSxudWxsLDIpfShlLHQscikpLHRoaXMuX2RpY3Rpb25hcnlCbG9ja3MucHVzaChuZXcgaWMuRmlsZUJsb2NrKDAsMCwwKSksdGhpc30sdC5wcm90b3R5cGUuX3dyaXRlUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dyaXRlRGljdGlvbmFyaWVzKGUpLHRoaXMuX3JlY29yZEJhdGNoZXMucHVzaChlKSx0aGlzfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciB0LHIsbjtpZih0aGlzLl9kaWN0aW9uYXJpZXMubGVuZ3RoPjApe3RoaXMuX3dyaXRlKCcsXG4gICJkaWN0aW9uYXJpZXMiOiBbXG4nKTt0cnl7Zm9yKHZhciBpPVhzLl9fdmFsdWVzKHRoaXMuX2RpY3Rpb25hcmllcyksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBhPW8udmFsdWU7ZS5wcm90b3R5cGUuX3dyaXRlRGljdGlvbmFyaWVzLmNhbGwodGhpcyxhKX19Y2F0Y2goYyl7dD17ZXJyb3I6Y319ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXRoaXMuX3dyaXRlKCJcbiAgXSIpfWlmKHRoaXMuX3JlY29yZEJhdGNoZXMubGVuZ3RoPjApe2Zvcih2YXIgdT0tMSxzPXRoaXMuX3JlY29yZEJhdGNoZXMubGVuZ3RoOysrdTxzOyl0aGlzLl93cml0ZSgwPT09dT8nLFxuICAiYmF0Y2hlcyI6IFtcbiAgICAnOiIsXG4gICAgIiksdGhpcy5fd3JpdGUoIiIrKG49dGhpcy5fcmVjb3JkQmF0Y2hlc1t1XSxKU09OLnN0cmluZ2lmeSh7Y291bnQ6bi5sZW5ndGgsY29sdW1uczpsYy5KU09OVmVjdG9yQXNzZW1ibGVyLmFzc2VtYmxlKG4pfSxudWxsLDIpKSksdGhpcy5fcmVjb3JkQmF0Y2hCbG9ja3MucHVzaChuZXcgaWMuRmlsZUJsb2NrKDAsMCwwKSk7dGhpcy5fd3JpdGUoIlxuICBdIil9cmV0dXJuIHRoaXMuX3NjaGVtYSYmdGhpcy5fd3JpdGUoIlxufSIpLHRoaXMuX2RpY3Rpb25hcmllcz1bXSx0aGlzLl9yZWNvcmRCYXRjaGVzPVtdLGUucHJvdG90eXBlLmNsb3NlLmNhbGwodGhpcyl9LHR9KHljKTtmdW5jdGlvbiBfYyhlLHQpe3ZhciByLG4saT10O3QgaW5zdGFuY2VvZiBxcy5UYWJsZSYmKGk9dC5jaHVua3MsZS5yZXNldCh2b2lkIDAsdC5zY2hlbWEpKTt0cnl7Zm9yKHZhciBvPVhzLl9fdmFsdWVzKGkpLGE9by5uZXh0KCk7IWEuZG9uZTthPW8ubmV4dCgpKXt2YXIgdT1hLnZhbHVlO2Uud3JpdGUodSl9fWNhdGNoKHMpe3I9e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihuPW8ucmV0dXJuKSYmbi5jYWxsKG8pfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1yZXR1cm4gZS5maW5pc2goKX1mdW5jdGlvbiBtYyhlLHQpe3ZhciByLG4saSxvO3JldHVybiBYcy5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBhLHU7cmV0dXJuIFhzLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cy50cnlzLnB1c2goWzAsNSw2LDExXSkscj1Ycy5fX2FzeW5jVmFsdWVzKHQpLHMubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzQsci5uZXh0KCldO2Nhc2UgMjppZigobj1zLnNlbnQoKSkuZG9uZSlyZXR1cm5bMyw0XTthPW4udmFsdWUsZS53cml0ZShhKSxzLmxhYmVsPTM7Y2FzZSAzOnJldHVyblszLDFdO2Nhc2UgNDpyZXR1cm5bMywxMV07Y2FzZSA1OnJldHVybiB1PXMuc2VudCgpLGk9e2Vycm9yOnV9LFszLDExXTtjYXNlIDY6cmV0dXJuIHMudHJ5cy5wdXNoKFs2LCw5LDEwXSksbiYmIW4uZG9uZSYmKG89ci5yZXR1cm4pP1s0LG8uY2FsbChyKV06WzMsOF07Y2FzZSA3OnMuc2VudCgpLHMubGFiZWw9ODtjYXNlIDg6cmV0dXJuWzMsMTBdO2Nhc2UgOTppZihpKXRocm93IGkuZXJyb3I7cmV0dXJuWzddO2Nhc2UgMTA6cmV0dXJuWzddO2Nhc2UgMTE6cmV0dXJuWzIsZS5maW5pc2goKV19fSkpfSkpfWZ1bmN0aW9uIGdjKGUpe3ZhciB0PWUubmFtZSxyPWUudHlwZSxuPWUubnVsbGFibGUsaT1uZXcgY2MuSlNPTlR5cGVBc3NlbWJsZXI7cmV0dXJue25hbWU6dCxudWxsYWJsZTpuLHR5cGU6aS52aXNpdChyKSxjaGlsZHJlbjooci5jaGlsZHJlbnx8W10pLm1hcChnYyksZGljdGlvbmFyeTplYy5EYXRhVHlwZS5pc0RpY3Rpb25hcnkocik/e2lkOnIuaWQsaXNPcmRlcmVkOnIuaXNPcmRlcmVkLGluZGV4VHlwZTppLnZpc2l0KHIuaW5kaWNlcyl9OnZvaWQgMH19d3UuUmVjb3JkQmF0Y2hKU09OV3JpdGVyPXZjO3ZhciBCYz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQmMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEJjLmRpc3RyaWJ1dGVWZWN0b3JzSW50b1JlY29yZEJhdGNoZXM9QmMuZGlzdHJpYnV0ZUNvbHVtbnNJbnRvUmVjb3JkQmF0Y2hlcz1CYy5lbnN1cmVTYW1lTGVuZ3RoRGF0YT12b2lkIDA7dmFyIFRjPUguZXhwb3J0cyxJYz1JZSx3Yz1EbixPYz1nYSxTYz12YSxBYz1uZXcgVWludDhBcnJheSgwKSxEYz1mdW5jdGlvbihlKXtyZXR1cm5bQWMsQWMsbmV3IFVpbnQ4QXJyYXkoZSksQWNdfTtmdW5jdGlvbiBWYyhlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciByLG49VGMuX19zcHJlYWQoZS5maWVsZHMpLGk9W10sbz17bnVtQmF0Y2hlczp0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5tYXgoZSx0Lmxlbmd0aCl9KSwwKX0sYT0wLHU9MCxzPS0xLGM9dC5sZW5ndGgsbD1bXTtmb3IoO28ubnVtQmF0Y2hlcy0tID4wOyl7Zm9yKHU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHM9LTE7KytzPGM7KWxbc109cj10W3NdLnNoaWZ0KCksdT1NYXRoLm1pbih1LHI/ci5sZW5ndGg6dSk7aXNGaW5pdGUodSkmJihsPVBjKG4sdSxsLHQsbyksdT4wJiYoaVthKytdPVt1LGwuc2xpY2UoKV0pKX1yZXR1cm5bZT1uZXcgd2MuU2NoZW1hKG4sZS5tZXRhZGF0YSksaS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcoU2MuUmVjb3JkQmF0Y2guYmluZC5hcHBseShTYy5SZWNvcmRCYXRjaCxUYy5fX3NwcmVhZChbdm9pZCAwLGVdLHQpKSl9KSldfShlLHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE9jLkNodW5rZWQ/ZS5jaHVua3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhfSkpOltlLmRhdGFdfSkpKX1mdW5jdGlvbiBQYyhlLHQscixuLGkpe2Zvcih2YXIgbyxhLHU9MCxzPS0xLGM9bi5sZW5ndGgsbD0odCs2MyYtNjQpPj4zOysrczxjOykobz1yW3NdKSYmKHU9by5sZW5ndGgpPj10P3U9PT10P3Jbc109bzoocltzXT1vLnNsaWNlKDAsdCksbz1vLnNsaWNlKHQsdS10KSxpLm51bUJhdGNoZXM9TWF0aC5tYXgoaS5udW1CYXRjaGVzLG5bc10udW5zaGlmdChvKSkpOigoYT1lW3NdKS5udWxsYWJsZXx8KGVbc109YS5jbG9uZSh7bnVsbGFibGU6ITB9KSkscltzXT1vP28uX2NoYW5nZUxlbmd0aEFuZEJhY2tmaWxsTnVsbEJpdG1hcCh0KTpJYy5EYXRhLm5ldyhhLnR5cGUsMCx0LHQsRGMobCkpKTtyZXR1cm4gcn1CYy5lbnN1cmVTYW1lTGVuZ3RoRGF0YT1mdW5jdGlvbihlLHQscil7dmFyIG4saTt2b2lkIDA9PT1yJiYocj10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5tYXgoZSx0Lmxlbmd0aCl9KSwwKSk7Zm9yKHZhciBvPS0xLGE9dC5sZW5ndGgsdT1UYy5fX3NwcmVhZChlLmZpZWxkcykscz1bXSxjPShyKzYzJi02NCk+PjM7KytvPGE7KShuPXRbb10pJiZuLmxlbmd0aD09PXI/c1tvXT1uOigoaT11W29dKS5udWxsYWJsZXx8KHVbb109dVtvXS5jbG9uZSh7bnVsbGFibGU6ITB9KSksc1tvXT1uP24uX2NoYW5nZUxlbmd0aEFuZEJhY2tmaWxsTnVsbEJpdG1hcChyKTpJYy5EYXRhLm5ldyhpLnR5cGUsMCxyLHIsRGMoYykpKTtyZXR1cm5bbmV3IHdjLlNjaGVtYSh1KSxyLHNdfSxCYy5kaXN0cmlidXRlQ29sdW1uc0ludG9SZWNvcmRCYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiBWYyhuZXcgd2MuU2NoZW1hKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5maWVsZH0pKSksZSl9LEJjLmRpc3RyaWJ1dGVWZWN0b3JzSW50b1JlY29yZEJhdGNoZXM9VmM7dmFyIE1jPXt9LEZjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShGYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRmMuQmFzZVZlY3Rvcj12b2lkIDA7dmFyIFVjPUguZXhwb3J0cyxqYz1nZSx4Yz1nYSxMYz1CYSxSYz1fZSxOYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl9jaGlsZHJlbj1yLG4ubnVtQ2hpbGRyZW49dC5jaGlsZERhdGEubGVuZ3RoLG4uX2JpbmREYXRhQWNjZXNzb3JzKG4uZGF0YT10KSxufXJldHVybiBVYy5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGVJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwib2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5vZmZzZXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzdHJpZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnN0cmlkZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bGxDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubnVsbENvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYnl0ZUxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIlZlY3Rvck5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamMuVHlwZVt0aGlzLnR5cGVJZF0rIlZlY3RvciJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudmFsdWVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZUlkc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bGxCaXRtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm51bGxCaXRtYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZU9mZnNldHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnZhbHVlT2Zmc2V0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsU3ltYm9sLnRvU3RyaW5nVGFnLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WZWN0b3JOYW1lKyI8Iit0aGlzLnR5cGVbU3ltYm9sLnRvU3RyaW5nVGFnXSsiPiJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5fY2hpbGRyZW4pLFJjLlZlY3Rvci5uZXcoZSx0KX0sdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiB4Yy5DaHVua2VkLmNvbmNhdC5hcHBseSh4Yy5DaHVua2VkLFVjLl9fc3ByZWFkKFt0aGlzXSxlKSl9LHQucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIExjLmNsYW1wUmFuZ2UodGhpcyxlLHQsdGhpcy5fc2xpY2VJbnRlcm5hbCl9LHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5udWxsQ291bnQ+MCl7dmFyIHQ9dGhpcy5vZmZzZXQrZTtyZXR1cm4gMCE9PSh0aGlzLm51bGxCaXRtYXBbdD4+M10mMTw8dCU4KX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihlKXtyZXR1cm4gZTwwfHxlPj10aGlzLm51bUNoaWxkcmVuP251bGw6KHRoaXMuX2NoaWxkcmVufHwodGhpcy5fY2hpbGRyZW49W10pKVtlXXx8KHRoaXMuX2NoaWxkcmVuW2VdPVJjLlZlY3Rvci5uZXcodGhpcy5kYXRhLmNoaWxkRGF0YVtlXSkpfSx0LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gVWMuX19zcHJlYWQodGhpcyl9LHQucHJvdG90eXBlLl9zbGljZUludGVybmFsPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5jbG9uZShlLmRhdGEuc2xpY2UodCxyLXQpLG51bGwpfSx0LnByb3RvdHlwZS5fYmluZERhdGFBY2Nlc3NvcnM9ZnVuY3Rpb24oZSl7fSx0fShSYy5BYnN0cmFjdFZlY3Rvcik7RmMuQmFzZVZlY3Rvcj1OYyxOYy5wcm90b3R5cGVbU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZV09ITA7dmFyIEVjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShFYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRWMuQmluYXJ5VmVjdG9yPXZvaWQgMDt2YXIgQ2M9SC5leHBvcnRzLHpjPV9lLGtjPUZlLFdjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBDYy5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hc1V0Zjg9ZnVuY3Rpb24oKXtyZXR1cm4gemMuVmVjdG9yLm5ldyh0aGlzLmRhdGEuY2xvbmUobmV3IGtjLlV0ZjgpKX0sdH0oRmMuQmFzZVZlY3Rvcik7RWMuQmluYXJ5VmVjdG9yPVdjO3ZhciBZYz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWWMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFljLkJvb2xWZWN0b3I9dm9pZCAwO3ZhciBIYz1ILmV4cG9ydHMsR2M9RmUsSmM9TWMsWmM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEhjLl9fZXh0ZW5kcyh0LGUpLHQuZnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gSmMudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBuZXcgR2MuQm9vbH0pLGUpfSx0fShGYy5CYXNlVmVjdG9yKTtZYy5Cb29sVmVjdG9yPVpjO3ZhciBLYz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoS2MsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEtjLkRhdGVNaWxsaXNlY29uZFZlY3Rvcj1LYy5EYXRlRGF5VmVjdG9yPUtjLkRhdGVWZWN0b3I9dm9pZCAwO3ZhciBYYz1ILmV4cG9ydHMscWM9Z2UsUWM9TWMsJGM9RmUsZWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFhjLl9fZXh0ZW5kcyh0LGUpLHQuZnJvbT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gMj09PWUubGVuZ3RoP1FjLnZlY3RvckZyb21WYWx1ZXNXaXRoVHlwZSgoZnVuY3Rpb24oKXtyZXR1cm4gZVsxXT09PXFjLkRhdGVVbml0LkRBWT9uZXcgJGMuRGF0ZURheTpuZXcgJGMuRGF0ZU1pbGxpc2Vjb25kfSksZVswXSk6UWMudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBuZXcgJGMuRGF0ZU1pbGxpc2Vjb25kfSksZVswXSl9LHR9KEZjLkJhc2VWZWN0b3IpO0tjLkRhdGVWZWN0b3I9ZWw7dmFyIHRsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBYYy5fX2V4dGVuZHModCxlKSx0fShlbCk7S2MuRGF0ZURheVZlY3Rvcj10bDt2YXIgcmw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFhjLl9fZXh0ZW5kcyh0LGUpLHR9KGVsKTtLYy5EYXRlTWlsbGlzZWNvbmRWZWN0b3I9cmw7dmFyIG5sPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShubCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbmwuRGVjaW1hbFZlY3Rvcj12b2lkIDA7dmFyIGlsPUguZXhwb3J0cyxvbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaWwuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7bmwuRGVjaW1hbFZlY3Rvcj1vbDt2YXIgYWw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGFsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhbC5EaWN0aW9uYXJ5VmVjdG9yPXZvaWQgMDt2YXIgdWw9SC5leHBvcnRzLHNsPUllLGNsPV9lLGxsPU1jLGZsPUZlLGRsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuaW5kaWNlcz1jbC5WZWN0b3IubmV3KHQuY2xvbmUoci50eXBlLmluZGljZXMpKSxyfXJldHVybiB1bC5fX2V4dGVuZHModCxlKSx0LmZyb209ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aWYoMz09PWUubGVuZ3RoKXt2YXIgcj11bC5fX3JlYWQoZSwzKSxuPXJbMF0saT1yWzFdLG89clsyXSxhPW5ldyBmbC5EaWN0aW9uYXJ5KG4udHlwZSxpLG51bGwsbnVsbCk7cmV0dXJuIGNsLlZlY3Rvci5uZXcoc2wuRGF0YS5EaWN0aW9uYXJ5KGEsMCxvLmxlbmd0aCwwLG51bGwsbyxuKSl9cmV0dXJuIGxsLnZlY3RvckZyb21WYWx1ZXNXaXRoVHlwZSgoZnVuY3Rpb24oKXtyZXR1cm4gZVswXS50eXBlfSksZVswXSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZGljdGlvbmFyeSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZGljdGlvbmFyeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZXZlcnNlTG9va3VwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpY3Rpb25hcnkuaW5kZXhPZihlKX0sdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGljZXMuZ2V0KGUpfSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmdldChlKX0sdC5wcm90b3R5cGUuc2V0S2V5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5zZXQoZSx0KX0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LnNldChlLHQpfSx0fShGYy5CYXNlVmVjdG9yKTthbC5EaWN0aW9uYXJ5VmVjdG9yPWRsLGRsLnByb3RvdHlwZS5pbmRpY2VzPW51bGw7dmFyIHBsPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwbCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkscGwuRml4ZWRTaXplQmluYXJ5VmVjdG9yPXZvaWQgMDt2YXIgeWw9SC5leHBvcnRzLGhsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB5bC5fX2V4dGVuZHModCxlKSx0fShGYy5CYXNlVmVjdG9yKTtwbC5GaXhlZFNpemVCaW5hcnlWZWN0b3I9aGw7dmFyIGJsPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShibCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYmwuRml4ZWRTaXplTGlzdFZlY3Rvcj12b2lkIDA7dmFyIHZsPUguZXhwb3J0cyxfbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdmwuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7YmwuRml4ZWRTaXplTGlzdFZlY3Rvcj1fbDt2YXIgbWw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KG1sLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxtbC5GbG9hdDY0VmVjdG9yPW1sLkZsb2F0MzJWZWN0b3I9bWwuRmxvYXQxNlZlY3Rvcj1tbC5GbG9hdFZlY3Rvcj12b2lkIDA7dmFyIGdsPUguZXhwb3J0cyxCbD1JZSxUbD1fZSxJbD1NYyx3bD1GZSxPbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZ2wuX19leHRlbmRzKHQsZSksdC5mcm9tPWZ1bmN0aW9uKGUpe3ZhciB0PU1sKHRoaXMpO2lmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpKXt2YXIgcj1QbChlLmNvbnN0cnVjdG9yKXx8dDtpZihudWxsPT09dCYmKHQ9ciksdCYmdD09PXIpe3ZhciBuPW5ldyB0LGk9ZS5ieXRlTGVuZ3RoL24uQXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UO2lmKCFWbCh0LGUuY29uc3RydWN0b3IpKXJldHVybiBUbC5WZWN0b3IubmV3KEJsLkRhdGEuRmxvYXQobiwwLGksMCxudWxsLGUpKX19aWYodClyZXR1cm4gSWwudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBuZXcgdH0pLGUpO2lmKGUgaW5zdGFuY2VvZiBEYXRhVmlld3x8ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBpbmZlciBmbG9hdCB0eXBlIGZyb20gaW5zdGFuY2Ugb2YgIitlLmNvbnN0cnVjdG9yLm5hbWUpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlVucmVjb2duaXplZCBGbG9hdFZlY3RvciBpbnB1dCIpfSx0fShGYy5CYXNlVmVjdG9yKTttbC5GbG9hdFZlY3Rvcj1PbDt2YXIgU2w9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGdsLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnRvRmxvYXQzMkFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcyl9LHQucHJvdG90eXBlLnRvRmxvYXQ2NEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbG9hdDY0QXJyYXkodGhpcyl9LHR9KE9sKTttbC5GbG9hdDE2VmVjdG9yPVNsO3ZhciBBbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZ2wuX19leHRlbmRzKHQsZSksdH0oT2wpO21sLkZsb2F0MzJWZWN0b3I9QWw7dmFyIERsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBnbC5fX2V4dGVuZHModCxlKSx0fShPbCk7bWwuRmxvYXQ2NFZlY3Rvcj1EbDt2YXIgVmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXdsLkZsb2F0MTYmJnQhPT1VaW50MTZBcnJheX0sUGw9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIHdsLkZsb2F0MTY7Y2FzZSBGbG9hdDMyQXJyYXk6cmV0dXJuIHdsLkZsb2F0MzI7Y2FzZSBGbG9hdDY0QXJyYXk6cmV0dXJuIHdsLkZsb2F0NjQ7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LE1sPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIFNsOnJldHVybiB3bC5GbG9hdDE2O2Nhc2UgQWw6cmV0dXJuIHdsLkZsb2F0MzI7Y2FzZSBEbDpyZXR1cm4gd2wuRmxvYXQ2NDtkZWZhdWx0OnJldHVybiBudWxsfX0sRmw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEZsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxGbC5JbnRlcnZhbFllYXJNb250aFZlY3Rvcj1GbC5JbnRlcnZhbERheVRpbWVWZWN0b3I9RmwuSW50ZXJ2YWxWZWN0b3I9dm9pZCAwO3ZhciBVbD1ILmV4cG9ydHMsamw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFVsLl9fZXh0ZW5kcyh0LGUpLHR9KEZjLkJhc2VWZWN0b3IpO0ZsLkludGVydmFsVmVjdG9yPWpsO3ZhciB4bD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVWwuX19leHRlbmRzKHQsZSksdH0oamwpO0ZsLkludGVydmFsRGF5VGltZVZlY3Rvcj14bDt2YXIgTGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFVsLl9fZXh0ZW5kcyh0LGUpLHR9KGpsKTtGbC5JbnRlcnZhbFllYXJNb250aFZlY3Rvcj1MbDt2YXIgUmw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFJsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxSbC5VaW50NjRWZWN0b3I9UmwuVWludDMyVmVjdG9yPVJsLlVpbnQxNlZlY3Rvcj1SbC5VaW50OFZlY3Rvcj1SbC5JbnQ2NFZlY3Rvcj1SbC5JbnQzMlZlY3Rvcj1SbC5JbnQxNlZlY3Rvcj1SbC5JbnQ4VmVjdG9yPVJsLkludFZlY3Rvcj12b2lkIDA7dmFyIE5sPUguZXhwb3J0cyxFbD1JZSxDbD1fZSx6bD1NYyxrbD1RLFdsPUcsWWw9RmUsSGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHQuZnJvbT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1ObC5fX3JlYWQoZSwyKSxuPXJbMF0saT1yWzFdLG89dm9pZCAwIT09aSYmaSxhPXJmKHRoaXMsbyk7aWYobiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcobikpe3ZhciB1PXRmKG4uY29uc3RydWN0b3Isbyl8fGE7aWYobnVsbD09PWEmJihhPXUpLGEmJmE9PT11KXt2YXIgcz1uZXcgYSxjPW4uYnl0ZUxlbmd0aC9zLkFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVDtyZXR1cm4gZWYoYSxuLmNvbnN0cnVjdG9yKSYmKGMqPS41KSxDbC5WZWN0b3IubmV3KEVsLkRhdGEuSW50KHMsMCxjLDAsbnVsbCxuKSl9fWlmKGEpcmV0dXJuIHpsLnZlY3RvckZyb21WYWx1ZXNXaXRoVHlwZSgoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGF9KSxuKTtpZihuIGluc3RhbmNlb2YgRGF0YVZpZXd8fG4gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgaW5mZXIgaW50ZWdlciB0eXBlIGZyb20gaW5zdGFuY2Ugb2YgIituLmNvbnN0cnVjdG9yLm5hbWUpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlVucmVjb2duaXplZCBJbnRWZWN0b3IgaW5wdXQiKX0sdH0oRmMuQmFzZVZlY3Rvcik7UmwuSW50VmVjdG9yPUhsO3ZhciBHbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gTmwuX19leHRlbmRzKHQsZSksdH0oSGwpO1JsLkludDhWZWN0b3I9R2w7dmFyIEpsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0fShIbCk7UmwuSW50MTZWZWN0b3I9Smw7dmFyIFpsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0fShIbCk7UmwuSW50MzJWZWN0b3I9Wmw7dmFyIEtsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS50b0JpZ0ludDY0QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gV2wudG9CaWdJbnQ2NEFycmF5KHRoaXMudmFsdWVzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZXM2NCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXM2NHx8KHRoaXMuX3ZhbHVlczY0PXRoaXMudG9CaWdJbnQ2NEFycmF5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHR9KEhsKTtSbC5JbnQ2NFZlY3Rvcj1LbDt2YXIgWGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHR9KEhsKTtSbC5VaW50OFZlY3Rvcj1YbDt2YXIgcWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHR9KEhsKTtSbC5VaW50MTZWZWN0b3I9cWw7dmFyIFFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0fShIbCk7UmwuVWludDMyVmVjdG9yPVFsO3ZhciAkbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gTmwuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudG9CaWdVaW50NjRBcnJheT1mdW5jdGlvbigpe3JldHVybiBXbC50b0JpZ1VpbnQ2NEFycmF5KHRoaXMudmFsdWVzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZXM2NCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXM2NHx8KHRoaXMuX3ZhbHVlczY0PXRoaXMudG9CaWdVaW50NjRBcnJheSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fShIbCk7UmwuVWludDY0VmVjdG9yPSRsO3ZhciBlZj1mdW5jdGlvbihlLHQpe3JldHVybiEoZSE9PVlsLkludDY0JiZlIT09WWwuVWludDY0fHx0IT09SW50MzJBcnJheSYmdCE9PVVpbnQzMkFycmF5KX0sdGY9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSBJbnQ4QXJyYXk6cmV0dXJuIFlsLkludDg7Y2FzZSBJbnQxNkFycmF5OnJldHVybiBZbC5JbnQxNjtjYXNlIEludDMyQXJyYXk6cmV0dXJuIHQ/WWwuSW50NjQ6WWwuSW50MzI7Y2FzZSBrbC5CaWdJbnQ2NEFycmF5OnJldHVybiBZbC5JbnQ2NDtjYXNlIFVpbnQ4QXJyYXk6cmV0dXJuIFlsLlVpbnQ4O2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIFlsLlVpbnQxNjtjYXNlIFVpbnQzMkFycmF5OnJldHVybiB0P1lsLlVpbnQ2NDpZbC5VaW50MzI7Y2FzZSBrbC5CaWdVaW50NjRBcnJheTpyZXR1cm4gWWwuVWludDY0O2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxyZj1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIEdsOnJldHVybiBZbC5JbnQ4O2Nhc2UgSmw6cmV0dXJuIFlsLkludDE2O2Nhc2UgWmw6cmV0dXJuIHQ/WWwuSW50NjQ6WWwuSW50MzI7Y2FzZSBLbDpyZXR1cm4gWWwuSW50NjQ7Y2FzZSBYbDpyZXR1cm4gWWwuVWludDg7Y2FzZSBxbDpyZXR1cm4gWWwuVWludDE2O2Nhc2UgUWw6cmV0dXJuIHQ/WWwuVWludDY0OllsLlVpbnQzMjtjYXNlICRsOnJldHVybiBZbC5VaW50NjQ7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LG5mPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShuZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbmYuTGlzdFZlY3Rvcj12b2lkIDA7dmFyIG9mPUguZXhwb3J0cyxhZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gb2YuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7bmYuTGlzdFZlY3Rvcj1hZjt2YXIgdWY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHVmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx1Zi5NYXBWZWN0b3I9dm9pZCAwO3ZhciBzZj1ILmV4cG9ydHMsY2Y9VGEsbGY9X2UsZmY9RmUsZGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHNmLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFzTGlzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZS5jaGlsZHJlblswXTtyZXR1cm4gbGYuVmVjdG9yLm5ldyh0aGlzLmRhdGEuY2xvbmUobmV3IGZmLkxpc3QoZSkpKX0sdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldENoaWxkQXQoMCkscj10aGlzLnZhbHVlT2Zmc2V0cyxuPXJbZV0saT1yW2UrMV07cmV0dXJuIG5ldyBjZi5NYXBSb3codC5zbGljZShuLGkpKX0sdH0oRmMuQmFzZVZlY3Rvcik7dWYuTWFwVmVjdG9yPWRmO3ZhciBwZj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocGYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHBmLk51bGxWZWN0b3I9dm9pZCAwO3ZhciB5Zj1ILmV4cG9ydHMsaGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHlmLl9fZXh0ZW5kcyh0LGUpLHR9KEZjLkJhc2VWZWN0b3IpO3BmLk51bGxWZWN0b3I9aGY7dmFyIGJmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYmYuU3RydWN0VmVjdG9yPXZvaWQgMDt2YXIgdmY9SC5leHBvcnRzLF9mPVRhLG1mPUZjLGdmPVN5bWJvbC5mb3IoInJvd0luZGV4IiksQmY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHZmLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcm93fHwodGhpcy5fcm93PW5ldyBfZi5TdHJ1Y3RSb3codGhpcykpLHI9T2JqZWN0LmNyZWF0ZSh0KTtyZXR1cm4gcltnZl09ZSxyfSx0fShtZi5CYXNlVmVjdG9yKTtiZi5TdHJ1Y3RWZWN0b3I9QmY7dmFyIFRmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShUZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksVGYuVGltZXN0YW1wTmFub3NlY29uZFZlY3Rvcj1UZi5UaW1lc3RhbXBNaWNyb3NlY29uZFZlY3Rvcj1UZi5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcj1UZi5UaW1lc3RhbXBTZWNvbmRWZWN0b3I9VGYuVGltZXN0YW1wVmVjdG9yPXZvaWQgMDt2YXIgSWY9SC5leHBvcnRzLHdmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBJZi5fX2V4dGVuZHModCxlKSx0fShGYy5CYXNlVmVjdG9yKTtUZi5UaW1lc3RhbXBWZWN0b3I9d2Y7dmFyIE9mPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBJZi5fX2V4dGVuZHModCxlKSx0fSh3Zik7VGYuVGltZXN0YW1wU2Vjb25kVmVjdG9yPU9mO3ZhciBTZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSWYuX19leHRlbmRzKHQsZSksdH0od2YpO1RmLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yPVNmO3ZhciBBZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSWYuX19leHRlbmRzKHQsZSksdH0od2YpO1RmLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yPUFmO3ZhciBEZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSWYuX19leHRlbmRzKHQsZSksdH0od2YpO1RmLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3I9RGY7dmFyIFZmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShWZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksVmYuVGltZU5hbm9zZWNvbmRWZWN0b3I9VmYuVGltZU1pY3Jvc2Vjb25kVmVjdG9yPVZmLlRpbWVNaWxsaXNlY29uZFZlY3Rvcj1WZi5UaW1lU2Vjb25kVmVjdG9yPVZmLlRpbWVWZWN0b3I9dm9pZCAwO3ZhciBQZj1ILmV4cG9ydHMsTWY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFBmLl9fZXh0ZW5kcyh0LGUpLHR9KEZjLkJhc2VWZWN0b3IpO1ZmLlRpbWVWZWN0b3I9TWY7dmFyIEZmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBQZi5fX2V4dGVuZHModCxlKSx0fShNZik7VmYuVGltZVNlY29uZFZlY3Rvcj1GZjt2YXIgVWY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFBmLl9fZXh0ZW5kcyh0LGUpLHR9KE1mKTtWZi5UaW1lTWlsbGlzZWNvbmRWZWN0b3I9VWY7dmFyIGpmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBQZi5fX2V4dGVuZHModCxlKSx0fShNZik7VmYuVGltZU1pY3Jvc2Vjb25kVmVjdG9yPWpmO3ZhciB4Zj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUGYuX19leHRlbmRzKHQsZSksdH0oTWYpO1ZmLlRpbWVOYW5vc2Vjb25kVmVjdG9yPXhmO3ZhciBMZj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTGYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLExmLlNwYXJzZVVuaW9uVmVjdG9yPUxmLkRlbnNlVW5pb25WZWN0b3I9TGYuVW5pb25WZWN0b3I9dm9pZCAwO3ZhciBSZj1ILmV4cG9ydHMsTmY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFJmLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkVG9DaGlsZEluZGV4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlLnR5cGVJZFRvQ2hpbGRJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fShGYy5CYXNlVmVjdG9yKTtMZi5VbmlvblZlY3Rvcj1OZjt2YXIgRWY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFJmLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVPZmZzZXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS52YWx1ZU9mZnNldHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0oTmYpO0xmLkRlbnNlVW5pb25WZWN0b3I9RWY7dmFyIENmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBSZi5fX2V4dGVuZHModCxlKSx0fShOZik7TGYuU3BhcnNlVW5pb25WZWN0b3I9Q2Y7dmFyIHpmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh6ZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksemYuVXRmOFZlY3Rvcj12b2lkIDA7dmFyIGtmPUguZXhwb3J0cyxXZj1fZSxZZj1GZSxIZj1NYyxHZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4ga2YuX19leHRlbmRzKHQsZSksdC5mcm9tPWZ1bmN0aW9uKGUpe3JldHVybiBIZi52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGUoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZZi5VdGY4fSksZSl9LHQucHJvdG90eXBlLmFzQmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIFdmLlZlY3Rvci5uZXcodGhpcy5kYXRhLmNsb25lKG5ldyBZZi5CaW5hcnkpKX0sdH0oRmMuQmFzZVZlY3Rvcik7emYuVXRmOFZlY3Rvcj1HZjt2YXIgSmY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEpmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxKZi5wYXJ0aWFsMj1KZi5wYXJ0aWFsMT1KZi5wYXJ0aWFsMD12b2lkIDAsSmYucGFydGlhbDA9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyl9fSxKZi5wYXJ0aWFsMT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcyx0KX19LEpmLnBhcnRpYWwyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKHRoaXMsdCxyKX19O3ZhciBaZj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWmYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFpmLmluc3RhbmNlPVpmLkdldFZpc2l0b3I9dm9pZCAwO3ZhciBLZj1ILmV4cG9ydHMsWGY9TXIscWY9SyxRZj1CciwkZj1nZSxlZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gS2YuX19leHRlbmRzKHQsZSksdH0oZGkuVmlzaXRvcik7WmYuR2V0VmlzaXRvcj1lZDt2YXIgdGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gNDI5NDk2NzI5NiplW3QrMV0rKGVbdF0+Pj4wKX0scmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXRlKGUpfSxuZD1mdW5jdGlvbihlLHQscil7dmFyIG49dCxpPW5bcl0sbz1uW3IrMV07cmV0dXJuIG51bGwhPWkmJm51bGwhPW8/ZS5zdWJhcnJheShpLG8pOm51bGx9LGlkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJkKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDg2NGU1KmVbdF19KGUsdCkpfShlLnZhbHVlcyx0KX0sb2Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcmQodGQoZSx0KSl9KGUudmFsdWVzLDIqdCl9LGFkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zdHJpZGU7cmV0dXJuIGUudmFsdWVzW3IqdF19LHVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zdHJpZGUsbj1lLnZhbHVlcztyZXR1cm4gUWYudWludDE2VG9GbG9hdDY0KG5bcip0XSl9LHNkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zdHJpZGUsbj1lLnZhbHVlcyxpPWUudHlwZTtyZXR1cm4gWGYuQk4ubmV3KG4uc3ViYXJyYXkocip0LHIqKHQrMSkpLGkuaXNTaWduZWQpfSxjZD1mdW5jdGlvbihlLHQpe3ZhciByPWUudmFsdWVzO3JldHVybiAxZTMqdGQociwyKnQpfSxsZD1mdW5jdGlvbihlLHQpe3ZhciByPWUudmFsdWVzO3JldHVybiB0ZChyLDIqdCl9LGZkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdCsxXS8xZTMqNDI5NDk2NzI5NisoZVt0XT4+PjApLzFlM30oZS52YWx1ZXMsMip0KX0sZGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0KzFdLzFlNio0Mjk0OTY3Mjk2KyhlW3RdPj4+MCkvMWU2fShlLnZhbHVlcywyKnQpfSxwZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnZhbHVlc1tlLnN0cmlkZSp0XX0seWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52YWx1ZXNbZS5zdHJpZGUqdF19LGhkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXM7cmV0dXJuIFhmLkJOLnNpZ25lZChyLnN1YmFycmF5KDIqdCwyKih0KzEpKSl9LGJkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXM7cmV0dXJuIFhmLkJOLnNpZ25lZChyLnN1YmFycmF5KDIqdCwyKih0KzEpKSl9LHZkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS50eXBlSWRUb0NoaWxkSW5kZXhbZS50eXBlSWRzW3RdXSxuPWUuZ2V0Q2hpbGRBdChyKTtyZXR1cm4gbj9uLmdldChlLnZhbHVlT2Zmc2V0c1t0XSk6bnVsbH0sX2Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnR5cGVJZFRvQ2hpbGRJbmRleFtlLnR5cGVJZHNbdF1dLG49ZS5nZXRDaGlsZEF0KHIpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9LG1kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudmFsdWVzLnN1YmFycmF5KDIqdCwyKih0KzEpKX0sZ2Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlc1t0XSxuPW5ldyBJbnQzMkFycmF5KDIpO3JldHVybiBuWzBdPXIvMTJ8MCxuWzFdPXIlMTJ8MCxufTtlZC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGx9LGVkLnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm9mZnNldCt0O3JldHVybiAwIT0oZS52YWx1ZXNbcj4+M10mMTw8ciU4KX0sZWQucHJvdG90eXBlLnZpc2l0SW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudHlwZS5iaXRXaWR0aDw2ND9hZChlLHQpOnNkKGUsdCl9LGVkLnByb3RvdHlwZS52aXNpdEludDg9YWQsZWQucHJvdG90eXBlLnZpc2l0SW50MTY9YWQsZWQucHJvdG90eXBlLnZpc2l0SW50MzI9YWQsZWQucHJvdG90eXBlLnZpc2l0SW50NjQ9c2QsZWQucHJvdG90eXBlLnZpc2l0VWludDg9YWQsZWQucHJvdG90eXBlLnZpc2l0VWludDE2PWFkLGVkLnByb3RvdHlwZS52aXNpdFVpbnQzMj1hZCxlZC5wcm90b3R5cGUudmlzaXRVaW50NjQ9c2QsZWQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50eXBlLnByZWNpc2lvbiE9PSRmLlByZWNpc2lvbi5IQUxGP2FkKGUsdCk6dWQoZSx0KX0sZWQucHJvdG90eXBlLnZpc2l0RmxvYXQxNj11ZCxlZC5wcm90b3R5cGUudmlzaXRGbG9hdDMyPWFkLGVkLnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9YWQsZWQucHJvdG90eXBlLnZpc2l0VXRmOD1mdW5jdGlvbihlLHQpe3ZhciByPWUudmFsdWVzLG49ZS52YWx1ZU9mZnNldHMsaT1uZChyLG4sdCk7cmV0dXJuIG51bGwhPT1pP3FmLmRlY29kZVV0ZjgoaSk6bnVsbH0sZWQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXMsbj1lLnZhbHVlT2Zmc2V0cztyZXR1cm4gbmQocixuLHQpfSxlZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnN0cmlkZTtyZXR1cm4gZS52YWx1ZXMuc3ViYXJyYXkocip0LHIqKHQrMSkpfSxlZC5wcm90b3R5cGUudmlzaXREYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudHlwZS51bml0PT09JGYuRGF0ZVVuaXQuREFZP2lkKGUsdCk6b2QoZSx0KX0sZWQucHJvdG90eXBlLnZpc2l0RGF0ZURheT1pZCxlZC5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQ9b2QsZWQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUudHlwZS51bml0KXtjYXNlICRmLlRpbWVVbml0LlNFQ09ORDpyZXR1cm4gY2QoZSx0KTtjYXNlICRmLlRpbWVVbml0Lk1JTExJU0VDT05EOnJldHVybiBsZChlLHQpO2Nhc2UgJGYuVGltZVVuaXQuTUlDUk9TRUNPTkQ6cmV0dXJuIGZkKGUsdCk7Y2FzZSAkZi5UaW1lVW5pdC5OQU5PU0VDT05EOnJldHVybiBkZChlLHQpfX0sZWQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPWNkLGVkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPWxkLGVkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kPWZkLGVkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9ZGQsZWQucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbihlLHQpe3N3aXRjaChlLnR5cGUudW5pdCl7Y2FzZSAkZi5UaW1lVW5pdC5TRUNPTkQ6cmV0dXJuIHBkKGUsdCk7Y2FzZSAkZi5UaW1lVW5pdC5NSUxMSVNFQ09ORDpyZXR1cm4geWQoZSx0KTtjYXNlICRmLlRpbWVVbml0Lk1JQ1JPU0VDT05EOnJldHVybiBoZChlLHQpO2Nhc2UgJGYuVGltZVVuaXQuTkFOT1NFQ09ORDpyZXR1cm4gYmQoZSx0KX19LGVkLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9cGQsZWQucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPXlkLGVkLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1oZCxlZC5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZD1iZCxlZC5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXM7cmV0dXJuIFhmLkJOLmRlY2ltYWwoci5zdWJhcnJheSg0KnQsNCoodCsxKSkpfSxlZC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXRDaGlsZEF0KDApLG49ZS52YWx1ZU9mZnNldHMsaT1lLnN0cmlkZTtyZXR1cm4gci5zbGljZShuW3QqaV0sblt0KmkrMV0pfSxlZC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5iaW5kKHQpfSxlZC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnR5cGUubW9kZT09PSRmLlVuaW9uTW9kZS5EZW5zZT92ZChlLHQpOl9kKGUsdCl9LGVkLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249dmQsZWQucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249X2QsZWQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldFZhbHVlKGUuZ2V0S2V5KHQpKX0sZWQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50eXBlLnVuaXQ9PT0kZi5JbnRlcnZhbFVuaXQuREFZX1RJTUU/bWQoZSx0KTpnZChlLHQpfSxlZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9bWQsZWQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9Z2QsZWQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlLHQpe3ZhciByPWUuZ2V0Q2hpbGRBdCgwKSxuPWUuc3RyaWRlO3JldHVybiByLnNsaWNlKHQqbiwodCsxKSpuKX0sZWQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmluZCh0KX0sWmYuaW5zdGFuY2U9bmV3IGVkO3ZhciBCZD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQmQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEJkLmluc3RhbmNlPUJkLkluZGV4T2ZWaXNpdG9yPXZvaWQgMDt2YXIgVGQ9SC5leHBvcnRzLElkPXdlLHdkPUJhLE9kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBUZC5fX2V4dGVuZHModCxlKSx0fShkaS5WaXNpdG9yKTtmdW5jdGlvbiBTZChlLHQscil7aWYodm9pZCAwPT09dClyZXR1cm4tMTtpZihudWxsPT09dClyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9ZS5kYXRhLm51bGxCaXRtYXA7aWYoIWl8fGUubnVsbENvdW50PD0wKXJldHVybi0xO3ZhciBvPTA7dHJ5e2Zvcih2YXIgYT1UZC5fX3ZhbHVlcyhuZXcgSWQuQml0SXRlcmF0b3IoaSxlLmRhdGEub2Zmc2V0Kyh0fHwwKSxlLmxlbmd0aCxpLElkLmdldEJvb2wpKSx1PWEubmV4dCgpOyF1LmRvbmU7dT1hLm5leHQoKSl7aWYoIXUudmFsdWUpcmV0dXJuIG87KytvfX1jYXRjaChzKXtyPXtlcnJvcjpzfX1maW5hbGx5e3RyeXt1JiYhdS5kb25lJiYobj1hLnJldHVybikmJm4uY2FsbChhKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuLTF9KGUscik7Zm9yKHZhciBuPXdkLmNyZWF0ZUVsZW1lbnRDb21wYXJhdG9yKHQpLGk9KHJ8fDApLTEsbz1lLmxlbmd0aDsrK2k8bzspaWYobihlLmdldChpKSkpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gQWQoZSx0LHIpe2Zvcih2YXIgbj13ZC5jcmVhdGVFbGVtZW50Q29tcGFyYXRvcih0KSxpPShyfHwwKS0xLG89ZS5sZW5ndGg7KytpPG87KWlmKG4oZS5nZXQoaSkpKXJldHVybiBpO3JldHVybi0xfUJkLkluZGV4T2ZWaXNpdG9yPU9kLE9kLnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09PXQmJmUubGVuZ3RoPjA/MDotMX0sT2QucHJvdG90eXBlLnZpc2l0Qm9vbD1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnQ9U2QsT2QucHJvdG90eXBlLnZpc2l0SW50OD1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnQxNj1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnQzMj1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnQ2ND1TZCxPZC5wcm90b3R5cGUudmlzaXRVaW50OD1TZCxPZC5wcm90b3R5cGUudmlzaXRVaW50MTY9U2QsT2QucHJvdG90eXBlLnZpc2l0VWludDMyPVNkLE9kLnByb3RvdHlwZS52aXNpdFVpbnQ2ND1TZCxPZC5wcm90b3R5cGUudmlzaXRGbG9hdD1TZCxPZC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PVNkLE9kLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9U2QsT2QucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1TZCxPZC5wcm90b3R5cGUudmlzaXRVdGY4PVNkLE9kLnByb3RvdHlwZS52aXNpdEJpbmFyeT1TZCxPZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9U2QsT2QucHJvdG90eXBlLnZpc2l0RGF0ZT1TZCxPZC5wcm90b3R5cGUudmlzaXREYXRlRGF5PVNkLE9kLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZT1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZD1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1TZCxPZC5wcm90b3R5cGUudmlzaXRMaXN0PVNkLE9kLnByb3RvdHlwZS52aXNpdFN0cnVjdD1TZCxPZC5wcm90b3R5cGUudmlzaXRVbmlvbj1TZCxPZC5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPUFkLE9kLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPUFkLE9kLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9U2QsT2QucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9U2QsT2QucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPVNkLE9kLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoPVNkLE9kLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9U2QsT2QucHJvdG90eXBlLnZpc2l0TWFwPVNkLEJkLmluc3RhbmNlPW5ldyBPZDt2YXIgRGQ9e30sVmQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFZkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxWZC5pbnN0YW5jZT1WZC5JdGVyYXRvclZpc2l0b3I9dm9pZCAwO3ZhciBQZD1ILmV4cG9ydHMsTWQ9Z2UsRmQ9d2UsVWQ9WmYsamQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFBkLl9fZXh0ZW5kcyh0LGUpLHR9KGRpLlZpc2l0b3IpO1ZkLkl0ZXJhdG9yVmlzaXRvcj1qZDt2YXIgeGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy52ZWN0b3I9ZSx0aGlzLmdldEZuPXQsdGhpcy5pbmRleD0wfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg8dGhpcy52ZWN0b3IubGVuZ3RoP3t2YWx1ZTp0aGlzLmdldEZuKHRoaXMudmVjdG9yLHRoaXMuaW5kZXgrKyl9Ontkb25lOiEwLHZhbHVlOm51bGx9fSxlLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGV9KCk7ZnVuY3Rpb24gTGQoZSl7aWYoZS5udWxsQ291bnQ+MClyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9VWQuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKTtyZXR1cm4gbmV3IEZkLkJpdEl0ZXJhdG9yKGUuZGF0YS5udWxsQml0bWFwLGUuZGF0YS5vZmZzZXQsZS5sZW5ndGgsZSwoZnVuY3Rpb24oZSxyLG4saSl7cmV0dXJuIDAhPShuJjE8PGkpP3QoZSxyKTpudWxsfSkpfShlKTt2YXIgdD1lLnR5cGUscj1lLnR5cGVJZCxuPWUubGVuZ3RoO3JldHVybiAxPT09ZS5zdHJpZGUmJihyPT09TWQuVHlwZS5UaW1lc3RhbXB8fHI9PT1NZC5UeXBlLkludCYmNjQhPT10LmJpdFdpZHRofHxyPT09TWQuVHlwZS5UaW1lJiY2NCE9PXQuYml0V2lkdGh8fHI9PT1NZC5UeXBlLkZsb2F0JiZ0LnByZWNpc2lvbj4wKT9lLmRhdGEudmFsdWVzLnN1YmFycmF5KDAsbilbU3ltYm9sLml0ZXJhdG9yXSgpOm5ldyB4ZChlLFVkLmluc3RhbmNlLmdldFZpc2l0Rm4oZSkpfWpkLnByb3RvdHlwZS52aXNpdE51bGw9TGQsamQucHJvdG90eXBlLnZpc2l0Qm9vbD1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnQ9TGQsamQucHJvdG90eXBlLnZpc2l0SW50OD1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnQxNj1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnQzMj1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnQ2ND1MZCxqZC5wcm90b3R5cGUudmlzaXRVaW50OD1MZCxqZC5wcm90b3R5cGUudmlzaXRVaW50MTY9TGQsamQucHJvdG90eXBlLnZpc2l0VWludDMyPUxkLGpkLnByb3RvdHlwZS52aXNpdFVpbnQ2ND1MZCxqZC5wcm90b3R5cGUudmlzaXRGbG9hdD1MZCxqZC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PUxkLGpkLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9TGQsamQucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1MZCxqZC5wcm90b3R5cGUudmlzaXRVdGY4PUxkLGpkLnByb3RvdHlwZS52aXNpdEJpbmFyeT1MZCxqZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9TGQsamQucHJvdG90eXBlLnZpc2l0RGF0ZT1MZCxqZC5wcm90b3R5cGUudmlzaXREYXRlRGF5PUxkLGpkLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZT1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZD1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1MZCxqZC5wcm90b3R5cGUudmlzaXRMaXN0PUxkLGpkLnByb3RvdHlwZS52aXNpdFN0cnVjdD1MZCxqZC5wcm90b3R5cGUudmlzaXRVbmlvbj1MZCxqZC5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPUxkLGpkLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPUxkLGpkLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9TGQsamQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9TGQsamQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPUxkLGpkLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoPUxkLGpkLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9TGQsamQucHJvdG90eXBlLnZpc2l0TWFwPUxkLFZkLmluc3RhbmNlPW5ldyBqZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLERkLmluc3RhbmNlPURkLlRvQXJyYXlWaXNpdG9yPXZvaWQgMDt2YXIgUmQ9SC5leHBvcnRzLE5kPWdlLEVkPVZkLENkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBSZC5fX2V4dGVuZHModCxlKSx0fShkaS5WaXNpdG9yKTtmdW5jdGlvbiB6ZChlKXt2YXIgdD1lLnR5cGUscj1lLmxlbmd0aCxuPWUuc3RyaWRlO3N3aXRjaCh0LnR5cGVJZCl7Y2FzZSBOZC5UeXBlLkludDpjYXNlIE5kLlR5cGUuRmxvYXQ6Y2FzZSBOZC5UeXBlLkRlY2ltYWw6Y2FzZSBOZC5UeXBlLlRpbWU6Y2FzZSBOZC5UeXBlLlRpbWVzdGFtcDpyZXR1cm4gZS5kYXRhLnZhbHVlcy5zdWJhcnJheSgwLHIqbil9cmV0dXJuIFJkLl9fc3ByZWFkKEVkLmluc3RhbmNlLnZpc2l0KGUpKX1EZC5Ub0FycmF5VmlzaXRvcj1DZCxDZC5wcm90b3R5cGUudmlzaXROdWxsPXpkLENkLnByb3RvdHlwZS52aXNpdEJvb2w9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50PXpkLENkLnByb3RvdHlwZS52aXNpdEludDg9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50MTY9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50MzI9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50NjQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VWludDg9emQsQ2QucHJvdG90eXBlLnZpc2l0VWludDE2PXpkLENkLnByb3RvdHlwZS52aXNpdFVpbnQzMj16ZCxDZC5wcm90b3R5cGUudmlzaXRVaW50NjQ9emQsQ2QucHJvdG90eXBlLnZpc2l0RmxvYXQ9emQsQ2QucHJvdG90eXBlLnZpc2l0RmxvYXQxNj16ZCxDZC5wcm90b3R5cGUudmlzaXRGbG9hdDMyPXpkLENkLnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VXRmOD16ZCxDZC5wcm90b3R5cGUudmlzaXRCaW5hcnk9emQsQ2QucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PXpkLENkLnByb3RvdHlwZS52aXNpdERhdGU9emQsQ2QucHJvdG90eXBlLnZpc2l0RGF0ZURheT16ZCxDZC5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWU9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdERlY2ltYWw9emQsQ2QucHJvdG90eXBlLnZpc2l0TGlzdD16ZCxDZC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9emQsQ2QucHJvdG90eXBlLnZpc2l0VW5pb249emQsQ2QucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbj16ZCxDZC5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj16ZCxDZC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PXpkLENkLnByb3RvdHlwZS52aXNpdEludGVydmFsPXpkLENkLnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZT16ZCxDZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD16ZCxDZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PXpkLENkLnByb3RvdHlwZS52aXNpdE1hcD16ZCxEZC5pbnN0YW5jZT1uZXcgQ2Q7dmFyIGtkPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShrZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksa2QuaW5zdGFuY2U9a2QuQnl0ZVdpZHRoVmlzaXRvcj12b2lkIDA7dmFyIFdkPUguZXhwb3J0cyxZZD1nZSxIZD1mdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LEdkPWZ1bmN0aW9uKGUpe3JldHVybiJDYW5ub3QgY29tcHV0ZSB0aGUgYnl0ZSB3aWR0aCBvZiB2YXJpYWJsZS13aWR0aCBjb2x1bW4gIitlfSxKZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gV2QuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUpe3JldHVybiAwfSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlKXtyZXR1cm4gZS5iaXRXaWR0aC84fSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUpe3JldHVybiBlLkFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVH0sdC5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKEdkKGUpKX0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihHZChlKSl9LHQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlKXtyZXR1cm4gMS84fSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIDE2fSx0LnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIDQqKGUudW5pdCsxKX0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlLmJpdFdpZHRoLzh9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPWZ1bmN0aW9uKGUpe3JldHVybiBlLnVuaXQ9PT1ZZC5UaW1lVW5pdC5TRUNPTkQ/NDo4fSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsPWZ1bmN0aW9uKGUpe3JldHVybiA0KihlLnVuaXQrMSl9LHQucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoR2QoZSkpfSx0LnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdEZpZWxkcyhlLmNoaWxkcmVuKS5yZWR1Y2UoSGQsMCl9LHQucHJvdG90eXBlLnZpc2l0VW5pb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmlzaXRGaWVsZHMoZS5jaGlsZHJlbikucmVkdWNlKEhkLDApfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5ieXRlV2lkdGh9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5saXN0U2l6ZSp0aGlzLnZpc2l0RmllbGRzKGUuY2hpbGRyZW4pLnJlZHVjZShIZCwwKX0sdC5wcm90b3R5cGUudmlzaXRNYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmlzaXRGaWVsZHMoZS5jaGlsZHJlbikucmVkdWNlKEhkLDApfSx0LnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmlzaXQoZS5pbmRpY2VzKX0sdC5wcm90b3R5cGUudmlzaXRGaWVsZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4oZXx8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQudmlzaXQoZS50eXBlKX0pKX0sdC5wcm90b3R5cGUudmlzaXRTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmlzaXRGaWVsZHMoZS5maWVsZHMpLnJlZHVjZShIZCwwKX0sdH0oZGkuVmlzaXRvcik7a2QuQnl0ZVdpZHRoVmlzaXRvcj1KZCxrZC5pbnN0YW5jZT1uZXcgSmQ7dmFyIFpkPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShaZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksWmQuaW5zdGFuY2U9WmQuR2V0VmVjdG9yQ29uc3RydWN0b3I9dm9pZCAwO3ZhciBLZD1ILmV4cG9ydHMsWGQ9RWMscWQ9WWMsUWQ9S2MsJGQ9bmwsZXA9YWwsdHA9cGwscnA9YmwsbnA9bWwsaXA9Rmwsb3A9UmwsYXA9bmYsdXA9dWYsc3A9cGYsY3A9YmYsbHA9VGYsZnA9VmYsZHA9TGYscHA9emYseXA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEtkLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbigpe3JldHVybiBzcC5OdWxsVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gcWQuQm9vbFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gb3AuSW50VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludDg9ZnVuY3Rpb24oKXtyZXR1cm4gb3AuSW50OFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRJbnQxNj1mdW5jdGlvbigpe3JldHVybiBvcC5JbnQxNlZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRJbnQzMj1mdW5jdGlvbigpe3JldHVybiBvcC5JbnQzMlZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRJbnQ2ND1mdW5jdGlvbigpe3JldHVybiBvcC5JbnQ2NFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRVaW50OD1mdW5jdGlvbigpe3JldHVybiBvcC5VaW50OFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRVaW50MTY9ZnVuY3Rpb24oKXtyZXR1cm4gb3AuVWludDE2VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFVpbnQzMj1mdW5jdGlvbigpe3JldHVybiBvcC5VaW50MzJWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VWludDY0PWZ1bmN0aW9uKCl7cmV0dXJuIG9wLlVpbnQ2NFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRGbG9hdD1mdW5jdGlvbigpe3JldHVybiBucC5GbG9hdFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PWZ1bmN0aW9uKCl7cmV0dXJuIG5wLkZsb2F0MTZWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQzMj1mdW5jdGlvbigpe3JldHVybiBucC5GbG9hdDMyVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnAuRmxvYXQ2NFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKCl7cmV0dXJuIHBwLlV0ZjhWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIFhkLkJpbmFyeVZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdHAuRml4ZWRTaXplQmluYXJ5VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gUWQuRGF0ZVZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXREYXRlRGF5PWZ1bmN0aW9uKCl7cmV0dXJuIFFkLkRhdGVEYXlWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIFFkLkRhdGVNaWxsaXNlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gbHAuVGltZXN0YW1wVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD1mdW5jdGlvbigpe3JldHVybiBscC5UaW1lc3RhbXBTZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gbHAuVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gbHAuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBscC5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZnAuVGltZVZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGZwLlRpbWVTZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGZwLlRpbWVNaWxsaXNlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnAuVGltZU1pY3Jvc2Vjb25kVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGZwLlRpbWVOYW5vc2Vjb25kVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oKXtyZXR1cm4gJGQuRGVjaW1hbFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGFwLkxpc3RWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGNwLlN0cnVjdFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbigpe3JldHVybiBkcC5VbmlvblZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGRwLkRlbnNlVW5pb25WZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gZHAuU3BhcnNlVW5pb25WZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbigpe3JldHVybiBlcC5EaWN0aW9uYXJ5VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGlwLkludGVydmFsVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZT1mdW5jdGlvbigpe3JldHVybiBpcC5JbnRlcnZhbERheVRpbWVWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gaXAuSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbigpe3JldHVybiBycC5GaXhlZFNpemVMaXN0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbigpe3JldHVybiB1cC5NYXBWZWN0b3J9LHR9KGRpLlZpc2l0b3IpO1pkLkdldFZlY3RvckNvbnN0cnVjdG9yPXlwLFpkLmluc3RhbmNlPW5ldyB5cCxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGU9ZS5TdHJ1Y3RSb3c9ZS5NYXBSb3c9ZS5VdGY4VmVjdG9yPWUuU3BhcnNlVW5pb25WZWN0b3I9ZS5EZW5zZVVuaW9uVmVjdG9yPWUuVW5pb25WZWN0b3I9ZS5UaW1lTmFub3NlY29uZFZlY3Rvcj1lLlRpbWVNaWNyb3NlY29uZFZlY3Rvcj1lLlRpbWVNaWxsaXNlY29uZFZlY3Rvcj1lLlRpbWVTZWNvbmRWZWN0b3I9ZS5UaW1lVmVjdG9yPWUuVGltZXN0YW1wTmFub3NlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBTZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBWZWN0b3I9ZS5TdHJ1Y3RWZWN0b3I9ZS5OdWxsVmVjdG9yPWUuTWFwVmVjdG9yPWUuTGlzdFZlY3Rvcj1lLlVpbnQ2NFZlY3Rvcj1lLlVpbnQzMlZlY3Rvcj1lLlVpbnQxNlZlY3Rvcj1lLlVpbnQ4VmVjdG9yPWUuSW50NjRWZWN0b3I9ZS5JbnQzMlZlY3Rvcj1lLkludDE2VmVjdG9yPWUuSW50OFZlY3Rvcj1lLkludFZlY3Rvcj1lLkludGVydmFsWWVhck1vbnRoVmVjdG9yPWUuSW50ZXJ2YWxEYXlUaW1lVmVjdG9yPWUuSW50ZXJ2YWxWZWN0b3I9ZS5GbG9hdDY0VmVjdG9yPWUuRmxvYXQzMlZlY3Rvcj1lLkZsb2F0MTZWZWN0b3I9ZS5GbG9hdFZlY3Rvcj1lLkZpeGVkU2l6ZUxpc3RWZWN0b3I9ZS5GaXhlZFNpemVCaW5hcnlWZWN0b3I9ZS5EaWN0aW9uYXJ5VmVjdG9yPWUuRGVjaW1hbFZlY3Rvcj1lLkRhdGVNaWxsaXNlY29uZFZlY3Rvcj1lLkRhdGVEYXlWZWN0b3I9ZS5EYXRlVmVjdG9yPWUuQ2h1bmtlZD1lLkJvb2xWZWN0b3I9ZS5CaW5hcnlWZWN0b3I9ZS5CYXNlVmVjdG9yPWUuVmVjdG9yPXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj1fZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5WZWN0b3J9fSk7dmFyIG49RmM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJhc2VWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLkJhc2VWZWN0b3J9fSk7dmFyIGk9RWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJpbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuQmluYXJ5VmVjdG9yfX0pO3ZhciBvPVljO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCb29sVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5Cb29sVmVjdG9yfX0pO3ZhciBhPWdhO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDaHVua2VkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5DaHVua2VkfX0pO3ZhciB1PUtjO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5EYXRlVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlRGF5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5EYXRlRGF5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LkRhdGVNaWxsaXNlY29uZFZlY3Rvcn19KTt2YXIgcz1ubDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGVjaW1hbFZlY3Rvcn19KTt2YXIgYz1hbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGljdGlvbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuRGljdGlvbmFyeVZlY3Rvcn19KTt2YXIgbD1wbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5GaXhlZFNpemVCaW5hcnlWZWN0b3J9fSk7dmFyIGY9Ymw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3RWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkZpeGVkU2l6ZUxpc3RWZWN0b3J9fSk7dmFyIGQ9bWw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXQzMlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXQ2NFZlY3Rvcn19KTt2YXIgcD1GbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkludGVydmFsVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbERheVRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkludGVydmFsRGF5VGltZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkludGVydmFsWWVhck1vbnRoVmVjdG9yfX0pO3ZhciB5PVJsO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LkludFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50OFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSW50OFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LkludDE2VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDY0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5JbnQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlVpbnQ4VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlVpbnQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDMyVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5VaW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuVWludDY0VmVjdG9yfX0pO3ZhciBoPW5mO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5MaXN0VmVjdG9yfX0pO3ZhciBiPXVmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNYXBWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiLk1hcFZlY3Rvcn19KTt2YXIgdj1wZjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuTnVsbFZlY3Rvcn19KTt2YXIgXz1iZjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXy5TdHJ1Y3RWZWN0b3J9fSk7dmFyIG09VGY7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uVGltZXN0YW1wVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLlRpbWVzdGFtcFNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3J9fSk7dmFyIGc9VmY7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLlRpbWVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLlRpbWVTZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVGltZU1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLlRpbWVNaWNyb3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLlRpbWVOYW5vc2Vjb25kVmVjdG9yfX0pO3ZhciBCPUxmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEIuVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlbnNlVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCLkRlbnNlVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwYXJzZVVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQi5TcGFyc2VVbmlvblZlY3Rvcn19KTt2YXIgVD16ZjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFQuVXRmOFZlY3Rvcn19KTt2YXIgST1UYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwUm93Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSS5NYXBSb3d9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN0cnVjdFJvdyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEkuU3RydWN0Um93fX0pO3ZhciB3PUpmLE89Z2UsUz1fZSxBPWdhLEQ9RmMsVj13ZSxQPVEsTT12ZSxGPVpmLFU9Zmksaj1CZCx4PURkLEw9VmQsUj1rZCxOPVpkO1MuVmVjdG9yLm5ldz1mdW5jdGlvbihlKXtmb3IodmFyIHIsbj1bXSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ktMV09YXJndW1lbnRzW2ldO3JldHVybiBuZXcoKHI9Ti5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpKCkpLmJpbmQuYXBwbHkocix0Ll9fc3ByZWFkKFt2b2lkIDAsZV0sbikpKX0sUy5WZWN0b3IuZnJvbT1mdW5jdGlvbihlKXt2YXIgcj10aGlzLG49dC5fX2Fzc2lnbih7bnVsbFZhbHVlczpbbnVsbCx2b2lkIDBdfSxlKSxpPW4udmFsdWVzLG89dm9pZCAwPT09aT9bXTppLGE9dC5fX3Jlc3QobixbInZhbHVlcyJdKTtpZihQLmlzSXRlcmFibGUobykpe3ZhciB1PXQuX19zcHJlYWQoTS5CdWlsZGVyLnRocm91Z2hJdGVyYWJsZShhKShvKSk7cmV0dXJuIDE9PT11Lmxlbmd0aD91WzBdOkEuQ2h1bmtlZC5jb25jYXQodSl9cmV0dXJuIHM9W10sdC5fX2F3YWl0ZXIocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHIsbixpLHUsYyxsO3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGYpe3N3aXRjaChmLmxhYmVsKXtjYXNlIDA6ZT1NLkJ1aWxkZXIudGhyb3VnaEFzeW5jSXRlcmFibGUoYSksZi5sYWJlbD0xO2Nhc2UgMTpmLnRyeXMucHVzaChbMSw2LDcsMTJdKSxyPXQuX19hc3luY1ZhbHVlcyhlKG8pKSxmLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHIubmV4dCgpXTtjYXNlIDM6aWYoKG49Zi5zZW50KCkpLmRvbmUpcmV0dXJuWzMsNV07aT1uLnZhbHVlLHMucHVzaChpKSxmLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblszLDJdO2Nhc2UgNTpyZXR1cm5bMywxMl07Y2FzZSA2OnJldHVybiB1PWYuc2VudCgpLGM9e2Vycm9yOnV9LFszLDEyXTtjYXNlIDc6cmV0dXJuIGYudHJ5cy5wdXNoKFs3LCwxMCwxMV0pLG4mJiFuLmRvbmUmJihsPXIucmV0dXJuKT9bNCxsLmNhbGwocildOlszLDldO2Nhc2UgODpmLnNlbnQoKSxmLmxhYmVsPTk7Y2FzZSA5OnJldHVyblszLDExXTtjYXNlIDEwOmlmKGMpdGhyb3cgYy5lcnJvcjtyZXR1cm5bN107Y2FzZSAxMTpyZXR1cm5bN107Y2FzZSAxMjpyZXR1cm5bMiwxPT09cy5sZW5ndGg/c1swXTpBLkNodW5rZWQuY29uY2F0KHMpXX19KSl9KSk7dmFyIHN9LGUudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlPWZ1bmN0aW9uKGUscil7aWYoUC5pc0l0ZXJhYmxlKHIpKXJldHVybiBTLlZlY3Rvci5mcm9tKHtudWxsVmFsdWVzOltudWxsLHZvaWQgMF0sdHlwZTplKCksdmFsdWVzOnJ9KTtpZihQLmlzQXN5bmNJdGVyYWJsZShyKSlyZXR1cm4gUy5WZWN0b3IuZnJvbSh7bnVsbFZhbHVlczpbbnVsbCx2b2lkIDBdLHR5cGU6ZSgpLHZhbHVlczpyfSk7dmFyIG49dC5fX2Fzc2lnbih7fSxyKSxpPW4udmFsdWVzLG89dm9pZCAwPT09aT9bXTppLGE9bi50eXBlLHU9dm9pZCAwPT09YT9lKCk6YSxzPW4ubnVsbFZhbHVlcyxjPXZvaWQgMD09PXM/W251bGwsdm9pZCAwXTpzO3JldHVybiBQLmlzSXRlcmFibGUobyksUy5WZWN0b3IuZnJvbSh0Ll9fYXNzaWduKHQuX19hc3NpZ24oe251bGxWYWx1ZXM6Y30scikse3R5cGU6dX0pKX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEYuaW5zdGFuY2UudmlzaXQodGhpcyxlKX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVS5pbnN0YW5jZS52aXNpdCh0aGlzLGUsdCl9LEQuQmFzZVZlY3Rvci5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQpe3JldHVybiBqLmluc3RhbmNlLnZpc2l0KHRoaXMsZSx0KX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHguaW5zdGFuY2UudmlzaXQodGhpcyl9LEQuQmFzZVZlY3Rvci5wcm90b3R5cGUuZ2V0Qnl0ZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIFIuaW5zdGFuY2UudmlzaXQodGhpcy50eXBlKX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIEwuaW5zdGFuY2UudmlzaXQodGhpcyl9LEQuQmFzZVZlY3Rvci5wcm90b3R5cGUuX2JpbmREYXRhQWNjZXNzb3JzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5udWxsQml0bWFwO2UmJmUuYnl0ZUxlbmd0aD4wJiYodGhpcy5nZXQ9KHQ9dGhpcy5nZXQsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNWYWxpZChlKT90LmNhbGwodGhpcyxlKTpudWxsfSksdGhpcy5zZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7Vi5zZXRCb29sKHRoaXMubnVsbEJpdG1hcCx0aGlzLm9mZnNldCt0LCEobnVsbD09cikpJiZlLmNhbGwodGhpcyx0LHIpfX0odGhpcy5zZXQpKTt2YXIgdH0sT2JqZWN0LmtleXMoTy5UeXBlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPLlR5cGVbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PU8uVHlwZS5OT05FfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0LHI9Ti5pbnN0YW5jZS52aXNpdChlKTtyLnByb3RvdHlwZS5nZXQ9dy5wYXJ0aWFsMShGLmluc3RhbmNlLmdldFZpc2l0Rm4oZSkpLHIucHJvdG90eXBlLnNldD13LnBhcnRpYWwyKFUuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSksci5wcm90b3R5cGUuaW5kZXhPZj13LnBhcnRpYWwyKGouaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSksci5wcm90b3R5cGUudG9BcnJheT13LnBhcnRpYWwwKHguaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSksci5wcm90b3R5cGUuZ2V0Qnl0ZVdpZHRoPSh0PVIuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSxmdW5jdGlvbigpe3JldHVybiB0KHRoaXMudHlwZSl9KSxyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPXcucGFydGlhbDAoTC5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpKX0pKX0oTWMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX2EuVGFibGU9dm9pZCAwO3ZhciBocD1ILmV4cG9ydHMsYnA9bWEsdnA9eW8sX3A9d3UsbXA9dmEsZ3A9RG4sQnA9RmUsVHA9R2EsSXA9USx3cD1CYyxPcD1NYyxTcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciByLG49W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpXT1hcmd1bWVudHNbaV07dmFyIG89dGhpcyxhPW51bGw7blswXWluc3RhbmNlb2YgZ3AuU2NoZW1hJiYoYT1uWzBdKTt2YXIgdT1uWzBdaW5zdGFuY2VvZiB0P25bMF0uY2h1bmtzOlRwLnNlbGVjdEFyZ3MobXAuUmVjb3JkQmF0Y2gsbik7aWYoIWEmJiEoYT1udWxsPT09KHI9dVswXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc2NoZW1hKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUYWJsZSBtdXN0IGJlIGluaXRpYWxpemVkIHdpdGggYSBTY2hlbWEgb3IgYXQgbGVhc3Qgb25lIFJlY29yZEJhdGNoIik7cmV0dXJuIHVbMF18fCh1WzBdPW5ldyBtcC5fSW50ZXJuYWxFbXB0eVBsYWNlaG9sZGVyUmVjb3JkQmF0Y2goYSkpLChvPWUuY2FsbCh0aGlzLG5ldyBCcC5TdHJ1Y3QoYS5maWVsZHMpLHUpfHx0aGlzKS5fc2NoZW1hPWEsby5fY2h1bmtzPXUsb31yZXR1cm4gaHAuX19leHRlbmRzKHQsZSksdC5lbXB0eT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGdwLlNjaGVtYShbXSkpLG5ldyB0KGUsW10pfSx0LmZyb209ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztpZighZSlyZXR1cm4gdC5lbXB0eSgpO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7dmFyIG49SXAuaXNJdGVyYWJsZShlLnZhbHVlcyk/ZnVuY3Rpb24oZSl7aWYoZS50eXBlIGluc3RhbmNlb2YgQnAuU3RydWN0KXJldHVybiBTcC5mcm9tU3RydWN0KE9wLlN0cnVjdFZlY3Rvci5mcm9tKGUpKTtyZXR1cm4gbnVsbH0oZSk6SXAuaXNBc3luY0l0ZXJhYmxlKGUudmFsdWVzKT9mdW5jdGlvbihlKXtpZihlLnR5cGUgaW5zdGFuY2VvZiBCcC5TdHJ1Y3QpcmV0dXJuIE9wLlN0cnVjdFZlY3Rvci5mcm9tKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBTcC5mcm9tU3RydWN0KGUpfSkpO3JldHVybiBudWxsfShlKTpudWxsO2lmKG51bGwhPT1uKXJldHVybiBufXZhciBpLG89dnAuUmVjb3JkQmF0Y2hSZWFkZXIuZnJvbShlKTtyZXR1cm4gSXAuaXNQcm9taXNlKG8pP2hwLl9fYXdhaXRlcihyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gaHAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj0oZT10KS5mcm9tLFs0LG9dO2Nhc2UgMTpyZXR1cm5bNCxyLmFwcGx5KGUsW24uc2VudCgpXSldO2Nhc2UgMjpyZXR1cm5bMixuLnNlbnQoKV19fSkpfSkpOm8uaXNTeW5jKCkmJihvPW8ub3BlbigpKT9vLnNjaGVtYT9uZXcgdChvLnNjaGVtYSxocC5fX3NwcmVhZChvKSk6dC5lbXB0eSgpOihpPW8ub3BlbigpLGhwLl9fYXdhaXRlcihyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscixuLG8sYSx1LHMsYyxsO3JldHVybiBocC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihmKXtzd2l0Y2goZi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGldO2Nhc2UgMTppZihlPWYuc2VudCgpLHI9ZS5zY2hlbWEsbj1bXSwhcilyZXR1cm5bMywxNF07Zi5sYWJlbD0yO2Nhc2UgMjpmLnRyeXMucHVzaChbMiw3LDgsMTNdKSxvPWhwLl9fYXN5bmNWYWx1ZXMoZSksZi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bNCxvLm5leHQoKV07Y2FzZSA0OmlmKChhPWYuc2VudCgpKS5kb25lKXJldHVyblszLDZdO3U9YS52YWx1ZSxuLnB1c2godSksZi5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMywzXTtjYXNlIDY6cmV0dXJuWzMsMTNdO2Nhc2UgNzpyZXR1cm4gcz1mLnNlbnQoKSxjPXtlcnJvcjpzfSxbMywxM107Y2FzZSA4OnJldHVybiBmLnRyeXMucHVzaChbOCwsMTEsMTJdKSxhJiYhYS5kb25lJiYobD1vLnJldHVybik/WzQsbC5jYWxsKG8pXTpbMywxMF07Y2FzZSA5OmYuc2VudCgpLGYubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm5bMywxMl07Y2FzZSAxMTppZihjKXRocm93IGMuZXJyb3I7cmV0dXJuWzddO2Nhc2UgMTI6cmV0dXJuWzddO2Nhc2UgMTM6cmV0dXJuWzIsbmV3IHQocixuKV07Y2FzZSAxNDpyZXR1cm5bMix0LmVtcHR5KCldfX0pKX0pKSl9LHQuZnJvbUFzeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBocC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBocC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHQuZnJvbShlKV07Y2FzZSAxOnJldHVyblsyLHIuc2VudCgpXX19KSl9KSl9LHQuZnJvbVN0cnVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5uZXcoZS5kYXRhLmNoaWxkRGF0YSxlLnR5cGUuY2hpbGRyZW4pfSx0Lm5ldz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbmV3KHQuYmluZC5hcHBseSh0LGhwLl9fc3ByZWFkKFt2b2lkIDBdLHdwLmRpc3RyaWJ1dGVDb2x1bW5zSW50b1JlY29yZEJhdGNoZXMoVHAuc2VsZWN0Q29sdW1uQXJncyhlKSkpKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwic2NoZW1hIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjaHVua3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2h1bmtzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtQ29scyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1DaGlsZHJlbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5fY2h1bmtzKSxuZXcgdCh0aGlzLl9zY2hlbWEsZSl9LHQucHJvdG90eXBlLmdldENvbHVtbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDb2x1bW5BdCh0aGlzLmdldENvbHVtbkluZGV4KGUpKX0sdC5wcm90b3R5cGUuZ2V0Q29sdW1uQXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRBdChlKX0sdC5wcm90b3R5cGUuZ2V0Q29sdW1uSW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NjaGVtYS5maWVsZHMuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKX0sdC5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihlKXtpZihlPDB8fGU+PXRoaXMubnVtQ2hpbGRyZW4pcmV0dXJuIG51bGw7dmFyIHQscixuPXRoaXMuX3NjaGVtYS5maWVsZHMsaT10aGlzLl9jaGlsZHJlbnx8KHRoaXMuX2NoaWxkcmVuPVtdKTtpZihyPWlbZV0pcmV0dXJuIHI7aWYodD1uW2VdKXt2YXIgbz10aGlzLl9jaHVua3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRDaGlsZEF0KGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWV9KSk7aWYoby5sZW5ndGg+MClyZXR1cm4gaVtlXT1uZXcgYnAuQ29sdW1uKHQsbyl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksKHQ/X3AuUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXI6X3AuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyKS53cml0ZUFsbCh0aGlzKS50b1VpbnQ4QXJyYXkoITApfSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LHQucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj10aGlzLl9zY2hlbWEuZmllbGRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnNldCh0Lm5hbWUscil9KSxuZXcgTWFwKTtyZXR1cm4gdGhpcy5zZWxlY3RBdC5hcHBseSh0aGlzLGhwLl9fc3ByZWFkKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5nZXQoZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZT4tMX0pKSkpfSx0LnByb3RvdHlwZS5zZWxlY3RBdD1mdW5jdGlvbigpe2Zvcih2YXIgZSxyPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbl09YXJndW1lbnRzW25dO3ZhciBpPShlPXRoaXMuX3NjaGVtYSkuc2VsZWN0QXQuYXBwbHkoZSxocC5fX3NwcmVhZChyKSk7cmV0dXJuIG5ldyB0KGksdGhpcy5fY2h1bmtzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgsbj1lLmRhdGEuY2hpbGREYXRhO3JldHVybiBuZXcgbXAuUmVjb3JkQmF0Y2goaSx0LHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKS5maWx0ZXIoQm9vbGVhbikpfSkpKX0sdC5wcm90b3R5cGUuYXNzaWduPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMsbj10aGlzLl9zY2hlbWEuZmllbGRzLGk9aHAuX19yZWFkKGUuc2NoZW1hLmZpZWxkcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1ocC5fX3JlYWQoZSwyKSxvPWlbMF0sYT1pWzFdLHU9bi5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10Lm5hbWV9KSk7cmV0dXJufnU/YVt1XT1yOm8ucHVzaChyKSxlfSksW1tdLFtdXSksMiksbz1pWzBdLGE9aVsxXSx1PXRoaXMuX3NjaGVtYS5hc3NpZ24oZS5zY2hlbWEpLHM9aHAuX19zcHJlYWQobi5tYXAoKGZ1bmN0aW9uKHQsbixpLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz1hW25dKSx2b2lkIDA9PT1vP3IuZ2V0Q29sdW1uQXQobik6ZS5nZXRDb2x1bW5BdChvKX0pKSxvLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0Q29sdW1uQXQodCl9KSkpLmZpbHRlcihCb29sZWFuKTtyZXR1cm4gbmV3KHQuYmluZC5hcHBseSh0LGhwLl9fc3ByZWFkKFt2b2lkIDBdLHdwLmRpc3RyaWJ1dGVWZWN0b3JzSW50b1JlY29yZEJhdGNoZXModSxzKSkpKX0sdH0oT3AuQ2h1bmtlZCk7X2EuVGFibGU9U3AsT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx2YS5fSW50ZXJuYWxFbXB0eVBsYWNlaG9sZGVyUmVjb3JkQmF0Y2g9dmEuUmVjb3JkQmF0Y2g9dm9pZCAwO3ZhciBBcD1ILmV4cG9ydHMsRHA9SWUsVnA9X2EsUHA9X2UsTXA9ZGksRnA9RG4sVXA9USxqcD1nYSx4cD1HYSxMcD1GZSxScD1CYyxOcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciB0LHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07dmFyIGksbyxhPXRoaXMsdT1yWzBdO2lmKHJbMV1pbnN0YW5jZW9mIERwLkRhdGEpaT0odD1BcC5fX3JlYWQociwzKSlbMV0sbz10WzJdO2Vsc2V7dmFyIHM9dS5maWVsZHMsYz1BcC5fX3JlYWQociwzKSxsPWNbMV0sZj1jWzJdO2k9RHAuRGF0YS5TdHJ1Y3QobmV3IExwLlN0cnVjdChzKSwwLGwsMCxudWxsLGYpfXJldHVybihhPWUuY2FsbCh0aGlzLGksbyl8fHRoaXMpLl9zY2hlbWE9dSxhfXJldHVybiBBcC5fX2V4dGVuZHModCxlKSx0LmZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIFVwLmlzSXRlcmFibGUoZS52YWx1ZXMpLFZwLlRhYmxlLmZyb20oZSl9LHQubmV3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3ZhciBuPUFwLl9fcmVhZCh4cC5zZWxlY3RGaWVsZEFyZ3MoZSksMiksaT1uWzBdLG89blsxXSxhPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFBwLlZlY3Rvcn0pKTtyZXR1cm4gbmV3KHQuYmluZC5hcHBseSh0LEFwLl9fc3ByZWFkKFt2b2lkIDBdLFJwLmVuc3VyZVNhbWVMZW5ndGhEYXRhKG5ldyBGcC5TY2hlbWEoaSksYS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGF9KSkpKSkpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj10aGlzLl9jaGlsZHJlbiksbmV3IHQodGhpcy5fc2NoZW1hLGUscil9LHQucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3JdPWFyZ3VtZW50c1tyXTt2YXIgbj10aGlzLl9zY2hlbWEsaT1qcC5DaHVua2VkLmZsYXR0ZW4uYXBwbHkoanAuQ2h1bmtlZCxBcC5fX3NwcmVhZChbdGhpc10sZSkpO3JldHVybiBuZXcgVnAuVGFibGUobixpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5kYXRhO3JldHVybiBuZXcgdChuLHIpfSkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzY2hlbWEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtQ29scyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWEuZmllbGRzLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImRpY3Rpb25hcmllcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWN0aW9uYXJpZXN8fCh0aGlzLl9kaWN0aW9uYXJpZXM9Q3AuY29sbGVjdCh0aGlzKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPXRoaXMuX3NjaGVtYS5maWVsZHMucmVkdWNlKChmdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc2V0KHQubmFtZSxyKX0pLG5ldyBNYXApO3JldHVybiB0aGlzLnNlbGVjdEF0LmFwcGx5KHRoaXMsQXAuX19zcHJlYWQoZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLmdldChlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlPi0xfSkpKSl9LHQucHJvdG90eXBlLnNlbGVjdEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHI9dGhpcyxuPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciBvPShlPXRoaXMuX3NjaGVtYSkuc2VsZWN0QXQuYXBwbHkoZSxBcC5fX3NwcmVhZChuKSksYT1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGF0YS5jaGlsZERhdGFbZV19KSkuZmlsdGVyKEJvb2xlYW4pO3JldHVybiBuZXcgdChvLHRoaXMubGVuZ3RoLGEpfSx0fShNYy5TdHJ1Y3RWZWN0b3IpO3ZhLlJlY29yZEJhdGNoPU5wO3ZhciBFcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0LDAsdC5maWVsZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gRHAuRGF0YS5uZXcoZS50eXBlLDAsMCwwKX0pKSl8fHRoaXN9cmV0dXJuIEFwLl9fZXh0ZW5kcyh0LGUpLHR9KE5wKTt2YS5fSW50ZXJuYWxFbXB0eVBsYWNlaG9sZGVyUmVjb3JkQmF0Y2g9RXA7dmFyIENwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuZGljdGlvbmFyaWVzPW5ldyBNYXAsdH1yZXR1cm4gQXAuX19leHRlbmRzKHQsZSksdC5jb2xsZWN0PWZ1bmN0aW9uKGUpe3JldHVybihuZXcgdCkudmlzaXQoZS5kYXRhLG5ldyBMcC5TdHJ1Y3QoZS5zY2hlbWEuZmllbGRzKSkuZGljdGlvbmFyaWVzfSx0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIExwLkRhdGFUeXBlLmlzRGljdGlvbmFyeSh0KT90aGlzLnZpc2l0RGljdGlvbmFyeShlLHQpOihlLmNoaWxkRGF0YS5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3JldHVybiByLnZpc2l0KGUsdC5jaGlsZHJlbltuXS50eXBlKX0pKSx0aGlzKX0sdC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5kaWN0aW9uYXJ5O3JldHVybiByJiZyLmxlbmd0aD4wJiZ0aGlzLmRpY3Rpb25hcmllcy5zZXQodC5pZCxyKSx0aGlzfSx0fShNcC5WaXNpdG9yKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoeW8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHlvLkFzeW5jUmVjb3JkQmF0Y2hGaWxlUmVhZGVyPXlvLlJlY29yZEJhdGNoRmlsZVJlYWRlcj15by5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPXlvLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyPXlvLlJlY29yZEJhdGNoUmVhZGVyPXZvaWQgMDt2YXIgenA9SC5leHBvcnRzLGtwPV9lLFdwPWdlLFlwPWhvLEhwPVksR3A9VW8sSnA9SG8sWnA9cW8sS3A9dmEsWHA9JCxxcD1PdSxRcD1RLCRwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9pbXBsPXQscn1yZXR1cm4genAuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjbG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5jbG9zZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzY2hlbWEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5zY2hlbWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJhdXRvRGVzdHJveSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmF1dG9EZXN0cm95fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwuZGljdGlvbmFyaWVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtRGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwubnVtRGljdGlvbmFyaWVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtUmVjb3JkQmF0Y2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLm51bVJlY29yZEJhdGNoZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJmb290ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5pc0ZpbGUoKT90aGlzLl9pbXBsLmZvb3RlcjpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzU3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmlzU3luYygpfSx0LnByb3RvdHlwZS5pc0FzeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwuaXNBc3luYygpfSx0LnByb3RvdHlwZS5pc0ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5pc0ZpbGUoKX0sdC5wcm90b3R5cGUuaXNTdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5pc1N0cmVhbSgpfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwubmV4dCgpfSx0LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW1wbC50aHJvdyhlKX0sdC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbXBsLnJldHVybihlKX0sdC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwuY2FuY2VsKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbXBsLnJlc2V0KGUpLHRoaXMuX0RPTVN0cmVhbT12b2lkIDAsdGhpcy5fbm9kZVN0cmVhbT12b2lkIDAsdGhpc30sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5faW1wbC5vcGVuKGUpO3JldHVybiBRcC5pc1Byb21pc2Uocik/ci50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpOnRoaXN9LHQucHJvdG90eXBlLnJlYWRSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW1wbC5pc0ZpbGUoKT90aGlzLl9pbXBsLnJlYWRSZWNvcmRCYXRjaChlKTpudWxsfSx0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGxbU3ltYm9sLml0ZXJhdG9yXSgpfSx0LnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKX0sdC5wcm90b3R5cGUudG9ET01TdHJlYW09ZnVuY3Rpb24oKXt2YXIgZSx0LHI9dGhpcztyZXR1cm4gSHAuZGVmYXVsdC50b0RPTVN0cmVhbSh0aGlzLmlzU3luYygpPygoZT17fSlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSxlKTooKHQ9e30pW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSx0KSl9LHQucHJvdG90eXBlLnRvTm9kZVN0cmVhbT1mdW5jdGlvbigpe3ZhciBlLHQscj10aGlzO3JldHVybiBIcC5kZWZhdWx0LnRvTm9kZVN0cmVhbSh0aGlzLmlzU3luYygpPygoZT17fSlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSxlKTooKHQ9e30pW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSx0KSx7b2JqZWN0TW9kZTohMH0pfSx0LnRocm91Z2hOb2RlPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcignInRocm91Z2hOb2RlIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX0sdC50aHJvdWdoRE9NPWZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IEVycm9yKCcidGhyb3VnaERPTSIgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyl9LHQuZnJvbT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3JldHVybiBlIGluc3RhbmNlb2YgdD9lOlFwLmlzQXJyb3dKU09OKGUpP2Z1bmN0aW9uKGUpe3JldHVybiBuZXcgZXkobmV3IGN5KGUpKX0oZSk6UXAuaXNGaWxlSGFuZGxlKGUpP2Z1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbjtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxlLnN0YXQoKV07Y2FzZSAxOnJldHVybiB0PWkuc2VudCgpLnNpemUscj1uZXcgSnAuQXN5bmNSYW5kb21BY2Nlc3NGaWxlKGUsdCksdD49cXAubWFnaWNYMkFuZFBhZGRpbmc/KG49cXAuY2hlY2tGb3JNYWdpY0Fycm93U3RyaW5nLFs0LHIucmVhZEF0KDAscXAubWFnaWNMZW5ndGgrNyYtOCldKTpbMywzXTtjYXNlIDI6aWYobi5hcHBseSh2b2lkIDAsW2kuc2VudCgpXSkpcmV0dXJuWzIsbmV3IG55KG5ldyBzeShyKSldO2kubGFiZWw9MztjYXNlIDM6cmV0dXJuWzIsbmV3IHR5KG5ldyBheShyKSldfX0pKX0pKX0oZSk6UXAuaXNQcm9taXNlKGUpP3pwLl9fYXdhaXRlcihyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbjtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj0ocj10KS5mcm9tLFs0LGVdO2Nhc2UgMTpyZXR1cm5bNCxuLmFwcGx5KHIsW2kuc2VudCgpXSldO2Nhc2UgMjpyZXR1cm5bMixpLnNlbnQoKV19fSkpfSkpOlFwLmlzRmV0Y2hSZXNwb25zZShlKXx8UXAuaXNSZWFkYWJsZURPTVN0cmVhbShlKXx8UXAuaXNSZWFkYWJsZU5vZGVTdHJlYW0oZSl8fFFwLmlzQXN5bmNJdGVyYWJsZShlKT9mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4saSxvO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGUucGVlayhxcC5tYWdpY0xlbmd0aCs3Ji04KV07Y2FzZSAxOnJldHVybih0PWEuc2VudCgpKSYmdC5ieXRlTGVuZ3RoPj00P3FwLmNoZWNrRm9yTWFnaWNBcnJvd1N0cmluZyh0KT9bMywyXToobj1uZXcgdHkobmV3IGF5KGUpKSxbMyw0XSk6WzMsNV07Y2FzZSAyOnJldHVybiBpPXJ5LmJpbmQsbz11eS5iaW5kLFs0LGUucmVhZCgpXTtjYXNlIDM6bj1uZXcoaS5hcHBseShyeSxbdm9pZCAwLG5ldyhvLmFwcGx5KHV5LFt2b2lkIDAsYS5zZW50KCldKSldKSksYS5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gcj1uLFszLDZdO2Nhc2UgNTpyPW5ldyB0eShuZXcgYXkoZnVuY3Rpb24oKXtyZXR1cm4genAuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSgpKSksYS5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMixyXX19KSl9KSl9KG5ldyBHcC5Bc3luY0J5dGVTdHJlYW0oZSkpOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGVlayhxcC5tYWdpY0xlbmd0aCs3Ji04KTtyZXR1cm4gdCYmdC5ieXRlTGVuZ3RoPj00P3FwLmNoZWNrRm9yTWFnaWNBcnJvd1N0cmluZyh0KT9uZXcgcnkobmV3IHV5KGUucmVhZCgpKSk6bmV3IGV5KG5ldyBveShlKSk6bmV3IGV5KG5ldyBveShmdW5jdGlvbigpe3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KCkpKX0obmV3IEdwLkJ5dGVTdHJlYW0oZSkpfSx0LnJlYWRBbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P2UuaXNTeW5jKCk/ZnkoZSk6ZHkoZSk6UXAuaXNBcnJvd0pTT04oZSl8fEFycmF5QnVmZmVyLmlzVmlldyhlKXx8UXAuaXNJdGVyYWJsZShlKXx8UXAuaXNJdGVyYXRvclJlc3VsdChlKT9meShlKTpkeShlKX0sdH0oWHAuUmVhZGFibGVJbnRlcm9wKTt5by5SZWNvcmRCYXRjaFJlYWRlcj0kcDt2YXIgZXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5faW1wbD10LHJ9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbFtTeW1ib2wuaXRlcmF0b3JdKCl9LHQucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB6cC5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls1LHpwLl9fdmFsdWVzKHpwLl9fYXN5bmNEZWxlZ2F0b3IoenAuX19hc3luY1ZhbHVlcyh0aGlzW1N5bWJvbC5pdGVyYXRvcl0oKSkpKV07Y2FzZSAxOnJldHVybls0LHpwLl9fYXdhaXQuYXBwbHkodm9pZCAwLFtlLnNlbnQoKV0pXTtjYXNlIDI6cmV0dXJuIGUuc2VudCgpLFsyXX19KSl9KSl9LHR9KCRwKTt5by5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlcj1leTt2YXIgdHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5faW1wbD10LHJ9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXIgaXMgbm90IEl0ZXJhYmxlIil9LHQucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpfSx0fSgkcCk7eW8uQXN5bmNSZWNvcmRCYXRjaFN0cmVhbVJlYWRlcj10eTt2YXIgcnk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5faW1wbD10LHJ9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHR9KGV5KTt5by5SZWNvcmRCYXRjaEZpbGVSZWFkZXI9cnk7dmFyIG55PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX2ltcGw9dCxyfXJldHVybiB6cC5fX2V4dGVuZHModCxlKSx0fSh0eSk7eW8uQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXI9bnk7dmFyIGl5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT1uZXcgTWFwKSx0aGlzLmNsb3NlZD0hMSx0aGlzLmF1dG9EZXN0cm95PSEwLHRoaXMuX2RpY3Rpb25hcnlJbmRleD0wLHRoaXMuX3JlY29yZEJhdGNoSW5kZXg9MCx0aGlzLmRpY3Rpb25hcmllcz1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bURpY3Rpb25hcmllcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWN0aW9uYXJ5SW5kZXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1SZWNvcmRCYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY29yZEJhdGNoSW5kZXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmlzQXN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuaXNGaWxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmlzU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaWN0aW9uYXJ5SW5kZXg9MCx0aGlzLl9yZWNvcmRCYXRjaEluZGV4PTAsdGhpcy5zY2hlbWE9ZSx0aGlzLmRpY3Rpb25hcmllcz1uZXcgTWFwLHRoaXN9LGUucHJvdG90eXBlLl9sb2FkUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEtwLlJlY29yZEJhdGNoKHRoaXMuc2NoZW1hLGUubGVuZ3RoLHRoaXMuX2xvYWRWZWN0b3JzKGUsdCx0aGlzLnNjaGVtYS5maWVsZHMpKX0sZS5wcm90b3R5cGUuX2xvYWREaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmlkLG49ZS5pc0RlbHRhLGk9ZS5kYXRhLG89dGhpcy5kaWN0aW9uYXJpZXMsYT10aGlzLnNjaGVtYSx1PW8uZ2V0KHIpO2lmKG58fCF1KXt2YXIgcz1hLmRpY3Rpb25hcmllcy5nZXQocik7cmV0dXJuIHUmJm4/dS5jb25jYXQoa3AuVmVjdG9yLm5ldyh0aGlzLl9sb2FkVmVjdG9ycyhpLHQsW3NdKVswXSkpOmtwLlZlY3Rvci5uZXcodGhpcy5fbG9hZFZlY3RvcnMoaSx0LFtzXSlbMF0pfXJldHVybiB1fSxlLnByb3RvdHlwZS5fbG9hZFZlY3RvcnM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgWnAuVmVjdG9yTG9hZGVyKHQsZS5ub2RlcyxlLmJ1ZmZlcnMsdGhpcy5kaWN0aW9uYXJpZXMpLnZpc2l0TWFueShyKX0sZX0oKSxveT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMscil8fHRoaXM7cmV0dXJuIG4uX3JlYWRlcj1RcC5pc0Fycm93SlNPTih0KT9uZXcgcXAuSlNPTk1lc3NhZ2VSZWFkZXIobi5faGFuZGxlPXQpOm5ldyBxcC5NZXNzYWdlUmVhZGVyKG4uX2hhbmRsZT10KSxufXJldHVybiB6cC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5pc1N5bmM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuaXNTdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXshdGhpcy5jbG9zZWQmJih0aGlzLmNsb3NlZD0hMCkmJih0aGlzLnJlc2V0KCkuX3JlYWRlci5yZXR1cm4oKSx0aGlzLl9yZWFkZXI9bnVsbCx0aGlzLmRpY3Rpb25hcmllcz1udWxsKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zZWR8fCh0aGlzLmF1dG9EZXN0cm95PWx5KHRoaXMsZSksdGhpcy5zY2hlbWF8fCh0aGlzLnNjaGVtYT10aGlzLl9yZWFkZXIucmVhZFNjaGVtYSgpKXx8dGhpcy5jYW5jZWwoKSksdGhpc30sdC5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuY2xvc2VkJiZ0aGlzLmF1dG9EZXN0cm95JiYodGhpcy5jbG9zZWQ9ITApP3RoaXMucmVzZXQoKS5fcmVhZGVyLnRocm93KGUpOlhwLklURVJBVE9SX0RPTkV9LHQucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5jbG9zZWQmJnRoaXMuYXV0b0Rlc3Ryb3kmJih0aGlzLmNsb3NlZD0hMCk/dGhpcy5yZXNldCgpLl9yZWFkZXIucmV0dXJuKGUpOlhwLklURVJBVE9SX0RPTkV9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gWHAuSVRFUkFUT1JfRE9ORTtmb3IodmFyIGUsdD10aGlzLl9yZWFkZXI7ZT10aGlzLl9yZWFkTmV4dE1lc3NhZ2VBbmRWYWxpZGF0ZSgpOylpZihlLmlzU2NoZW1hKCkpdGhpcy5yZXNldChlLmhlYWRlcigpKTtlbHNle2lmKGUuaXNSZWNvcmRCYXRjaCgpKXt0aGlzLl9yZWNvcmRCYXRjaEluZGV4Kys7dmFyIHI9ZS5oZWFkZXIoKSxuPXQucmVhZE1lc3NhZ2VCb2R5KGUuYm9keUxlbmd0aCk7cmV0dXJue2RvbmU6ITEsdmFsdWU6dGhpcy5fbG9hZFJlY29yZEJhdGNoKHIsbil9fWlmKGUuaXNEaWN0aW9uYXJ5QmF0Y2goKSl7dGhpcy5fZGljdGlvbmFyeUluZGV4Kys7cj1lLmhlYWRlcigpLG49dC5yZWFkTWVzc2FnZUJvZHkoZS5ib2R5TGVuZ3RoKTt2YXIgaT10aGlzLl9sb2FkRGljdGlvbmFyeUJhdGNoKHIsbik7dGhpcy5kaWN0aW9uYXJpZXMuc2V0KHIuaWQsaSl9fXJldHVybiB0aGlzLnNjaGVtYSYmMD09PXRoaXMuX3JlY29yZEJhdGNoSW5kZXg/KHRoaXMuX3JlY29yZEJhdGNoSW5kZXgrKyx7ZG9uZTohMSx2YWx1ZTpuZXcgS3AuX0ludGVybmFsRW1wdHlQbGFjZWhvbGRlclJlY29yZEJhdGNoKHRoaXMuc2NoZW1hKX0pOnRoaXMucmV0dXJuKCl9LHQucHJvdG90eXBlLl9yZWFkTmV4dE1lc3NhZ2VBbmRWYWxpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlKGUpfSx0fShpeSksYXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzLHIpfHx0aGlzO3JldHVybiBuLl9yZWFkZXI9bmV3IHFwLkFzeW5jTWVzc2FnZVJlYWRlcihuLl9oYW5kbGU9dCksbn1yZXR1cm4genAuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuaXNBc3luYz1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5pc1N0cmVhbT1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2xvc2VkfHwhKHRoaXMuY2xvc2VkPSEwKT9bMywyXTpbNCx0aGlzLnJlc2V0KCkuX3JlYWRlci5yZXR1cm4oKV07Y2FzZSAxOmUuc2VudCgpLHRoaXMuX3JlYWRlcj1udWxsLHRoaXMuZGljdGlvbmFyaWVzPW51bGwsZS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2xvc2VkP1szLDRdOih0aGlzLmF1dG9EZXN0cm95PWx5KHRoaXMsZSksKHQ9dGhpcy5zY2hlbWEpP1szLDJdOihyPXRoaXMsWzQsdGhpcy5fcmVhZGVyLnJlYWRTY2hlbWEoKV0pKTtjYXNlIDE6dD1yLnNjaGVtYT1uLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0P1szLDRdOls0LHRoaXMuY2FuY2VsKCldO2Nhc2UgMzpuLnNlbnQoKSxuLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyLHRoaXNdfX0pKX0pKX0sdC5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIXRoaXMuY2xvc2VkJiZ0aGlzLmF1dG9EZXN0cm95JiYodGhpcy5jbG9zZWQ9ITApP1s0LHRoaXMucmVzZXQoKS5fcmVhZGVyLnRocm93KGUpXTpbMywyXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldO2Nhc2UgMjpyZXR1cm5bMixYcC5JVEVSQVRPUl9ET05FXX19KSl9KSl9LHQucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4hdGhpcy5jbG9zZWQmJnRoaXMuYXV0b0Rlc3Ryb3kmJih0aGlzLmNsb3NlZD0hMCk/WzQsdGhpcy5yZXNldCgpLl9yZWFkZXIucmV0dXJuKGUpXTpbMywyXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldO2Nhc2UgMjpyZXR1cm5bMixYcC5JVEVSQVRPUl9ET05FXX19KSl9KSl9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuY2xvc2VkKXJldHVyblsyLFhwLklURVJBVE9SX0RPTkVdO3Q9dGhpcy5fcmVhZGVyLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzQsdGhpcy5fcmVhZE5leHRNZXNzYWdlQW5kVmFsaWRhdGUoKV07Y2FzZSAyOnJldHVybihlPW8uc2VudCgpKT9lLmlzU2NoZW1hKCk/WzQsdGhpcy5yZXNldChlLmhlYWRlcigpKV06WzMsNF06WzMsOV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxbMyw4XTtjYXNlIDQ6cmV0dXJuIGUuaXNSZWNvcmRCYXRjaCgpPyh0aGlzLl9yZWNvcmRCYXRjaEluZGV4Kysscj1lLmhlYWRlcigpLFs0LHQucmVhZE1lc3NhZ2VCb2R5KGUuYm9keUxlbmd0aCldKTpbMyw2XTtjYXNlIDU6cmV0dXJuIG49by5zZW50KCksWzIse2RvbmU6ITEsdmFsdWU6dGhpcy5fbG9hZFJlY29yZEJhdGNoKHIsbil9XTtjYXNlIDY6cmV0dXJuIGUuaXNEaWN0aW9uYXJ5QmF0Y2goKT8odGhpcy5fZGljdGlvbmFyeUluZGV4Kysscj1lLmhlYWRlcigpLFs0LHQucmVhZE1lc3NhZ2VCb2R5KGUuYm9keUxlbmd0aCldKTpbMyw4XTtjYXNlIDc6bj1vLnNlbnQoKSxpPXRoaXMuX2xvYWREaWN0aW9uYXJ5QmF0Y2gocixuKSx0aGlzLmRpY3Rpb25hcmllcy5zZXQoci5pZCxpKSxvLmxhYmVsPTg7Y2FzZSA4OnJldHVyblszLDFdO2Nhc2UgOTpyZXR1cm4gdGhpcy5zY2hlbWEmJjA9PT10aGlzLl9yZWNvcmRCYXRjaEluZGV4Pyh0aGlzLl9yZWNvcmRCYXRjaEluZGV4KyssWzIse2RvbmU6ITEsdmFsdWU6bmV3IEtwLl9JbnRlcm5hbEVtcHR5UGxhY2Vob2xkZXJSZWNvcmRCYXRjaCh0aGlzLnNjaGVtYSl9XSk6WzQsdGhpcy5yZXR1cm4oKV07Y2FzZSAxMDpyZXR1cm5bMixvLnNlbnQoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcmVhZE5leHRNZXNzYWdlQW5kVmFsaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlKGUpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldfX0pKX0pKX0sdH0oaXkpLHV5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCBpbnN0YW5jZW9mIEpwLlJhbmRvbUFjY2Vzc0ZpbGU/dDpuZXcgSnAuUmFuZG9tQWNjZXNzRmlsZSh0KSxyKXx8dGhpc31yZXR1cm4genAuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJmb290ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtRGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlcj90aGlzLl9mb290ZXIubnVtRGljdGlvbmFyaWVzOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1SZWNvcmRCYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlcj90aGlzLl9mb290ZXIubnVtUmVjb3JkQmF0Y2hlczowfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzU3luYz1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5pc0ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0KXt2YXIgcixuO2lmKCF0aGlzLmNsb3NlZCYmIXRoaXMuX2Zvb3Rlcil7dGhpcy5zY2hlbWE9KHRoaXMuX2Zvb3Rlcj10aGlzLl9yZWFkRm9vdGVyKCkpLnNjaGVtYTt0cnl7Zm9yKHZhciBpPXpwLl9fdmFsdWVzKHRoaXMuX2Zvb3Rlci5kaWN0aW9uYXJ5QmF0Y2hlcygpKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7by52YWx1ZSYmdGhpcy5fcmVhZERpY3Rpb25hcnlCYXRjaCh0aGlzLl9kaWN0aW9uYXJ5SW5kZXgrKyl9fWNhdGNoKGEpe3I9e2Vycm9yOmF9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX19cmV0dXJuIGUucHJvdG90eXBlLm9wZW4uY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5yZWFkUmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG51bGw7dGhpcy5fZm9vdGVyfHx0aGlzLm9wZW4oKTt2YXIgdD10aGlzLl9mb290ZXImJnRoaXMuX2Zvb3Rlci5nZXRSZWNvcmRCYXRjaChlKTtpZih0JiZ0aGlzLl9oYW5kbGUuc2Vlayh0Lm9mZnNldCkpe3ZhciByPXRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShXcC5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoKTtpZihudWxsPT1yP3ZvaWQgMDpyLmlzUmVjb3JkQmF0Y2goKSl7dmFyIG49ci5oZWFkZXIoKSxpPXRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZUJvZHkoci5ib2R5TGVuZ3RoKTtyZXR1cm4gdGhpcy5fbG9hZFJlY29yZEJhdGNoKG4saSl9fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fcmVhZERpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9mb290ZXImJnRoaXMuX2Zvb3Rlci5nZXREaWN0aW9uYXJ5QmF0Y2goZSk7aWYodCYmdGhpcy5faGFuZGxlLnNlZWsodC5vZmZzZXQpKXt2YXIgcj10aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2UoV3AuTWVzc2FnZUhlYWRlci5EaWN0aW9uYXJ5QmF0Y2gpO2lmKG51bGw9PXI/dm9pZCAwOnIuaXNEaWN0aW9uYXJ5QmF0Y2goKSl7dmFyIG49ci5oZWFkZXIoKSxpPXRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZUJvZHkoci5ib2R5TGVuZ3RoKSxvPXRoaXMuX2xvYWREaWN0aW9uYXJ5QmF0Y2gobixpKTt0aGlzLmRpY3Rpb25hcmllcy5zZXQobi5pZCxvKX19fSx0LnByb3RvdHlwZS5fcmVhZEZvb3Rlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2hhbmRsZSx0PWUuc2l6ZS1xcC5tYWdpY0FuZFBhZGRpbmcscj1lLnJlYWRJbnQzMih0KSxuPWUucmVhZEF0KHQtcixyKTtyZXR1cm4gWXAuRm9vdGVyLmRlY29kZShuKX0sdC5wcm90b3R5cGUuX3JlYWROZXh0TWVzc2FnZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2Zvb3Rlcnx8dGhpcy5vcGVuKCksdGhpcy5fZm9vdGVyJiZ0aGlzLl9yZWNvcmRCYXRjaEluZGV4PHRoaXMubnVtUmVjb3JkQmF0Y2hlcyl7dmFyIHQ9dGhpcy5fZm9vdGVyJiZ0aGlzLl9mb290ZXIuZ2V0UmVjb3JkQmF0Y2godGhpcy5fcmVjb3JkQmF0Y2hJbmRleCk7aWYodCYmdGhpcy5faGFuZGxlLnNlZWsodC5vZmZzZXQpKXJldHVybiB0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2UoZSl9cmV0dXJuIG51bGx9LHR9KG95KSxzeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgcj1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKylyW24tMV09YXJndW1lbnRzW25dO3ZhciBpPSJudW1iZXIiIT10eXBlb2YgclswXT9yLnNoaWZ0KCk6dm9pZCAwLG89clswXWluc3RhbmNlb2YgTWFwP3Iuc2hpZnQoKTp2b2lkIDA7cmV0dXJuIGUuY2FsbCh0aGlzLHQgaW5zdGFuY2VvZiBKcC5Bc3luY1JhbmRvbUFjY2Vzc0ZpbGU/dDpuZXcgSnAuQXN5bmNSYW5kb21BY2Nlc3NGaWxlKHQsaSksbyl8fHRoaXN9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZm9vdGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bURpY3Rpb25hcmllcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb290ZXI/dGhpcy5fZm9vdGVyLm51bURpY3Rpb25hcmllczowfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtUmVjb3JkQmF0Y2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb290ZXI/dGhpcy5fZm9vdGVyLm51bVJlY29yZEJhdGNoZXM6MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc0ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuaXNBc3luYz1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG4saSxvLGEsdSxzLGM7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2xvc2VkfHx0aGlzLl9mb290ZXI/WzMsMTBdOihyPXRoaXMsbj10aGlzLFs0LHRoaXMuX3JlYWRGb290ZXIoKV0pO2Nhc2UgMTpyLnNjaGVtYT0obi5fZm9vdGVyPWwuc2VudCgpKS5zY2hlbWEsbC5sYWJlbD0yO2Nhc2UgMjpsLnRyeXMucHVzaChbMiw4LDksMTBdKSxpPXpwLl9fdmFsdWVzKHRoaXMuX2Zvb3Rlci5kaWN0aW9uYXJ5QmF0Y2hlcygpKSxvPWkubmV4dCgpLGwubGFiZWw9MztjYXNlIDM6cmV0dXJuIG8uZG9uZT9bMyw3XTooYT1vLnZhbHVlLGE/WzQsdGhpcy5fcmVhZERpY3Rpb25hcnlCYXRjaCh0aGlzLl9kaWN0aW9uYXJ5SW5kZXgrKyldOlszLDVdKTtjYXNlIDQ6bC5zZW50KCksbC5sYWJlbD01O2Nhc2UgNTpsLmxhYmVsPTY7Y2FzZSA2OnJldHVybiBvPWkubmV4dCgpLFszLDNdO2Nhc2UgNzpyZXR1cm5bMywxMF07Y2FzZSA4OnJldHVybiB1PWwuc2VudCgpLHM9e2Vycm9yOnV9LFszLDEwXTtjYXNlIDk6dHJ5e28mJiFvLmRvbmUmJihjPWkucmV0dXJuKSYmYy5jYWxsKGkpfWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfXJldHVybls3XTtjYXNlIDEwOnJldHVybls0LGUucHJvdG90eXBlLm9wZW4uY2FsbCh0aGlzLHQpXTtjYXNlIDExOnJldHVyblsyLGwuc2VudCgpXX19KSl9KSl9LHQucHJvdG90eXBlLnJlYWRSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4saSxvO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNsb3NlZD9bMixudWxsXTp0aGlzLl9mb290ZXI/WzMsMl06WzQsdGhpcy5vcGVuKCldO2Nhc2UgMTphLnNlbnQoKSxhLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0PXRoaXMuX2Zvb3RlciYmdGhpcy5fZm9vdGVyLmdldFJlY29yZEJhdGNoKGUpLChyPXQpP1s0LHRoaXMuX2hhbmRsZS5zZWVrKHQub2Zmc2V0KV06WzMsNF07Y2FzZSAzOnI9YS5zZW50KCksYS5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gcj9bNCx0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2UoV3AuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaCldOlszLDddO2Nhc2UgNTpyZXR1cm4obnVsbD09KG49YS5zZW50KCkpP3ZvaWQgMDpuLmlzUmVjb3JkQmF0Y2goKSk/KGk9bi5oZWFkZXIoKSxbNCx0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2VCb2R5KG4uYm9keUxlbmd0aCldKTpbMyw3XTtjYXNlIDY6cmV0dXJuIG89YS5zZW50KCksWzIsdGhpcy5fbG9hZFJlY29yZEJhdGNoKGksbyldO2Nhc2UgNzpyZXR1cm5bMixudWxsXX19KSl9KSl9LHQucHJvdG90eXBlLl9yZWFkRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixpLG8sYTtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLl9mb290ZXImJnRoaXMuX2Zvb3Rlci5nZXREaWN0aW9uYXJ5QmF0Y2goZSksKHI9dCk/WzQsdGhpcy5faGFuZGxlLnNlZWsodC5vZmZzZXQpXTpbMywyXTtjYXNlIDE6cj11LnNlbnQoKSx1LmxhYmVsPTI7Y2FzZSAyOnJldHVybiByP1s0LHRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShXcC5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaCldOlszLDVdO2Nhc2UgMzpyZXR1cm4obnVsbD09KG49dS5zZW50KCkpP3ZvaWQgMDpuLmlzRGljdGlvbmFyeUJhdGNoKCkpPyhpPW4uaGVhZGVyKCksWzQsdGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlQm9keShuLmJvZHlMZW5ndGgpXSk6WzMsNV07Y2FzZSA0Om89dS5zZW50KCksYT10aGlzLl9sb2FkRGljdGlvbmFyeUJhdGNoKGksbyksdGhpcy5kaWN0aW9uYXJpZXMuc2V0KGkuaWQsYSksdS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fcmVhZEZvb3Rlcj1mdW5jdGlvbigpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQscixuO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuX2hhbmRsZSxlLl9wZW5kaW5nP1s0LGUuX3BlbmRpbmddOlszLDJdO2Nhc2UgMTppLnNlbnQoKSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0PWUuc2l6ZS1xcC5tYWdpY0FuZFBhZGRpbmcsWzQsZS5yZWFkSW50MzIodCldO2Nhc2UgMzpyZXR1cm4gcj1pLnNlbnQoKSxbNCxlLnJlYWRBdCh0LXIscildO2Nhc2UgNDpyZXR1cm4gbj1pLnNlbnQoKSxbMixZcC5Gb290ZXIuZGVjb2RlKG4pXX19KSl9KSl9LHQucHJvdG90eXBlLl9yZWFkTmV4dE1lc3NhZ2VBbmRWYWxpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9mb290ZXI/WzMsMl06WzQsdGhpcy5vcGVuKCldO2Nhc2UgMTpuLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLl9mb290ZXImJnRoaXMuX3JlY29yZEJhdGNoSW5kZXg8dGhpcy5udW1SZWNvcmRCYXRjaGVzPyh0PXRoaXMuX2Zvb3Rlci5nZXRSZWNvcmRCYXRjaCh0aGlzLl9yZWNvcmRCYXRjaEluZGV4KSwocj10KT9bNCx0aGlzLl9oYW5kbGUuc2Vlayh0Lm9mZnNldCldOlszLDRdKTpbMyw2XTtjYXNlIDM6cj1uLnNlbnQoKSxuLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiByP1s0LHRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShlKV06WzMsNl07Y2FzZSA1OnJldHVyblsyLG4uc2VudCgpXTtjYXNlIDY6cmV0dXJuWzIsbnVsbF19fSkpfSkpfSx0fShheSksY3k9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3JldHVybiBlLmNhbGwodGhpcyx0LHIpfHx0aGlzfXJldHVybiB6cC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5fbG9hZFZlY3RvcnM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgWnAuSlNPTlZlY3RvckxvYWRlcih0LGUubm9kZXMsZS5idWZmZXJzLHRoaXMuZGljdGlvbmFyaWVzKS52aXNpdE1hbnkocil9LHR9KG95KTtmdW5jdGlvbiBseShlLHQpe3JldHVybiB0JiYiYm9vbGVhbiI9PXR5cGVvZiB0LmF1dG9EZXN0cm95P3QuYXV0b0Rlc3Ryb3k6ZS5hdXRvRGVzdHJveX1mdW5jdGlvbiBmeShlKXt2YXIgdDtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDp0PSRwLmZyb20oZSksci5sYWJlbD0xO2Nhc2UgMTppZihyLnRyeXMucHVzaChbMSwsNiw3XSksdC5vcGVuKHthdXRvRGVzdHJveTohMX0pLmNsb3NlZClyZXR1cm5bMyw1XTtyLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHRdO2Nhc2UgMzpyLnNlbnQoKSxyLmxhYmVsPTQ7Y2FzZSA0OmlmKCF0LnJlc2V0KCkub3BlbigpLmNsb3NlZClyZXR1cm5bMywyXTtyLmxhYmVsPTU7Y2FzZSA1OnJldHVyblszLDddO2Nhc2UgNjpyZXR1cm4gdC5jYW5jZWwoKSxbN107Y2FzZSA3OnJldHVyblsyXX19KSl9ZnVuY3Rpb24gZHkoZSl7cmV0dXJuIHpwLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsenAuX19hd2FpdCgkcC5mcm9tKGUpKV07Y2FzZSAxOnQ9ci5zZW50KCksci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsLDEwLDEyXSksWzQsenAuX19hd2FpdCh0Lm9wZW4oe2F1dG9EZXN0cm95OiExfSkpXTtjYXNlIDM6aWYoci5zZW50KCkuY2xvc2VkKXJldHVyblszLDldO3IubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsenAuX19hd2FpdCh0KV07Y2FzZSA1OnJldHVybls0LHIuc2VudCgpXTtjYXNlIDY6ci5zZW50KCksci5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bNCx6cC5fX2F3YWl0KHQucmVzZXQoKS5vcGVuKCkpXTtjYXNlIDg6aWYoIXIuc2VudCgpLmNsb3NlZClyZXR1cm5bMyw0XTtyLmxhYmVsPTk7Y2FzZSA5OnJldHVyblszLDEyXTtjYXNlIDEwOnJldHVybls0LHpwLl9fYXdhaXQodC5jYW5jZWwoKSldO2Nhc2UgMTE6cmV0dXJuIHIuc2VudCgpLFs3XTtjYXNlIDEyOnJldHVyblsyXX19KSl9KSl9dmFyIHB5PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShweSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkscHkudG9ET01TdHJlYW09dm9pZCAwO3ZhciB5eT1ILmV4cG9ydHMsaHk9RyxieT1RO3B5LnRvRE9NU3RyZWFtPWZ1bmN0aW9uKGUsdCl7aWYoYnkuaXNBc3luY0l0ZXJhYmxlKGUpKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciByPW51bGwsbj0iYnl0ZXMiPT09KG51bGw9PXQ/dm9pZCAwOnQudHlwZSl8fCExLGk9KG51bGw9PXQ/dm9pZCAwOnQuaGlnaFdhdGVyTWFyayl8fE1hdGgucG93KDIsMjQpO3JldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oeXkuX19hc3NpZ24oeXkuX19hc3NpZ24oe30sdCkse3N0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB5eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB5eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8odCxyfHwocj1lW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpKSldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksWzJdfX0pKX0pKX0scHVsbDpmdW5jdGlvbihlKXtyZXR1cm4geXkuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4geXkuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj9bNCxvKGUscildOlszLDJdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzMsM107Y2FzZSAyOmUuY2xvc2UoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB5eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB5eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybihudWxsPT1yP3ZvaWQgMDpyLnJldHVybik/WzQsci5yZXR1cm4oKV06WzMsMl07Y2FzZSAxOmUuc2VudCgpLGUubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHI9bnVsbCxbMl19fSkpfSkpfX0pLHl5Ll9fYXNzaWduKHtoaWdoV2F0ZXJNYXJrOm4/aTp2b2lkIDB9LHQpKTtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIHl5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiB5eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmk9bnVsbCxvPWUuZGVzaXJlZFNpemV8fG51bGwsYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCx0Lm5leHQobj9vOm51bGwpXTtjYXNlIDI6cmV0dXJuKGk9YS5zZW50KCkpLmRvbmU/WzMsM106KEFycmF5QnVmZmVyLmlzVmlldyhpLnZhbHVlKSYmKHI9aHkudG9VaW50OEFycmF5KGkudmFsdWUpKSYmKG51bGwhPW8mJm4mJihvPW8tci5ieXRlTGVuZ3RoKzEpLGkudmFsdWU9ciksZS5lbnF1ZXVlKGkudmFsdWUpLG51bGwhPW8mJi0tbzw9MD9bMl06WzMsMV0pO2Nhc2UgMzpyZXR1cm4gZS5jbG9zZSgpLFsyXX19KSl9KSl9fShlLHQpO2lmKGJ5LmlzSXRlcmFibGUoZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbCxuPSJieXRlcyI9PT0obnVsbD09dD92b2lkIDA6dC50eXBlKXx8ITEsaT0obnVsbD09dD92b2lkIDA6dC5oaWdoV2F0ZXJNYXJrKXx8TWF0aC5wb3coMiwyNCk7cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh5eS5fX2Fzc2lnbih5eS5fX2Fzc2lnbih7fSx0KSx7c3RhcnQ6ZnVuY3Rpb24odCl7byh0LHJ8fChyPWVbU3ltYm9sLml0ZXJhdG9yXSgpKSl9LHB1bGw6ZnVuY3Rpb24oZSl7cj9vKGUscik6ZS5jbG9zZSgpfSxjYW5jZWw6ZnVuY3Rpb24oKXsobnVsbD09cj92b2lkIDA6ci5yZXR1cm4pJiZyLnJldHVybigpLHI9bnVsbH19KSx5eS5fX2Fzc2lnbih7aGlnaFdhdGVyTWFyazpuP2k6dm9pZCAwfSx0KSk7ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgcixpPW51bGwsbz1lLmRlc2lyZWRTaXplfHxudWxsOyEoaT10Lm5leHQobj9vOm51bGwpKS5kb25lOylpZihBcnJheUJ1ZmZlci5pc1ZpZXcoaS52YWx1ZSkmJihyPWh5LnRvVWludDhBcnJheShpLnZhbHVlKSkmJihudWxsIT1vJiZuJiYobz1vLXIuYnl0ZUxlbmd0aCsxKSxpLnZhbHVlPXIpLGUuZW5xdWV1ZShpLnZhbHVlKSxudWxsIT1vJiYtLW88PTApcmV0dXJuO2UuY2xvc2UoKX19KGUsdCk7dGhyb3cgbmV3IEVycm9yKCJ0b0RPTVN0cmVhbSgpIG11c3QgYmUgY2FsbGVkIHdpdGggYW4gSXRlcmFibGUgb3IgQXN5bmNJdGVyYWJsZSIpfTt2YXIgdnk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHZ5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx2eS5CdWlsZGVyVHJhbnNmb3JtPXZ5LmJ1aWxkZXJUaHJvdWdoRE9NU3RyZWFtPXZvaWQgMDt2YXIgX3k9SC5leHBvcnRzLG15PWJlO3Z5LmJ1aWxkZXJUaHJvdWdoRE9NU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZ3koZSl9O3ZhciBneT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQscixuPXRoaXM7dGhpcy5fbnVtQ2h1bmtzPTAsdGhpcy5fZmluaXNoZWQ9ITEsdGhpcy5fYnVmZmVyZWRTaXplPTA7dmFyIGk9ZS5yZWFkYWJsZVN0cmF0ZWd5LG89ZS53cml0YWJsZVN0cmF0ZWd5LGE9ZS5xdWV1ZWluZ1N0cmF0ZWd5LHU9dm9pZCAwPT09YT8iY291bnQiOmEscz1feS5fX3Jlc3QoZSxbInJlYWRhYmxlU3RyYXRlZ3kiLCJ3cml0YWJsZVN0cmF0ZWd5IiwicXVldWVpbmdTdHJhdGVneSJdKTt0aGlzLl9jb250cm9sbGVyPW51bGwsdGhpcy5fYnVpbGRlcj1teS5CdWlsZGVyLm5ldyhzKSx0aGlzLl9nZXRTaXplPSJieXRlcyIhPT11P0J5OlR5O3ZhciBjPV95Ll9fYXNzaWduKHt9LGkpLmhpZ2hXYXRlck1hcmssbD12b2lkIDA9PT1jPyJieXRlcyI9PT11P01hdGgucG93KDIsMTQpOjFlMzpjLGY9X3kuX19hc3NpZ24oe30sbykuaGlnaFdhdGVyTWFyayxkPXZvaWQgMD09PWY/ImJ5dGVzIj09PXU/TWF0aC5wb3coMiwxNCk6MWUzOmY7dGhpcy5yZWFkYWJsZT1uZXcgUmVhZGFibGVTdHJlYW0oKCh0PXt9KS5jYW5jZWw9ZnVuY3Rpb24oKXtuLl9idWlsZGVyLmNsZWFyKCl9LHQucHVsbD1mdW5jdGlvbihlKXtuLl9tYXliZUZsdXNoKG4uX2J1aWxkZXIsbi5fY29udHJvbGxlcj1lKX0sdC5zdGFydD1mdW5jdGlvbihlKXtuLl9tYXliZUZsdXNoKG4uX2J1aWxkZXIsbi5fY29udHJvbGxlcj1lKX0sdCkse2hpZ2hXYXRlck1hcms6bCxzaXplOiJieXRlcyIhPT11P0J5OlR5fSksdGhpcy53cml0YWJsZT1uZXcgV3JpdGFibGVTdHJlYW0oKChyPXt9KS5hYm9ydD1mdW5jdGlvbigpe24uX2J1aWxkZXIuY2xlYXIoKX0sci53cml0ZT1mdW5jdGlvbigpe24uX21heWJlRmx1c2gobi5fYnVpbGRlcixuLl9jb250cm9sbGVyKX0sci5jbG9zZT1mdW5jdGlvbigpe24uX21heWJlRmx1c2gobi5fYnVpbGRlci5maW5pc2goKSxuLl9jb250cm9sbGVyKX0scikse2hpZ2hXYXRlck1hcms6ZCxzaXplOmZ1bmN0aW9uKGUpe3JldHVybiBuLl93cml0ZVZhbHVlQW5kUmV0dXJuQ2h1bmtTaXplKGUpfX0pfXJldHVybiBlLnByb3RvdHlwZS5fd3JpdGVWYWx1ZUFuZFJldHVybkNodW5rU2l6ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9idWZmZXJlZFNpemU7cmV0dXJuIHRoaXMuX2J1ZmZlcmVkU2l6ZT10aGlzLl9nZXRTaXplKHRoaXMuX2J1aWxkZXIuYXBwZW5kKGUpKSx0aGlzLl9idWZmZXJlZFNpemUtdH0sZS5wcm90b3R5cGUuX21heWJlRmx1c2g9ZnVuY3Rpb24oZSx0KXtudWxsIT09dCYmKHRoaXMuX2J1ZmZlcmVkU2l6ZT49dC5kZXNpcmVkU2l6ZSYmKyt0aGlzLl9udW1DaHVua3MmJnRoaXMuX2VucXVldWUodCxlLnRvVmVjdG9yKCkpLGUuZmluaXNoZWQmJigoZS5sZW5ndGg+MHx8MD09PXRoaXMuX251bUNodW5rcykmJisrdGhpcy5fbnVtQ2h1bmtzJiZ0aGlzLl9lbnF1ZXVlKHQsZS50b1ZlY3RvcigpKSwhdGhpcy5fZmluaXNoZWQmJih0aGlzLl9maW5pc2hlZD0hMCkmJnRoaXMuX2VucXVldWUodCxudWxsKSkpfSxlLnByb3RvdHlwZS5fZW5xdWV1ZT1mdW5jdGlvbihlLHQpe3RoaXMuX2J1ZmZlcmVkU2l6ZT0wLHRoaXMuX2NvbnRyb2xsZXI9bnVsbCxudWxsPT09dD9lLmNsb3NlKCk6ZS5lbnF1ZXVlKHQpfSxlfSgpO3Z5LkJ1aWxkZXJUcmFuc2Zvcm09Z3k7dmFyIEJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0sVHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnl0ZUxlbmd0aH0sSXk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEl5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxJeS5yZWNvcmRCYXRjaFJlYWRlclRocm91Z2hET01TdHJlYW09dm9pZCAwO3ZhciB3eT1ILmV4cG9ydHMsT3k9VW8sU3k9eW87SXkucmVjb3JkQmF0Y2hSZWFkZXJUaHJvdWdoRE9NU3RyZWFtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IE95LkFzeW5jQnl0ZVF1ZXVlLG49bnVsbCxpPW5ldyBSZWFkYWJsZVN0cmVhbSh7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHd5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHd5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsci5jbG9zZSgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyXX19KSl9KSl9LHN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiB3eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsaTtyZXR1cm4gd3kuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD1hLHI9W2VdLChpPW4pP1szLDJdOls0LG8oKV07Y2FzZSAxOmk9bj11LnNlbnQoKSx1LmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHQuYXBwbHkodm9pZCAwLHIuY29uY2F0KFtpXSkpXTtjYXNlIDM6cmV0dXJuIHUuc2VudCgpLFsyXX19KSl9KSl9LHB1bGw6ZnVuY3Rpb24oZSl7cmV0dXJuIHd5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHd5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG4/WzQsYShlLG4pXTpbMywyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFszLDNdO2Nhc2UgMjplLmNsb3NlKCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfX0pO3JldHVybnt3cml0YWJsZTpuZXcgV3JpdGFibGVTdHJlYW0ocix3eS5fX2Fzc2lnbih7aGlnaFdhdGVyTWFyazpNYXRoLnBvdygyLDE0KX0sZSkpLHJlYWRhYmxlOml9O2Z1bmN0aW9uIG8oKXtyZXR1cm4gd3kuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gd3kuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxTeS5SZWNvcmRCYXRjaFJlYWRlci5mcm9tKHIpXTtjYXNlIDE6cmV0dXJuWzQsZS5zZW50KCkub3Blbih0KV07Y2FzZSAyOnJldHVyblsyLGUuc2VudCgpXX19KSl9KSl9ZnVuY3Rpb24gYShlLHQpe3JldHVybiB3eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG47cmV0dXJuIHd5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cj1lLmRlc2lyZWRTaXplLG49bnVsbCxpLmxhYmVsPTE7Y2FzZSAxOnJldHVybls0LHQubmV4dCgpXTtjYXNlIDI6cmV0dXJuKG49aS5zZW50KCkpLmRvbmU/WzMsM106KGUuZW5xdWV1ZShuLnZhbHVlKSxudWxsIT1yJiYtLXI8PTA/WzJdOlszLDFdKTtjYXNlIDM6cmV0dXJuIGUuY2xvc2UoKSxbMl19fSkpfSkpfX07dmFyIEF5PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShBeSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQXkucmVjb3JkQmF0Y2hXcml0ZXJUaHJvdWdoRE9NU3RyZWFtPXZvaWQgMDt2YXIgRHk9SC5leHBvcnRzLFZ5PVVvO0F5LnJlY29yZEJhdGNoV3JpdGVyVGhyb3VnaERPTVN0cmVhbT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyB0aGlzKGUpLG49bmV3IFZ5LkFzeW5jQnl0ZVN0cmVhbShyKSxpPW5ldyBSZWFkYWJsZVN0cmVhbSh7dHlwZToiYnl0ZXMiLGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiBEeS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBEeS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG4uY2FuY2VsKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0scHVsbDpmdW5jdGlvbihlKXtyZXR1cm4gRHkuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gRHkuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxvKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LHN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBEeS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBEeS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8oZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX19LER5Ll9fYXNzaWduKHtoaWdoV2F0ZXJNYXJrOk1hdGgucG93KDIsMTQpfSx0KSk7cmV0dXJue3dyaXRhYmxlOm5ldyBXcml0YWJsZVN0cmVhbShyLGUpLHJlYWRhYmxlOml9O2Z1bmN0aW9uIG8oZSl7cmV0dXJuIER5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4gRHkuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDp0PW51bGwscj1lLmRlc2lyZWRTaXplLGkubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzQsbi5yZWFkKHJ8fG51bGwpXTtjYXNlIDI6cmV0dXJuKHQ9aS5zZW50KCkpPyhlLmVucXVldWUodCksbnVsbCE9ciYmKHItPXQuYnl0ZUxlbmd0aCk8PTA/WzJdOlszLDFdKTpbMywzXTtjYXNlIDM6cmV0dXJuIGUuY2xvc2UoKSxbMl19fSkpfSkpfX07dmFyIFB5PXt9LE15PXt9LEZ5PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShGeSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRnkuY3VzdG9tPUZ5Lm9yPUZ5LmFuZD1GeS5jb2w9RnkubGl0PUZ5LkN1c3RvbVByZWRpY2F0ZT1GeS5Ob3Q9RnkuR1RlcT1GeS5MVGVxPUZ5LkVxdWFscz1GeS5Pcj1GeS5BbmQ9RnkuQ29tYmluYXRpb25QcmVkaWNhdGU9RnkuQ29tcGFyaXNvblByZWRpY2F0ZT1GeS5QcmVkaWNhdGU9RnkuQ29sPUZ5LkxpdGVyYWw9RnkuVmFsdWU9dm9pZCAwO3ZhciBVeT1ILmV4cG9ydHMsank9YWwseHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fCh0PW5ldyBMeSh0KSksbmV3IFd5KHRoaXMsdCl9LGUucHJvdG90eXBlLmxlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZXx8KHQ9bmV3IEx5KHQpKSxuZXcgWXkodGhpcyx0KX0sZS5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfHwodD1uZXcgTHkodCkpLG5ldyBIeSh0aGlzLHQpfSxlLnByb3RvdHlwZS5sdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEd5KHRoaXMuZ2UoZSkpfSxlLnByb3RvdHlwZS5ndD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEd5KHRoaXMubGUoZSkpfSxlLnByb3RvdHlwZS5uZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEd5KHRoaXMuZXEoZSkpfSxlfSgpO0Z5LlZhbHVlPXh5O3ZhciBMeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci52PXQscn1yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdH0oeHkpO0Z5LkxpdGVyYWw9THk7dmFyIFJ5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLm5hbWU9dCxyfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbGlkeCl7dGhpcy5jb2xpZHg9LTE7Zm9yKHZhciB0PWUuc2NoZW1hLmZpZWxkcyxyPS0xOysrcjx0Lmxlbmd0aDspaWYodFtyXS5uYW1lPT09dGhpcy5uYW1lKXt0aGlzLmNvbGlkeD1yO2JyZWFrfWlmKHRoaXMuY29saWR4PDApdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYmluZCBDb2wgIicrdGhpcy5uYW1lKyciJyl9dmFyIG49dGhpcy52ZWN0b3I9ZS5nZXRDaGlsZEF0KHRoaXMuY29saWR4KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0KGUpfX0sdH0oeHkpO0Z5LkNvbD1SeTt2YXIgTnk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG5ldyh6eS5iaW5kLmFwcGx5KHp5LFV5Ll9fc3ByZWFkKFt2b2lkIDAsdGhpc10sZSkpKX0sZS5wcm90b3R5cGUub3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG5ldyhreS5iaW5kLmFwcGx5KGt5LFV5Ll9fc3ByZWFkKFt2b2lkIDAsdGhpc10sZSkpKX0sZS5wcm90b3R5cGUubm90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHeSh0aGlzKX0sZX0oKTtGeS5QcmVkaWNhdGU9Tnk7dmFyIEV5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ubGVmdD10LG4ucmlnaHQ9cixufXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxlZnQgaW5zdGFuY2VvZiBMeT90aGlzLnJpZ2h0IGluc3RhbmNlb2YgTHk/dGhpcy5fYmluZExpdExpdChlLHRoaXMubGVmdCx0aGlzLnJpZ2h0KTp0aGlzLl9iaW5kTGl0Q29sKGUsdGhpcy5sZWZ0LHRoaXMucmlnaHQpOnRoaXMucmlnaHQgaW5zdGFuY2VvZiBMeT90aGlzLl9iaW5kQ29sTGl0KGUsdGhpcy5sZWZ0LHRoaXMucmlnaHQpOnRoaXMuX2JpbmRDb2xDb2woZSx0aGlzLmxlZnQsdGhpcy5yaWdodCl9LHR9KE55KTtGeS5Db21wYXJpc29uUHJlZGljYXRlPUV5O3ZhciBDeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jaGlsZHJlbj10LG59cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHR9KE55KTtGeS5Db21iaW5hdGlvblByZWRpY2F0ZT1DeSxDeS5wcm90b3R5cGUuY2hpbGRyZW49T2JqZWN0LmZyZWV6ZShbXSk7dmFyIHp5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHI9ci5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIgaW5zdGFuY2VvZiB0P3IuY2hpbGRyZW46cil9KSxbXSksZS5hcHBseSh0aGlzLFV5Ll9fc3ByZWFkKHIpKXx8dGhpc31yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmluZChlKX0pKTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQoZSxyKX0pKX19LHR9KEN5KTtGeS5BbmQ9enk7dmFyIGt5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHI9ci5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIgaW5zdGFuY2VvZiB0P3IuY2hpbGRyZW46cil9KSxbXSksZS5hcHBseSh0aGlzLFV5Ll9fc3ByZWFkKHIpKXx8dGhpc31yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmluZChlKX0pKTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdChlLHIpfSkpfX0sdH0oQ3kpO0Z5Lk9yPWt5O3ZhciBXeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuX2JpbmRMaXRMaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQudj09ci52O3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0sdC5wcm90b3R5cGUuX2JpbmRDb2xDb2w9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuYmluZChlKSxpPXIuYmluZChlKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLHQpPT1pKGUsdCl9fSx0LnByb3RvdHlwZS5fYmluZENvbExpdD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5iaW5kKGUpO2lmKHQudmVjdG9yIGluc3RhbmNlb2YgankuRGljdGlvbmFyeVZlY3Rvcil7dmFyIGksbz10LnZlY3RvcjtyZXR1cm4gby5kaWN0aW9uYXJ5IT09dGhpcy5sYXN0RGljdGlvbmFyeT8oaT1vLnJldmVyc2VMb29rdXAoci52KSx0aGlzLmxhc3REaWN0aW9uYXJ5PW8uZGljdGlvbmFyeSx0aGlzLmxhc3RLZXk9aSk6aT10aGlzLmxhc3RLZXksLTE9PT1pP2Z1bmN0aW9uKCl7cmV0dXJuITF9OmZ1bmN0aW9uKGUpe3JldHVybiBvLmdldEtleShlKT09PWl9fXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKGUsdCk9PXIudn19LHQucHJvdG90eXBlLl9iaW5kTGl0Q29sPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fYmluZENvbExpdChlLHIsdCl9LHR9KEV5KTtGeS5FcXVhbHM9V3k7dmFyIFl5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5fYmluZExpdExpdD1mdW5jdGlvbihlLHQscil7dmFyIG49dC52PD1yLnY7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG59fSx0LnByb3RvdHlwZS5fYmluZENvbENvbD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5iaW5kKGUpLGk9ci5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKGUsdCk8PWkoZSx0KX19LHQucHJvdG90eXBlLl9iaW5kQ29sTGl0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmJpbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0KTw9ci52fX0sdC5wcm90b3R5cGUuX2JpbmRMaXRDb2w9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIuYmluZChlKTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC52PD1uKGUscil9fSx0fShFeSk7RnkuTFRlcT1ZeTt2YXIgSHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLl9iaW5kTGl0TGl0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LnY+PXIudjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbn19LHQucHJvdG90eXBlLl9iaW5kQ29sQ29sPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmJpbmQoZSksaT1yLmJpbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0KT49aShlLHQpfX0sdC5wcm90b3R5cGUuX2JpbmRDb2xMaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuYmluZChlKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLHQpPj1yLnZ9fSx0LnByb3RvdHlwZS5fYmluZExpdENvbD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB0LnY+PW4oZSxyKX19LHR9KEV5KTtGeS5HVGVxPUh5O3ZhciBHeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5jaGlsZD10LHJ9cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jaGlsZC5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiF0KGUscil9fSx0fShOeSk7RnkuTm90PUd5O3ZhciBKeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLm5leHQ9dCxuLmJpbmRfPXIsbn1yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iaW5kXyhlKSx0aGlzLm5leHR9LHR9KE55KTtGeS5DdXN0b21QcmVkaWNhdGU9SnksRnkubGl0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTHkoZSl9LEZ5LmNvbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFJ5KGUpfSxGeS5hbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG5ldyh6eS5iaW5kLmFwcGx5KHp5LFV5Ll9fc3ByZWFkKFt2b2lkIDBdLGUpKSl9LEZ5Lm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBuZXcoa3kuYmluZC5hcHBseShreSxVeS5fX3NwcmVhZChbdm9pZCAwXSxlKSkpfSxGeS5jdXN0b209ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEp5KGUsdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNeSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksTXkuRmlsdGVyZWREYXRhRnJhbWU9TXkuQ291bnRCeVJlc3VsdD1NeS5EYXRhRnJhbWU9dm9pZCAwO3ZhciBaeT1ILmV4cG9ydHMsS3k9X2EsWHk9UmwscXk9RG4sUXk9RnksJHk9dmEsZWg9RmUsdGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFp5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGloKHRoaXMuY2h1bmtzLGUpfSx0LnByb3RvdHlwZS5zY2FuPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuY2h1bmtzLG49ci5sZW5ndGgsaT0tMTsrK2k8bjspe3ZhciBvPXJbaV07dCYmdChvKTtmb3IodmFyIGE9LTEsdT1vLmxlbmd0aDsrK2E8dTspZShhLG8pfX0sdC5wcm90b3R5cGUuc2NhblJldmVyc2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5jaHVua3Msbj1yLmxlbmd0aDstLW4+PTA7KXt2YXIgaT1yW25dO3QmJnQoaSk7Zm9yKHZhciBvPWkubGVuZ3RoOy0tbz49MDspZShvLGkpfX0sdC5wcm90b3R5cGUuY291bnRCeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNodW5rcyxyPXQubGVuZ3RoLG49InN0cmluZyI9PXR5cGVvZiBlP25ldyBReS5Db2woZSk6ZTtuLmJpbmQodFtyLTFdKTt2YXIgaT1uLnZlY3RvcjtpZighZWguRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KGkudHlwZSkpdGhyb3cgbmV3IEVycm9yKCJjb3VudEJ5IGN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIGRpY3Rpb25hcnktZW5jb2RlZCBjb2x1bW5zIik7Zm9yKHZhciBvPU1hdGguY2VpbChNYXRoLmxvZyhpLmxlbmd0aCkvTWF0aC5sb2coMjU2KSksYT1uZXcoND09bz9VaW50MzJBcnJheTpvPj0yP1VpbnQxNkFycmF5OlVpbnQ4QXJyYXkpKGkuZGljdGlvbmFyeS5sZW5ndGgpLHU9LTE7Kyt1PHI7KXt2YXIgcz10W3VdO24uYmluZChzKTtmb3IodmFyIGM9bi52ZWN0b3IuaW5kaWNlcyxsPS0xLGY9cy5sZW5ndGg7KytsPGY7KXt2YXIgZD1jLmdldChsKTtudWxsIT09ZCYmYVtkXSsrfX1yZXR1cm4gbmV3IHJoKGkuZGljdGlvbmFyeSxYeS5JbnRWZWN0b3IuZnJvbShhKSl9LHR9KEt5LlRhYmxlKTtNeS5EYXRhRnJhbWU9dGg7dmFyIHJoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1uZXcgcXkuU2NoZW1hKFtuZXcgcXkuRmllbGQoInZhbHVlcyIsdC50eXBlKSxuZXcgcXkuRmllbGQoImNvdW50cyIsci50eXBlKV0pO3JldHVybiBlLmNhbGwodGhpcyxuZXcgJHkuUmVjb3JkQmF0Y2gobixyLmxlbmd0aCxbdCxyXSkpfHx0aGlzfXJldHVybiBaeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRDb2x1bW5BdCgwKSx0PXRoaXMuZ2V0Q29sdW1uQXQoMSkscj17fSxuPS0xOysrbjx0aGlzLmxlbmd0aDspcltlLmdldChuKV09dC5nZXQobik7cmV0dXJuIHJ9LHR9KEt5LlRhYmxlKTtNeS5Db3VudEJ5UmVzdWx0PXJoO3ZhciBuaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmJhdGNoZXM9ZSx0aGlzLnByZWRpY2F0ZT10LHRoaXMuYmF0Y2hJbmRleD0wLHRoaXMuaW5kZXg9MCx0aGlzLmJhdGNoPXRoaXMuYmF0Y2hlc1t0aGlzLmJhdGNoSW5kZXhdLHRoaXMucHJlZGljYXRlRnVuYz10aGlzLnByZWRpY2F0ZS5iaW5kKHRoaXMuYmF0Y2gpfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmJhdGNoSW5kZXg8dGhpcy5iYXRjaGVzLmxlbmd0aDspe2Zvcig7dGhpcy5pbmRleDx0aGlzLmJhdGNoLmxlbmd0aDspe2lmKHRoaXMucHJlZGljYXRlRnVuYyh0aGlzLmluZGV4LHRoaXMuYmF0Y2gpKXJldHVybnt2YWx1ZTp0aGlzLmJhdGNoLmdldCh0aGlzLmluZGV4KyspfTt0aGlzLmluZGV4Kyt9Kyt0aGlzLmJhdGNoSW5kZXg8dGhpcy5iYXRjaGVzLmxlbmd0aCYmKHRoaXMuaW5kZXg9MCx0aGlzLmJhdGNoPXRoaXMuYmF0Y2hlc1t0aGlzLmJhdGNoSW5kZXhdLHRoaXMucHJlZGljYXRlRnVuYz10aGlzLnByZWRpY2F0ZS5iaW5kKHRoaXMuYmF0Y2gpKX1yZXR1cm57ZG9uZTohMCx2YWx1ZTpudWxsfX0sZS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfSgpLGloPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5fcHJlZGljYXRlPXIsbn1yZXR1cm4gWnkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2Nhbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLl9jaHVua3Msbj1yLmxlbmd0aCxpPS0xOysraTxuOylmb3IodmFyIG89cltpXSxhPXRoaXMuX3ByZWRpY2F0ZS5iaW5kKG8pLHU9ITEscz0tMSxjPW8ubGVuZ3RoOysrczxjOylhKHMsbykmJih0JiYhdSYmKHQobyksdT0hMCksZShzLG8pKX0sdC5wcm90b3R5cGUuc2NhblJldmVyc2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5fY2h1bmtzLG49ci5sZW5ndGg7LS1uPj0wOylmb3IodmFyIGk9cltuXSxvPXRoaXMuX3ByZWRpY2F0ZS5iaW5kKGkpLGE9ITEsdT1pLmxlbmd0aDstLXU+PTA7KW8odSxpKSYmKHQmJiFhJiYodChpKSxhPSEwKSxlKHUsaSkpfSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fY2h1bmtzLHI9dC5sZW5ndGgsbj0tMTsrK248cjspZm9yKHZhciBpPXRbbl0sbz10aGlzLl9wcmVkaWNhdGUuYmluZChpKSxhPS0xLHU9aS5sZW5ndGg7KythPHU7KW8oYSxpKSYmKytlO3JldHVybiBlfSx0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuaCh0aGlzLl9jaHVua3MsdGhpcy5fcHJlZGljYXRlKX0sdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh0aGlzLl9jaHVua3MsdGhpcy5fcHJlZGljYXRlLmFuZChlKSl9LHQucHJvdG90eXBlLmNvdW50Qnk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY2h1bmtzLHI9dC5sZW5ndGgsbj0ic3RyaW5nIj09dHlwZW9mIGU/bmV3IFF5LkNvbChlKTplO24uYmluZCh0W3ItMV0pO3ZhciBpPW4udmVjdG9yO2lmKCFlaC5EYXRhVHlwZS5pc0RpY3Rpb25hcnkoaS50eXBlKSl0aHJvdyBuZXcgRXJyb3IoImNvdW50QnkgY3VycmVudGx5IG9ubHkgc3VwcG9ydHMgZGljdGlvbmFyeS1lbmNvZGVkIGNvbHVtbnMiKTtmb3IodmFyIG89TWF0aC5jZWlsKE1hdGgubG9nKGkubGVuZ3RoKS9NYXRoLmxvZygyNTYpKSxhPW5ldyg0PT1vP1VpbnQzMkFycmF5Om8+PTI/VWludDE2QXJyYXk6VWludDhBcnJheSkoaS5kaWN0aW9uYXJ5Lmxlbmd0aCksdT0tMTsrK3U8cjspe3ZhciBzPXRbdV0sYz10aGlzLl9wcmVkaWNhdGUuYmluZChzKTtuLmJpbmQocyk7Zm9yKHZhciBsPW4udmVjdG9yLmluZGljZXMsZj0tMSxkPXMubGVuZ3RoOysrZjxkOyl7dmFyIHA9bC5nZXQoZik7bnVsbCE9PXAmJmMoZixzKSYmYVtwXSsrfX1yZXR1cm4gbmV3IHJoKGkuZGljdGlvbmFyeSxYeS5JbnRWZWN0b3IuZnJvbShhKSl9LHR9KHRoKTtmdW5jdGlvbiBvaChlKXtyZXR1cm4gVy5WZWN0b3IuZnJvbSh7dmFsdWVzOmUsdHlwZTpuZXcgVy5GbG9hdDMyLGhpZ2hXYXRlck1hcms6MWU2fSl9TXkuRmlsdGVyZWREYXRhRnJhbWU9aWgsZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXNUeXBlZEFycmF5PWUudXRpbD1lLnByZWRpY2F0ZT1lLkNvdW50QnlSZXN1bHQ9ZS5GaWx0ZXJlZERhdGFGcmFtZT1lLkRhdGFGcmFtZT1lLlJlY29yZEJhdGNoPWUuTWVzc2FnZT1lLkpTT05NZXNzYWdlUmVhZGVyPWUuQXN5bmNNZXNzYWdlUmVhZGVyPWUuTWVzc2FnZVJlYWRlcj1lLlJlY29yZEJhdGNoSlNPTldyaXRlcj1lLlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyPWUuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyPWUuUmVjb3JkQmF0Y2hXcml0ZXI9ZS5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPWUuQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXI9ZS5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlcj1lLlJlY29yZEJhdGNoRmlsZVJlYWRlcj1lLlJlY29yZEJhdGNoUmVhZGVyPWUuQXN5bmNCeXRlUXVldWU9ZS5Bc3luY0J5dGVTdHJlYW09ZS5CeXRlU3RyZWFtPWUuVXRmOEJ1aWxkZXI9ZS5TcGFyc2VVbmlvbkJ1aWxkZXI9ZS5EZW5zZVVuaW9uQnVpbGRlcj1lLlVuaW9uQnVpbGRlcj1lLlRpbWVOYW5vc2Vjb25kQnVpbGRlcj1lLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXI9ZS5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyPWUuVGltZVNlY29uZEJ1aWxkZXI9ZS5UaW1lQnVpbGRlcj1lLlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wU2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcEJ1aWxkZXI9ZS5TdHJ1Y3RCdWlsZGVyPWUuTnVsbEJ1aWxkZXI9ZS5NYXBCdWlsZGVyPWUuTGlzdEJ1aWxkZXI9ZS5VaW50NjRCdWlsZGVyPWUuVWludDMyQnVpbGRlcj1lLlVpbnQxNkJ1aWxkZXI9ZS5VaW50OEJ1aWxkZXI9ZS5JbnQ2NEJ1aWxkZXI9ZS5JbnQzMkJ1aWxkZXI9ZS5JbnQxNkJ1aWxkZXI9ZS5JbnQ4QnVpbGRlcj1lLkludEJ1aWxkZXI9ZS5JbnRlcnZhbFllYXJNb250aEJ1aWxkZXI9ZS5JbnRlcnZhbERheVRpbWVCdWlsZGVyPWUuSW50ZXJ2YWxCdWlsZGVyPWUuRmxvYXQ2NEJ1aWxkZXI9ZS5GbG9hdDMyQnVpbGRlcj1lLkZsb2F0MTZCdWlsZGVyPWUuRmxvYXRCdWlsZGVyPWUuRml4ZWRTaXplTGlzdEJ1aWxkZXI9ZS5GaXhlZFNpemVCaW5hcnlCdWlsZGVyPWUuRGljdGlvbmFyeUJ1aWxkZXI9ZS5EZWNpbWFsQnVpbGRlcj1lLkRhdGVNaWxsaXNlY29uZEJ1aWxkZXI9ZS5EYXRlRGF5QnVpbGRlcj1lLkRhdGVCdWlsZGVyPWUuQm9vbEJ1aWxkZXI9ZS5CaW5hcnlCdWlsZGVyPWUuQnVpbGRlcj1lLlV0ZjhWZWN0b3I9ZS5TcGFyc2VVbmlvblZlY3Rvcj1lLkRlbnNlVW5pb25WZWN0b3I9ZS5VbmlvblZlY3Rvcj1lLlRpbWVOYW5vc2Vjb25kVmVjdG9yPWUuVGltZU1pY3Jvc2Vjb25kVmVjdG9yPWUuVGltZU1pbGxpc2Vjb25kVmVjdG9yPWUuVGltZVNlY29uZFZlY3Rvcj1lLlRpbWVWZWN0b3I9ZS5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcFNlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcFZlY3Rvcj1lLlN0cnVjdFZlY3Rvcj1lLk51bGxWZWN0b3I9ZS5NYXBWZWN0b3I9ZS5MaXN0VmVjdG9yPWUuVWludDY0VmVjdG9yPWUuVWludDMyVmVjdG9yPWUuVWludDE2VmVjdG9yPWUuVWludDhWZWN0b3I9ZS5JbnQ2NFZlY3Rvcj1lLkludDMyVmVjdG9yPWUuSW50MTZWZWN0b3I9ZS5JbnQ4VmVjdG9yPWUuSW50VmVjdG9yPWUuSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3I9ZS5JbnRlcnZhbERheVRpbWVWZWN0b3I9ZS5JbnRlcnZhbFZlY3Rvcj1lLkZsb2F0NjRWZWN0b3I9ZS5GbG9hdDMyVmVjdG9yPWUuRmxvYXQxNlZlY3Rvcj1lLkZsb2F0VmVjdG9yPWUuRml4ZWRTaXplTGlzdFZlY3Rvcj1lLkZpeGVkU2l6ZUJpbmFyeVZlY3Rvcj1lLkRpY3Rpb25hcnlWZWN0b3I9ZS5EZWNpbWFsVmVjdG9yPWUuRGF0ZU1pbGxpc2Vjb25kVmVjdG9yPWUuRGF0ZURheVZlY3Rvcj1lLkRhdGVWZWN0b3I9ZS5DaHVua2VkPWUuQm9vbFZlY3Rvcj1lLkJpbmFyeVZlY3Rvcj1lLkJhc2VWZWN0b3I9ZS5WZWN0b3I9ZS5GaWVsZD1lLlNjaGVtYT1lLlZpc2l0b3I9ZS5Db2x1bW49ZS5UYWJsZT1lLk1hcF89ZS5GaXhlZFNpemVMaXN0PWUuSW50ZXJ2YWxZZWFyTW9udGg9ZS5JbnRlcnZhbERheVRpbWU9ZS5JbnRlcnZhbD1lLkRpY3Rpb25hcnk9ZS5TcGFyc2VVbmlvbj1lLkRlbnNlVW5pb249ZS5Vbmlvbj1lLlN0cnVjdD1lLkxpc3Q9ZS5EZWNpbWFsPWUuVGltZU5hbm9zZWNvbmQ9ZS5UaW1lTWljcm9zZWNvbmQ9ZS5UaW1lTWlsbGlzZWNvbmQ9ZS5UaW1lU2Vjb25kPWUuVGltZT1lLlRpbWVzdGFtcE5hbm9zZWNvbmQ9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZD1lLlRpbWVzdGFtcE1pbGxpc2Vjb25kPWUuVGltZXN0YW1wU2Vjb25kPWUuVGltZXN0YW1wPWUuRGF0ZU1pbGxpc2Vjb25kPWUuRGF0ZURheT1lLkRhdGVfPWUuRml4ZWRTaXplQmluYXJ5PWUuQmluYXJ5PWUuVXRmOD1lLkZsb2F0NjQ9ZS5GbG9hdDMyPWUuRmxvYXQxNj1lLkZsb2F0PWUuVWludDY0PWUuVWludDMyPWUuVWludDE2PWUuVWludDg9ZS5JbnQ2ND1lLkludDMyPWUuSW50MTY9ZS5JbnQ4PWUuSW50PWUuQm9vbD1lLk51bGw9ZS5EYXRhVHlwZT1lLkRhdGE9ZS5CdWZmZXJUeXBlPWUuVHlwZT1lLk1lc3NhZ2VIZWFkZXI9ZS5NZXRhZGF0YVZlcnNpb249ZS5JbnRlcnZhbFVuaXQ9ZS5Vbmlvbk1vZGU9ZS5QcmVjaXNpb249ZS5UaW1lVW5pdD1lLkRhdGVVbml0PXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj1CZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZVVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLkRhdGVVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuVGltZVVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlByZWNpc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuUHJlY2lzaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvbk1vZGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLlVuaW9uTW9kZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxVbml0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5JbnRlcnZhbFVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1ldGFkYXRhVmVyc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuTWV0YWRhdGFWZXJzaW9ufX0pO3ZhciBuPVRlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlSGVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5NZXNzYWdlSGVhZGVyfX0pO3ZhciBpPWdlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5UeXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCdWZmZXJUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5CdWZmZXJUeXBlfX0pO3ZhciBvPUllO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRhIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5EYXRhfX0pO3ZhciBhPUZlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRhVHlwZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGF0YVR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk51bGwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLk51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkJvb2x9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnQ4fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50MTZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50NjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkludDY0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50OCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVWludDh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVWludDE2fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MzIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlVpbnQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5VaW50NjR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GbG9hdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRmxvYXQxNn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRmxvYXQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRmxvYXQ2NH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRmOH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmluYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5CaW5hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRml4ZWRTaXplQmluYXJ5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlXyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGF0ZV99fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVEYXkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkRhdGVEYXl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVNaWxsaXNlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGF0ZU1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXAiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVzdGFtcH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lc3RhbXBTZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lc3RhbXBNaWxsaXNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVzdGFtcE1pY3Jvc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lc3RhbXBOYW5vc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lU2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVNaWxsaXNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lTWljcm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5UaW1lTmFub3NlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGVjaW1hbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuTGlzdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5TdHJ1Y3R9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5Vbmlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGVuc2VVbmlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BhcnNlVW5pb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlNwYXJzZVVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWN0aW9uYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EaWN0aW9uYXJ5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50ZXJ2YWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsRGF5VGltZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50ZXJ2YWxEYXlUaW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFllYXJNb250aCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50ZXJ2YWxZZWFyTW9udGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3QiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkZpeGVkU2l6ZUxpc3R9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1hcF8iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLk1hcF99fSk7dmFyIHU9X2E7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRhYmxlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5UYWJsZX19KTt2YXIgcz1tYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ29sdW1uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Db2x1bW59fSk7dmFyIGM9ZGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZpc2l0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLlZpc2l0b3J9fSk7dmFyIGw9RG47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNjaGVtYSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuU2NoZW1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaWVsZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuRmllbGR9fSk7dmFyIGY9TWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCYXNlVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5CYXNlVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkJpbmFyeVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuQm9vbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ2h1bmtlZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuQ2h1bmtlZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRGF0ZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRGF0ZURheVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5EYXRlTWlsbGlzZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlY2ltYWxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkRlY2ltYWxWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkRpY3Rpb25hcnlWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRml4ZWRTaXplQmluYXJ5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVMaXN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5GaXhlZFNpemVMaXN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRmxvYXRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkZsb2F0MTZWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MzJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkZsb2F0MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0NjRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkZsb2F0NjRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnRlcnZhbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnRlcnZhbERheVRpbWVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsWWVhck1vbnRoVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnRlcnZhbFllYXJNb250aFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludDhWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MzJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludDMyVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuSW50NjRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5VaW50OFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDE2VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5VaW50MTZWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVWludDMyVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlVpbnQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuTGlzdFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5NYXBWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk51bGxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLk51bGxWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN0cnVjdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuU3RydWN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVzdGFtcFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lc3RhbXBTZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lU2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lTWljcm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lTmFub3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlVuaW9uVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5EZW5zZVVuaW9uVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuU3BhcnNlVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlV0ZjhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlV0ZjhWZWN0b3J9fSk7dmFyIGQ9YmU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJpbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkJpbmFyeUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2xCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5Cb29sQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkRhdGVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlRGF5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRGF0ZURheUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkRhdGVNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlY2ltYWxCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5EZWNpbWFsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGljdGlvbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkRpY3Rpb25hcnlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVCaW5hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GaXhlZFNpemVCaW5hcnlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVMaXN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRml4ZWRTaXplTGlzdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkZsb2F0NjRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludGVydmFsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuSW50ZXJ2YWxEYXlUaW1lQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5JbnRlcnZhbFllYXJNb250aEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5JbnQ4QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5JbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuSW50MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludDY0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5VaW50OEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlVpbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlVpbnQzMkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlVpbnQ2NEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxpc3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5MaXN0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuTWFwQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLk51bGxCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTdHJ1Y3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5TdHJ1Y3RCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lc3RhbXBCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZVNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWNyb3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZU5hbm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkRlbnNlVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlNwYXJzZVVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlV0ZjhCdWlsZGVyfX0pO3ZhciBwPVVvO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCeXRlU3RyZWFtIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC5CeXRlU3RyZWFtfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY0J5dGVTdHJlYW0iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkFzeW5jQnl0ZVN0cmVhbX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNCeXRlUXVldWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkFzeW5jQnl0ZVF1ZXVlfX0pO3ZhciB5PXlvO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuUmVjb3JkQmF0Y2hSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoRmlsZVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuUmVjb3JkQmF0Y2hGaWxlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFN0cmVhbVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jUmVjb3JkQmF0Y2hGaWxlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5Bc3luY1JlY29yZEJhdGNoRmlsZVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNSZWNvcmRCYXRjaFN0cmVhbVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuQXN5bmNSZWNvcmRCYXRjaFN0cmVhbVJlYWRlcn19KTt2YXIgaD13dTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hXcml0ZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoLlJlY29yZEJhdGNoV3JpdGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaEZpbGVXcml0ZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoLlJlY29yZEJhdGNoRmlsZVdyaXRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoLlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaEpTT05Xcml0ZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoLlJlY29yZEJhdGNoSlNPTldyaXRlcn19KTt2YXIgYj1PdTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWVzc2FnZVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuTWVzc2FnZVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNNZXNzYWdlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5Bc3luY01lc3NhZ2VSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkpTT05NZXNzYWdlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5KU09OTWVzc2FnZVJlYWRlcn19KTt2YXIgdj1TdTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWVzc2FnZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuTWVzc2FnZX19KTt2YXIgXz12YTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2giLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfLlJlY29yZEJhdGNofX0pO3ZhciBtPU15O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRhRnJhbWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLkRhdGFGcmFtZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmlsdGVyZWREYXRhRnJhbWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLkZpbHRlcmVkRGF0YUZyYW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDb3VudEJ5UmVzdWx0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5Db3VudEJ5UmVzdWx0fX0pO3ZhciBnPU1yLEI9UW8sVD13ZSxJPUJyLHc9RyxPPUJhLFM9Rnk7ZS5wcmVkaWNhdGU9Uzt2YXIgQT1ocztlLnV0aWw9dC5fX2Fzc2lnbih0Ll9fYXNzaWduKHQuX19hc3NpZ24odC5fX2Fzc2lnbih0Ll9fYXNzaWduKHQuX19hc3NpZ24odC5fX2Fzc2lnbih7fSxnKSxCKSxUKSxJKSx3KSxPKSx7Y29tcGFyZVNjaGVtYXM6QS5jb21wYXJlU2NoZW1hcyxjb21wYXJlRmllbGRzOkEuY29tcGFyZUZpZWxkcyxjb21wYXJlVHlwZXM6QS5jb21wYXJlVHlwZXN9KTt2YXIgRD1HYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNUeXBlZEFycmF5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRC5pc1R5cGVkQXJyYXl9fSl9KFB5KSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5pc1R5cGVkQXJyYXk9ZS5VdGY4QnVpbGRlcj1lLlNwYXJzZVVuaW9uQnVpbGRlcj1lLkRlbnNlVW5pb25CdWlsZGVyPWUuVW5pb25CdWlsZGVyPWUuVGltZU5hbm9zZWNvbmRCdWlsZGVyPWUuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcj1lLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lU2Vjb25kQnVpbGRlcj1lLlRpbWVCdWlsZGVyPWUuVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wQnVpbGRlcj1lLlN0cnVjdEJ1aWxkZXI9ZS5OdWxsQnVpbGRlcj1lLk1hcEJ1aWxkZXI9ZS5MaXN0QnVpbGRlcj1lLlVpbnQ2NEJ1aWxkZXI9ZS5VaW50MzJCdWlsZGVyPWUuVWludDE2QnVpbGRlcj1lLlVpbnQ4QnVpbGRlcj1lLkludDY0QnVpbGRlcj1lLkludDMyQnVpbGRlcj1lLkludDE2QnVpbGRlcj1lLkludDhCdWlsZGVyPWUuSW50QnVpbGRlcj1lLkludGVydmFsWWVhck1vbnRoQnVpbGRlcj1lLkludGVydmFsRGF5VGltZUJ1aWxkZXI9ZS5JbnRlcnZhbEJ1aWxkZXI9ZS5GbG9hdDY0QnVpbGRlcj1lLkZsb2F0MzJCdWlsZGVyPWUuRmxvYXQxNkJ1aWxkZXI9ZS5GbG9hdEJ1aWxkZXI9ZS5GaXhlZFNpemVMaXN0QnVpbGRlcj1lLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXI9ZS5EaWN0aW9uYXJ5QnVpbGRlcj1lLkRlY2ltYWxCdWlsZGVyPWUuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcj1lLkRhdGVEYXlCdWlsZGVyPWUuRGF0ZUJ1aWxkZXI9ZS5Cb29sQnVpbGRlcj1lLkJpbmFyeUJ1aWxkZXI9ZS5CdWlsZGVyPWUudXRpbD1lLnByZWRpY2F0ZT1lLkNvdW50QnlSZXN1bHQ9ZS5GaWx0ZXJlZERhdGFGcmFtZT1lLkRhdGFGcmFtZT1lLlJlY29yZEJhdGNoPWUuTWVzc2FnZT1lLkpTT05NZXNzYWdlUmVhZGVyPWUuQXN5bmNNZXNzYWdlUmVhZGVyPWUuTWVzc2FnZVJlYWRlcj1lLlJlY29yZEJhdGNoSlNPTldyaXRlcj1lLlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyPWUuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyPWUuUmVjb3JkQmF0Y2hXcml0ZXI9ZS5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPWUuQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXI9ZS5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlcj1lLlJlY29yZEJhdGNoRmlsZVJlYWRlcj1lLlJlY29yZEJhdGNoUmVhZGVyPWUuQXN5bmNCeXRlUXVldWU9ZS5Bc3luY0J5dGVTdHJlYW09ZS5CeXRlU3RyZWFtPWUuVXRmOFZlY3Rvcj1lLlNwYXJzZVVuaW9uVmVjdG9yPWUuRGVuc2VVbmlvblZlY3Rvcj1lLlVuaW9uVmVjdG9yPWUuVGltZU5hbm9zZWNvbmRWZWN0b3I9ZS5UaW1lTWljcm9zZWNvbmRWZWN0b3I9ZS5UaW1lTWlsbGlzZWNvbmRWZWN0b3I9ZS5UaW1lU2Vjb25kVmVjdG9yPWUuVGltZVZlY3Rvcj1lLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wU2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wVmVjdG9yPWUuU3RydWN0VmVjdG9yPWUuTnVsbFZlY3Rvcj1lLk1hcFZlY3Rvcj1lLkxpc3RWZWN0b3I9ZS5VaW50NjRWZWN0b3I9ZS5VaW50MzJWZWN0b3I9ZS5VaW50MTZWZWN0b3I9ZS5VaW50OFZlY3Rvcj1lLkludDY0VmVjdG9yPWUuSW50MzJWZWN0b3I9ZS5JbnQxNlZlY3Rvcj1lLkludDhWZWN0b3I9ZS5JbnRWZWN0b3I9ZS5JbnRlcnZhbFllYXJNb250aFZlY3Rvcj1lLkludGVydmFsRGF5VGltZVZlY3Rvcj1lLkludGVydmFsVmVjdG9yPWUuRmxvYXQ2NFZlY3Rvcj1lLkZsb2F0MzJWZWN0b3I9ZS5GbG9hdDE2VmVjdG9yPWUuRmxvYXRWZWN0b3I9ZS5GaXhlZFNpemVMaXN0VmVjdG9yPWUuRml4ZWRTaXplQmluYXJ5VmVjdG9yPWUuRGljdGlvbmFyeVZlY3Rvcj1lLkRlY2ltYWxWZWN0b3I9ZS5EYXRlTWlsbGlzZWNvbmRWZWN0b3I9ZS5EYXRlRGF5VmVjdG9yPWUuRGF0ZVZlY3Rvcj1lLkNodW5rZWQ9ZS5Cb29sVmVjdG9yPWUuQmluYXJ5VmVjdG9yPWUuQmFzZVZlY3Rvcj1lLlZlY3Rvcj1lLlZpc2l0b3I9ZS5GaWVsZD1lLlNjaGVtYT1lLkNvbHVtbj1lLlRhYmxlPWUuTWFwXz1lLkZpeGVkU2l6ZUxpc3Q9ZS5JbnRlcnZhbFllYXJNb250aD1lLkludGVydmFsRGF5VGltZT1lLkludGVydmFsPWUuRGljdGlvbmFyeT1lLlNwYXJzZVVuaW9uPWUuRGVuc2VVbmlvbj1lLlVuaW9uPWUuU3RydWN0PWUuTGlzdD1lLkRlY2ltYWw9ZS5UaW1lTmFub3NlY29uZD1lLlRpbWVNaWNyb3NlY29uZD1lLlRpbWVNaWxsaXNlY29uZD1lLlRpbWVTZWNvbmQ9ZS5UaW1lPWUuVGltZXN0YW1wTmFub3NlY29uZD1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPWUuVGltZXN0YW1wTWlsbGlzZWNvbmQ9ZS5UaW1lc3RhbXBTZWNvbmQ9ZS5UaW1lc3RhbXA9ZS5EYXRlTWlsbGlzZWNvbmQ9ZS5EYXRlRGF5PWUuRGF0ZV89ZS5GaXhlZFNpemVCaW5hcnk9ZS5CaW5hcnk9ZS5VdGY4PWUuRmxvYXQ2ND1lLkZsb2F0MzI9ZS5GbG9hdDE2PWUuRmxvYXQ9ZS5VaW50NjQ9ZS5VaW50MzI9ZS5VaW50MTY9ZS5VaW50OD1lLkludDY0PWUuSW50MzI9ZS5JbnQxNj1lLkludDg9ZS5JbnQ9ZS5Cb29sPWUuTnVsbD1lLkRhdGFUeXBlPWUuRGF0YT1lLkJ1ZmZlclR5cGU9ZS5Vbmlvbk1vZGU9ZS5UeXBlPWUuVGltZVVuaXQ9ZS5QcmVjaXNpb249ZS5NZXRhZGF0YVZlcnNpb249ZS5NZXNzYWdlSGVhZGVyPWUuSW50ZXJ2YWxVbml0PWUuRGF0ZVVuaXQ9dm9pZCAwO3ZhciB0PWJlLHI9eW8sbj13dSxpPXB5LG89dnksYT1JeSx1PUF5O1kuZGVmYXVsdC50b0RPTVN0cmVhbT1pLnRvRE9NU3RyZWFtLHQuQnVpbGRlci50aHJvdWdoRE9NPW8uYnVpbGRlclRocm91Z2hET01TdHJlYW0sci5SZWNvcmRCYXRjaFJlYWRlci50aHJvdWdoRE9NPWEucmVjb3JkQmF0Y2hSZWFkZXJUaHJvdWdoRE9NU3RyZWFtLHIuUmVjb3JkQmF0Y2hGaWxlUmVhZGVyLnRocm91Z2hET009YS5yZWNvcmRCYXRjaFJlYWRlclRocm91Z2hET01TdHJlYW0sci5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlci50aHJvdWdoRE9NPWEucmVjb3JkQmF0Y2hSZWFkZXJUaHJvdWdoRE9NU3RyZWFtLG4uUmVjb3JkQmF0Y2hXcml0ZXIudGhyb3VnaERPTT11LnJlY29yZEJhdGNoV3JpdGVyVGhyb3VnaERPTVN0cmVhbSxuLlJlY29yZEJhdGNoRmlsZVdyaXRlci50aHJvdWdoRE9NPXUucmVjb3JkQmF0Y2hXcml0ZXJUaHJvdWdoRE9NU3RyZWFtLG4uUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXIudGhyb3VnaERPTT11LnJlY29yZEJhdGNoV3JpdGVyVGhyb3VnaERPTVN0cmVhbTt2YXIgcz1QeTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZVVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsVW5pdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWVzc2FnZUhlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTWVzc2FnZUhlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWV0YWRhdGFWZXJzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5NZXRhZGF0YVZlcnNpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlByZWNpc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUHJlY2lzaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZVVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uTW9kZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVW5pb25Nb2RlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCdWZmZXJUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CdWZmZXJUeXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRhIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRhfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRhVHlwZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0YVR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk51bGwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJvb2x9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQ4fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50MTZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50NjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDY0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50OCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDE2fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MzIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50NjR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQxNn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQzMn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQ2NH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVXRmOH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmluYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CaW5hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplQmluYXJ5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlXyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZV99fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVEYXkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVEYXl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVNaWxsaXNlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZU1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXAiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBTZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBNaWxsaXNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE1pY3Jvc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBOYW5vc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lU2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWxsaXNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTWljcm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTmFub3NlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGVjaW1hbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTGlzdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TdHJ1Y3R9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Vbmlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGVuc2VVbmlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BhcnNlVW5pb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlNwYXJzZVVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWN0aW9uYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EaWN0aW9uYXJ5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsRGF5VGltZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWxEYXlUaW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFllYXJNb250aCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWxZZWFyTW9udGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3QiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZpeGVkU2l6ZUxpc3R9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1hcF8iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1hcF99fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRhYmxlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UYWJsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ29sdW1uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Db2x1bW59fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNjaGVtYSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuU2NoZW1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaWVsZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmllbGR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZpc2l0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlZpc2l0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCYXNlVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CYXNlVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJpbmFyeVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQm9vbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ2h1bmtlZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQ2h1bmtlZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZURheVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlTWlsbGlzZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlY2ltYWxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRlY2ltYWxWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRpY3Rpb25hcnlWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplQmluYXJ5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVMaXN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaXhlZFNpemVMaXN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0MTZWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MzJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0NjRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0NjRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbERheVRpbWVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsWWVhck1vbnRoVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbFllYXJNb250aFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDhWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MzJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDMyVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50NjRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50OFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDE2VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50MTZWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDMyVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTGlzdFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5NYXBWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk51bGxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk51bGxWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN0cnVjdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuU3RydWN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBTZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lU2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTWljcm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTmFub3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVuaW9uVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZW5zZVVuaW9uVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuU3BhcnNlVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlV0ZjhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlV0ZjhWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ5dGVTdHJlYW0iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJ5dGVTdHJlYW19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jQnl0ZVN0cmVhbSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQXN5bmNCeXRlU3RyZWFtfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY0J5dGVRdWV1ZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQXN5bmNCeXRlUXVldWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaFJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hGaWxlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaEZpbGVSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkFzeW5jUmVjb3JkQmF0Y2hGaWxlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUmVjb3JkQmF0Y2hXcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoRmlsZVdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFN0cmVhbVdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoSlNPTldyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUmVjb3JkQmF0Y2hKU09OV3JpdGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5NZXNzYWdlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY01lc3NhZ2VSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkFzeW5jTWVzc2FnZVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSlNPTk1lc3NhZ2VSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkpTT05NZXNzYWdlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5NZXNzYWdlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUmVjb3JkQmF0Y2h9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGFGcmFtZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0YUZyYW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaWx0ZXJlZERhdGFGcmFtZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmlsdGVyZWREYXRhRnJhbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkNvdW50QnlSZXN1bHQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkNvdW50QnlSZXN1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByZWRpY2F0ZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMucHJlZGljYXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ1dGlsIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy51dGlsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CaW5hcnlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCb29sQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQm9vbEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVEYXlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZWNpbWFsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGVjaW1hbEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EaWN0aW9uYXJ5QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplQmluYXJ5QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplTGlzdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZpeGVkU2l6ZUxpc3RCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0MTZCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDMyQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQzMkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0NjRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdDY0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsRGF5VGltZUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsRGF5VGltZUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsWWVhck1vbnRoQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ4QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50OEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50MTZCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50NjRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQ2NEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDhCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50MTZCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50NjRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTGlzdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1hcEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1hcEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk51bGxCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5OdWxsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuU3RydWN0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wU2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZVNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVTZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lTWljcm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTmFub3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVOYW5vc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25CdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VbmlvbkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlbnNlVW5pb25CdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZW5zZVVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BhcnNlVW5pb25CdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TcGFyc2VVbmlvbkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlV0ZjhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VdGY4QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNUeXBlZEFycmF5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5pc1R5cGVkQXJyYXl9fSl9KFcpO2NvbnN0IGFoPXtmZXRjaDooZSx0KT0+KGUubWF0Y2goImh0dHBzOi8vZ2l0aHViIikmJihlKz0iP3Jhdz10cnVlIiksZmV0Y2goZSkudGhlbigoZT0+ZS5hcnJheUJ1ZmZlcigpKSkudGhlbigoZT0+e2NvbnN0IHI9Vy5UYWJsZS5mcm9tKGUpLHttZXRhZGF0YTpufT1yLnNjaGVtYTtsZXQgaTtPYmplY3Qua2V5cyh0KS5sZW5ndGgsaT1zaCh0LGUsbik7Y29uc3Qgbz11aChpKTtyZXR1cm5bZChpLFtpXSksbixvXX0pKSkscnVuX3RyYW5zZm9ybXMoZSx0KXtjb25zdCByPXNoKGUsdCksbj11aChyKTtyZXR1cm5bZChyLFtyXSksbl19fTtmdW5jdGlvbiB1aChlKXtjb25zdCB0PVcuVGFibGUuZnJvbShlKSxyPXt9O2Zvcihjb25zdCBuIG9mIHQuc2NoZW1hLmZpZWxkcylpZihuLnR5cGUuZGljdGlvbmFyeSl7cltuLm5hbWVdPW5ldyBNYXA7Y29uc3QgZT10LmdldENvbHVtbihuLm5hbWUpLmRpY3Rpb25hcnkudG9BcnJheSgpO2xldCBpPTA7Zm9yKGNvbnN0IHQgb2YgZSlyW24ubmFtZV0uc2V0KGksdCksaSsrfXJldHVybiByfWZ1bmN0aW9uIHNoKGUsdCxyKXtjb25zdCBuPVcuVGFibGUuZnJvbSh0KSxpPW5ldyBNYXAsbz1uZXcgTWFwO2Zvcihjb25zdFtwLHldb2YgT2JqZWN0LmVudHJpZXMoZSkpaS5zZXQocCxBcnJheShuLmxlbmd0aCkpLG8uc2V0KHAsRnVuY3Rpb24oImRhdHVtIix5KSk7bGV0IGE9MDtmb3IoY29uc3QgcCBvZiBuKXtmb3IoY29uc3RbZSx0XW9mIG8paS5nZXQoZSlbYV09dChwKTthKyt9Y29uc3QgdT17fTtmb3IoY29uc3R7bmFtZTpwLHR5cGVJZDp5fW9mIG4uc2NoZW1hLmZpZWxkcylpZighby5oYXMocCkpe2NvbnN0IGU9bi5nZXRDb2x1bW4ocCk7aWYoIml4Ij09PXApdVtwXT1vaChlKTtlbHNlIGlmKCJ4IiE9PXAmJiJ5IiE9PXB8fDM9PT15KXVbcF09ZTtlbHNle2NvbnN0IHQ9bmV3IEZsb2F0MzJBcnJheShuLmxlbmd0aCksW2ksb109SlNPTi5wYXJzZShyLmdldCgiZXh0ZW50IikpW3BdLGE9by1pO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKXRbcl09ZS5nZXQocikvNjU1MzYqYStpO3VbcF09b2godCl9aWYoZS5kaWN0aW9uYXJ5KXtjb25zdCB0PW5ldyBGbG9hdDMyQXJyYXkobi5sZW5ndGgpO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKXRbcl09ZS5pbmRpY2VzLmdldChyKS0yMDQ3O3VbYCR7cH1fZGljdF9pbmRleGBdPW9oKHQpfX1sZXQgcz1NYXRoLm1heCguLi5uLnNjaGVtYS5kaWN0aW9uYXJpZXMua2V5cygpKTtzPDAmJihzPS0xKTtmb3IoY29uc3RbcCx5XW9mIGkpe2xldCBlOyJzdHJpbmciPT10eXBlb2YgeVswXT8ocysrLGM9eSxsPXMsZT1XLlZlY3Rvci5mcm9tKHt2YWx1ZXM6Yyx0eXBlOm5ldyBXLkRpY3Rpb25hcnkobmV3IFcuVXRmOCxuZXcgVy5VaW50MzIsbCksaGlnaFdhdGVyTWFyazoxZTZ9KSk6ZT1vaCh5KSx1W3BdPWV9dmFyIGMsbDtjb25zdCBmPVcuVGFibGUubmV3KHUpLHtidWZmZXI6ZH09Zi5zZXJpYWxpemUoKTtyZXR1cm4gZH1hKGFoKX0oKTsK",cS="undefined"!=typeof window&&window.Blob&&new Blob([atob(rS)],{type:"text/javascript;charset=utf-8"});function aS(){const e=cS&&(window.URL||window.webkitURL).createObjectURL(cS);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+rS,{type:"module"})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}class uS extends class{}{constructor(){super(),this.max_ix=void 0,this.promise=Promise.resolve(),this.download_state="Unattempted"}get dictionary_lookups(){return this.parent.dictionary_lookups}is_visible(e,t){if(this.min_ix>e)return!1;if(void 0===t)return!1;const n=this.extent;return!(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])}get tileWorker(){return this.parent.tileWorker}get needed_mutations(){this._current_mutations=this._current_mutations||{};const e={};for(const[t,n]of Object.entries(this.mutations)){n!==this._current_mutations[t]&&(e[t]=n)}return e}apply_mutations_once(){const{needed_mutations:e}=this;return 0===Object.keys(e).length?Promise.resolve("complete"):void 0===e?Promise.resolve("deferred"):this.extend_promise((()=>(this._table=void 0,this.tileWorker.run_transforms(e,eS(this._table_buffer,[this._table_buffer])).then((([t,n])=>(this._table_buffer=t,Object.assign(this._current_mutations,e),this.local_dictionary_lookups=n,this.update_master_dictionary_lookups(),"changed"))))))}*points(e,t=!1){if(this.is_visible(1e100,e)){for(const t of this)sS([t.x,t.y],e)&&(yield t);if(0==t){for(const n of this.children)if(n.ready)for(const l of n.points(e,t))sS([l.x,l.y],e)&&(yield l)}else{let n=this.children.map((n=>{const l={t:n,iterator:n.points(e,t),next:void 0};return l.next=l.iterator.next(),l}));for(n=n.filter((e=>e.next.value));n.length>0;){let e=0;for(let t=1;t<n.length;t++)n[t].next.value.ix<n[e].next.value.ix&&(e=t);yield n[e].next.value,n[e].next=n[e].iterator.next(),n[e].next.done&&(n=n.splice(e,1))}}}}forEach(e){for(const t of this.points())void 0!==t&&e(t)}set highest_known_ix(e){(null==this._highest_known_ix||this._highest_known_ix<e)&&(this._highest_known_ix=e,this.parent&&(this.parent.highest_known_ix=e))}get highest_known_ix(){return this._highest_known_ix}get table(){return this._table?this._table:this._table_buffer&&this._table_buffer.byteLength>0?this._table=Lu.Table.from(this._table_buffer):void 0}get min_ix(){return void 0!==this._min_ix?this._min_ix:this.parent?this.parent.max_ix+1:void 0}get schema(){return this.download().then((e=>this._schema))}extend_promise(e){return this.promise=this.promise.then((()=>e())),this.promise}get ready(){return this._table_buffer&&this._table_buffer.byteLength>0}get _schema(){if(this.__schema)return this.__schema;const e=[];for(const t of this.table.schema.fields){const{name:n,type:l,nullable:i}=t;l&&5==l.typeId&&e.push({name:n,type:"string",extent:[]}),l&&l.dictionary&&e.push({name:n,type:"dictionary",keys:this.table.getColumn(n).data.dictionary.toArray(),extent:[-2047,this.table.getColumn(n).data.dictionary.length-2047]}),l&&8==l.typeId&&e.push({name:n,type:"date",extent:We(this.table.getColumn(n).data.values)}),l&&3==l.typeId&&e.push({name:n,type:"float",extent:We(this.table.getColumn(n).data.values)})}return this.__schema=e,e}*yielder(){for(const e of this.table)e&&(yield e)}update_master_dictionary_lookups(){const e=this.local_dictionary_lookups;for(const[t,n]of Object.entries(e)){this.dictionary_lookups[t]=this.dictionary_lookups[t]||new Map;const e=this.dictionary_lookups[t];let l=0;for(const[i,r]of n.entries())e.has(r)||(l=e.size/2,e.set(l,r),e.set(r,l)),this.dictionary_lookups[t]}this.dictionary_lookups}get theoretical_extent(){const e=this.root_extent,[t,n,l]=this.codes,i=(e.x[1]-e.x[0])/2**t,r=(e.y[1]-e.y[0])/2**t;return{x:[e.x[0]+n*i,e.x[0]+(n+1)*i],y:[e.y[0]+l*r,e.y[0]+(l+1)*r]}}get extent(){return this._extent?this._extent:this.theoretical_extent}get mutations(){return this.parent.mutations}[Symbol.iterator](){return this.yielder()}count(...e){const t=[];for(const l of e)t.push(this.table.getColumn(l));const n=new iS;for(let l=0;l<this.table.length;l++){const e=t.map((e=>e.get(l)));n.inc(...e)}return n}get root_extent(){return this.parent.root_extent}}class oS extends uS{constructor(e,t,n,l){super(),this._already_called=!1,this.url=e,this.parent=n,void 0===n&&(this._mutations=l.mutate),this.key=t;const[i,r,c]=t.split("/").map((e=>parseInt(e)));this.codes=[i,r,c],this.class=new.target}download_to_depth(e,t={x:[-1,1],y:[-1,1]},n=!1){if(this.max_ix<e&&this.is_visible(e,t)&&!n){const n=this.children.map((e=>e.download()));if(this._children)for(const l of this._children)n.concat(l.download_to_depth(e,t,!1));return Promise.all(n)}return this.download().then((()=>{if(this.max_ix<e&&this.is_visible(e,t)&&n){const n=this.children.map((n=>n.download_to_depth(e,t)));return Promise.all(n).then((e=>this))}return this}))}download(){if(this._download)return this._download;if(this._already_called)throw"Illegally attempting to download twice";this._already_called=!0;const e=this.url.match("//")?`${this.url}/${this.key}.feather`:`${window.location.origin}/${this.url}/${this.key}.feather`;return this.download_state="In progress",this._download=this.tileWorker.fetch(e,this.needed_mutations).catch((e=>{throw this.download_state="Errored",e})).then((([e,t,n])=>(this.download_state="Complete",this._current_mutations=JSON.parse(JSON.stringify(this.needed_mutations)),this._table_buffer=e,this._table=Lu.Table.from(e),this._extent=JSON.parse(t.get("extent")),this.child_locations=JSON.parse(t.get("children")),this._min_ix=this.table.getColumn("ix").get(0),this.max_ix=0+this.table.getColumn("ix").get(this.table.length-1),this.highest_known_ix=this.max_ix,this._current_mutations=JSON.parse(JSON.stringify(this.needed_mutations)),this.local_dictionary_lookups=n,this.update_master_dictionary_lookups(),this.table))),this._download}get children(){if(void 0!==this._children)return this._children;if("Complete"!==this.download_state)return[];this._children=[];for(const e of this.child_locations)this._children.push(new this.class(this.url,e,this));return this._children}}class dS extends oS{constructor(e,t={}){let n;if(e.match(/(\/[0-9]+){3}/)){const t=e.split("/");e=t.slice(0,-3).join("/"),n=t.slice(-3).join("/")}else n="0/0/0";super(e,n,void 0,t),this.extend_promise((()=>this.download())),this._min_ix=1}get root_extent(){if(this._extent)return this._extent}log_tiles(e=1,t=(e=>`${e.children.length}`)){const n=[],l=Ke(2**e);for(const i of l){n[i]=[];for(const e of l)n[i][e]=" ";n[i][2**e]="|"}n[2**e]=Array(2**e+1).fill("-"),this.visit((l=>{const[i,r,c]=l.key.split("/").map((e=>+e));i===e&&(n[c][r]="_",n[c][r]=t(l))}))}download_most_needed_tiles(e,t,n=4){this._download_queue||(this._download_queue=new Set);const l=this._download_queue;if(l.size>=n)return;const i=[];for(this.visit((t=>{const n=function(e,t){const n=e.extent;n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||(n.y[1],t.y[0]);const l={x:[He([t.x[0],n.x[0]]),Ie([t.x[1],n.x[1]])],y:[He([t.y[0],n.y[0]]),Ie([t.y[1],n.y[1]])]},{x:i,y:r}=l;let c=0;i[0]>i[1]&&(c-=1);r[0]>r[1]&&(c-=2);if(c<0)return c;return mS(l)/mS(t)}(t,e);i.push([n,t,e,t.download_state])})),i.sort(((e,t)=>e[0]-t[0]));i.length&&l.size<n;){const[e,n,r,c]=i.pop();n.min_ix>t||e<0||"Unattempted"===n.download_state&&(l.add(n.key),n.download().catch((e=>{throw console.warn("Error on",n.key),l.delete(n.key),e})).then((()=>l.delete(n.key))))}}get children(){if(void 0!==this._children)return this._children;if("Complete"!==this.download_state)return[];this._children=[];for(const e of this.child_locations)this._children.push(new oS(this.url,e,this));return this._children}get mutations(){return this._mutations?this._mutations:this._mutations=new Map}findPoint(e){return this.map((e=>e)).filter((t=>t.table&&t.min_ix<=e&&t.max_ix>=e)).map((t=>{const n=Ve(t.table.getColumn("ix").data.values,e);return t.table.get(n)&&t.table.get(n).ix===e?t.table.get(n):null})).filter((e=>e))}apply_mutations(e,t=!1){Object.assign(this.mutations,e);const n=this.map((t=>t.apply_mutations_once(e)));return t?n:Promise.all(n)}get dictionary_lookups(){return this._dictionary_lookups?this._dictionary_lookups:this._dictionary_lookups={}}get tileWorker(){if(void 0!==this._tileWorkers)return this._tileWorkers.unshift(this._tileWorkers.pop()),this._tileWorkers[0];this._tileWorkers=[];for(const e of Ke(4))this._tileWorkers.push(OR(new aS));return this._tileWorkers[0]}map(e,t=!1){const n=[];return this.visit((t=>{n.push(e(t))}),t=t),n}visit(e,t=!1,n=(()=>!0)){const l=[this],i=[];let r;for(;r=l.shift();)t?i.push(r):e(r),n(r)&&"Complete"==r.download_state&&l.push(...r.children);if(t)for(;r=i.pop();)e(r)}}function sS(e,t){return void 0===t||e[0]<t.x[1]&&e[0]>t.x[0]&&e[1]<t.y[1]&&e[1]>t.y[0]}function mS(e){return(e.x[1]-e.x[0])*(e.y[1]-e.y[0])}const bS=[{id:"canvas-2d-background",nodetype:"canvas"},{id:"webgl-canvas",nodetype:"canvas"},{id:"canvas-2d",nodetype:"canvas"},{id:"deepscatter-svg",nodetype:"svg"}];module.exports=class{constructor(e,t,n){this.bound=!1,void 0!==e&&this.bind(e,t,n),this.d3={select:Ze}}bind(e,t,n){if(this.width=t,this.height=n,this.div=Ze(e).selectAll("div.deepscatter_container").data([1]).join("div").attr("class","deepscatter_container").style("position","absolute"),this.div.empty())throw console.error(e),"Must pass a valid div selector";this.elements=[],this.prefs={zoom_balance:.35,duration:2,point_size:1,alpha:.4,click_function:"alert(`You clicked on a point with data ${JSON.stringify(datum)}`)"};for(const l of bS){const e=this.div.append("div").attr("id",`container-for-${l.id}`).style("position","absolute").style("top",0).style("left",0).style("pointer-events","deepscatter-svg"===l.id?"auto":"none");e.append(l.nodetype).attr("id",l.id).attr("width",t||window.innerWidth).attr("height",n||window.innerHeight),this.elements.push(e)}this.bound=!0}async reinitialize(){const{prefs:e}=this;this._root=new dS(this.source_url,e),await this._root.download(),this._renderer=new qa("#container-for-webgl-canvas",this._root,this),this._zoom=new Or("#deepscatter-svg",this.prefs),this._zoom.attach_tiles(this._root),this._zoom.attach_renderer("regl",this._renderer),this._zoom.initialize_zoom();const t=Ze("#container-for-canvas-2d-background").select("canvas").node().getContext("2d");return t.fillStyle=e.background_color||"rgba(133, 133, 111, .8)",t.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),this._renderer.initialize(),this._root.promise}visualize_tiles(){const e=this,t=e.elements[2].selectAll("canvas").node().getContext("2d");t.clearRect(0,0,1e4,1e4);const{x_:n,y_:l}=e._zoom.scales();t.strokeStyle="#888888";const i=e._root.map((e=>e));for(const r of Ke(13))setTimeout((()=>{for(const e of i){if(e.codes[0]!=r)continue;if(!e.extent)continue;const[i,c]=e.extent.x.map((e=>n(e))),[a,u]=e.extent.y.map((e=>l(e))),o=e.codes[0];t.lineWidth=8/Math.sqrt(o),t.globalAlpha=.33,t.strokeRect(i,a,c-i,u-a),"Unattempted"!==e.download_state&&t.fillRect(i,a,c-i,u-a),t.globalAlpha=1}}),400*r)}update_prefs(e){e.encoding&&e.encoding.alpha&&(console.warn("Setting alpha through encoding--deprecated."),e.alpha=e.encoding.alpha),e.jitter&&(console.warn("Setting jitter type through base argument--deprectated"),"number"==typeof e.encoding.jitter_radius&&(e.encoding.jitter_radius={constant:e.encoding.jitter_radius}),e.encoding.jitter_radius.method=e.jitter);for(const t in["jitter","alpha","max_points"])e[`last_${t}`]=this.prefs[t]||void 0;if(this.prefs.encoding&&e.encoding)for(const t of Object.keys(this.prefs.encoding))e.encoding[t]&&(this.prefs.encoding[t]=e.encoding[t]);Zn(this.prefs,e)}set tooltip_html(e){this._tooltip_html=e,this._zoom._tooltip_html=e}get tooltip_html(){return this._tooltip_html}async plotAPI(e={}){if(null==e)return Promise.resolve(1);if(this.update_prefs(e),e.lookup_tables){const t=[];this.lookup_promises=this.lookup_promises||new Map;for(const n of e.lookup_tables)this.lookup_promises.get(n)||t.push(this.load_lookup_table(n));await Promise.all(t)}e.source_url&&e.source_url!==this.source_url&&(this.source_url=e.source_url,await this.reinitialize()),e.basemap_gleofeather&&(e.polygons=[{file:e.basemap_gleofeather}]),await this._root.promise,e.mutate&&this._root.apply_mutations(e.mutate);const{width:t,height:n}=this;this.update_prefs(e),void 0!==e.zoom&&(null===e.zoom?(this._zoom.zoom_to(1,t/2,n/2),e.zoom=void 0):e.zoom.bbox&&this._zoom.zoom_to_bbox(e.zoom.bbox,e.duration)),this._renderer.most_recent_restart=Date.now(),this._renderer.aes.apply_encoding(e.encoding),this._renderer.apply_webgl_scale&&this._renderer.apply_webgl_scale(e),this._renderer.reglframe&&(this._renderer.reglframe.cancel(),this._renderer.reglframe=void 0),this._renderer.reglframe=this._renderer.regl.frame((()=>{this._renderer.tick("Basic")})),this._zoom.restart_timer(6e4)}async root_table(){return!!this._root&&this._root.table}get query(){const e=JSON.parse(JSON.stringify(this.prefs));return e.zoom={bbox:this._renderer.zoom.current_corners()},e}top_n_points(e=20){const{_root:t,_renderer:n}=this,l=n.zoom.current_corners(),i=[],r=n.aes.filter.current.get_function(),c=n.aes.filter2.current.get_function();for(const a of t.points(l,!0))if(r(a)&&c(a)&&i.push(a),i.length>=e)return i;return i}drawContours(e,t){const n=(t||Ze("body")).select("#canvas-2d").node().getContext("2d");for(const l of e){n.fillStyle="rgba(25, 25, 29, 1)",n.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),n.strokeStyle="#8a0303",n.fillStyle="rgba(30, 30, 34, 1)",n.lineWidth=He([.45,.25*Math.exp(Math.log(this._zoom.transform.k/2))]);const e=ln(un().scale(this._zoom.transform.k).translate([this._zoom.transform.x,this._zoom.transform.y]),n);n.beginPath(),e(l),n.fill()}}contours(e){const t=this._renderer.calculate_contours(e),{x:n,y:l,x_:i,y_:r}=this._zoom.scales();!function e(t){if(t){if(t.coordinates)return e(t.coordinates);if(t.length){if(t[0].length)return t.map(e);t[0]=n(i.invert(t[0])),t[1]=l(r.invert(t[1]))}}}(t),this.drawContours(t)}};
